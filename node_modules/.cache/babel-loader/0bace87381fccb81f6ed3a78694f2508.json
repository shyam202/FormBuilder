{"ast":null,"code":"'use strict';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _Component = _interopRequireDefault(require(\"../component/Component\"));\n\nvar _NestedDataComponent2 = _interopRequireDefault(require(\"../nesteddata/NestedDataComponent\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar NestedArrayComponent = /*#__PURE__*/function (_NestedDataComponent) {\n  _inherits(NestedArrayComponent, _NestedDataComponent);\n\n  var _super = _createSuper(NestedArrayComponent);\n\n  function NestedArrayComponent() {\n    _classCallCheck(this, NestedArrayComponent);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NestedArrayComponent, [{\n    key: \"componentContext\",\n    value: function componentContext(component) {\n      return this.iteratableRows[component.rowIndex].data;\n    }\n  }, {\n    key: \"iteratableRows\",\n    get: function get() {\n      throw new Error('Getter #iteratableRows() is not implemented');\n    }\n  }, {\n    key: \"rowIndex\",\n    get: function get() {\n      return _get(_getPrototypeOf(NestedArrayComponent.prototype), \"rowIndex\", this);\n    },\n    set: function set(value) {\n      this._rowIndex = value;\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      _get(_getPrototypeOf(NestedArrayComponent.prototype), \"init\", this).call(this);\n\n      this.prevHasAddButton = this.hasAddButton();\n    }\n  }, {\n    key: \"checkAddButtonChanged\",\n    value: function checkAddButtonChanged() {\n      var isAddButton = this.hasAddButton();\n\n      if (isAddButton !== this.prevHasAddButton) {\n        this.prevHasAddButton = isAddButton;\n        this.redraw();\n      }\n    }\n  }, {\n    key: \"checkData\",\n    value: function checkData(data, flags, row) {\n      data = data || this.rootValue;\n      flags = flags || {};\n      row = row || this.data;\n      this.checkAddButtonChanged();\n      return this.checkRows('checkData', data, flags, _Component.default.prototype.checkData.call(this, data, flags, row));\n    }\n  }, {\n    key: \"checkRows\",\n    value: function checkRows(method, data, opts, defaultValue, silentCheck) {\n      var _this = this;\n\n      return this.iteratableRows.reduce(function (valid, row, rowIndex) {\n        if (!(opts !== null && opts !== void 0 && opts.rowIndex) || (opts === null || opts === void 0 ? void 0 : opts.rowIndex) === rowIndex) {\n          return _this.checkRow(method, data, opts, row.data, row.components, silentCheck) && valid;\n        } else {\n          return valid;\n        }\n      }, defaultValue);\n    }\n  }, {\n    key: \"checkRow\",\n    value: function checkRow(method, data, opts, row, components, silentCheck) {\n      if (opts !== null && opts !== void 0 && opts.isolateRow) {\n        silentCheck = true;\n        opts.noRefresh = true;\n      }\n\n      var valid = _lodash.default.reduce(components, function (valid, component) {\n        return component[method](data, opts, row, silentCheck) && valid;\n      }, true);\n\n      if (opts !== null && opts !== void 0 && opts.noRefresh) {\n        delete opts.noRefresh;\n      }\n\n      return valid;\n    }\n  }, {\n    key: \"hasAddButton\",\n    value: function hasAddButton() {\n      var maxLength = _lodash.default.get(this.component, 'validate.maxLength');\n\n      var conditionalAddButton = _lodash.default.get(this.component, 'conditionalAddButton');\n\n      return !this.component.disableAddingRemovingRows && !this.options.readOnly && !this.disabled && this.fullMode && !this.options.preview && (!maxLength || this.iteratableRows.length < maxLength) && (!conditionalAddButton || this.evaluate(conditionalAddButton, {\n        value: this.dataValue\n      }, 'show'));\n    }\n  }, {\n    key: \"getComponent\",\n    value: function getComponent(path, fn, originalPath) {\n      path = Array.isArray(path) ? path : [path];\n      var key = path.shift();\n      var remainingPath = path;\n      var result = [];\n      var possibleComp = null;\n      var comp = null;\n      var rowIndex = null;\n\n      if (_lodash.default.isNumber(key)) {\n        rowIndex = key;\n        key = remainingPath.shift();\n      }\n\n      if (!_lodash.default.isString(key)) {\n        return result;\n      }\n\n      this.everyComponent(function (component, components) {\n        if (component.component.key === key) {\n          possibleComp = component;\n\n          if (remainingPath.length > 0 && 'getComponent' in component) {\n            comp = component.getComponent(remainingPath, fn, originalPath);\n          } else if (fn) {\n            fn(component, components);\n          }\n\n          result = rowIndex !== null ? comp : result.concat(comp || possibleComp);\n        }\n      }, rowIndex);\n\n      if ((!result || result.length === 0) && possibleComp) {\n        result = rowIndex !== null ? possibleComp : [possibleComp];\n      }\n\n      return result;\n    }\n  }, {\n    key: \"everyComponent\",\n    value: function everyComponent(fn, rowIndex, options) {\n      var _options;\n\n      if (_lodash.default.isObject(rowIndex)) {\n        options = rowIndex;\n        rowIndex = null;\n      }\n\n      if ((_options = options) !== null && _options !== void 0 && _options.email) {\n        return;\n      }\n\n      var components = this.getComponents(rowIndex);\n\n      _lodash.default.each(components, function (component, index) {\n        if (fn(component, components, index) === false) {\n          return false;\n        }\n\n        if (typeof component.everyComponent === 'function') {\n          if (component.everyComponent(fn, options) === false) {\n            return false;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"getValueAsString\",\n    value: function getValueAsString(value, options) {\n      if (options !== null && options !== void 0 && options.email) {\n        var _this$component$compo;\n\n        var result = \"\\n        <table border=\\\"1\\\" style=\\\"width:100%\\\">\\n          <thead>\\n            <tr>\\n      \";\n        (_this$component$compo = this.component.components) === null || _this$component$compo === void 0 ? void 0 : _this$component$compo.forEach(function (component) {\n          var label = component.label || component.key;\n          result += \"<th style=\\\"padding: 5px 10px;\\\">\".concat(label, \"</th>\");\n        });\n        result += \"\\n          </tr>\\n        </thead>\\n        <tbody>\\n      \";\n        this.iteratableRows.forEach(function (_ref) {\n          var components = _ref.components;\n          result += '<tr>';\n\n          _lodash.default.each(components, function (component) {\n            result += '<td style=\"padding:5px 10px;\">';\n\n            if (component.isInputComponent && component.visible && !component.skipInEmail) {\n              result += component.getView(component.dataValue, options);\n            }\n\n            result += '</td>';\n          });\n\n          result += '</tr>';\n        });\n        result += \"\\n          </tbody>\\n        </table>\\n      \";\n        return result;\n      }\n\n      if (!value || !value.length) {\n        return '';\n      }\n\n      return _get(_getPrototypeOf(NestedArrayComponent.prototype), \"getValueAsString\", this).call(this, value, options);\n    }\n  }, {\n    key: \"getComponents\",\n    value: function getComponents(rowIndex) {\n      if (rowIndex) {\n        if (!this.iteratableRows[rowIndex]) {\n          return [];\n        }\n\n        return this.iteratableRows[rowIndex].components;\n      }\n\n      return _get(_getPrototypeOf(NestedArrayComponent.prototype), \"getComponents\", this).call(this);\n    }\n  }], [{\n    key: \"schema\",\n    value: function schema() {\n      for (var _len = arguments.length, extend = new Array(_len), _key = 0; _key < _len; _key++) {\n        extend[_key] = arguments[_key];\n      }\n\n      return _NestedDataComponent2.default.schema.apply(_NestedDataComponent2.default, [{\n        disableAddingRemovingRows: false\n      }].concat(extend));\n    }\n  }]);\n\n  return NestedArrayComponent;\n}(_NestedDataComponent2.default);\n\nexports.default = NestedArrayComponent;","map":{"version":3,"sources":["C:/Users/ShyamLakhani/Desktop/my-app/node_modules/formiojs/components/_classes/nestedarray/NestedArrayComponent.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","_lodash","_interopRequireDefault","require","_Component","_NestedDataComponent2","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","call","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","NestedArrayComponent","_NestedDataComponent","_super","componentContext","component","iteratableRows","rowIndex","data","Error","set","_rowIndex","init","prevHasAddButton","hasAddButton","checkAddButtonChanged","isAddButton","redraw","checkData","flags","row","rootValue","checkRows","method","opts","defaultValue","silentCheck","_this","reduce","valid","checkRow","components","isolateRow","noRefresh","maxLength","conditionalAddButton","disableAddingRemovingRows","options","readOnly","disabled","fullMode","preview","evaluate","dataValue","getComponent","path","fn","originalPath","Array","isArray","shift","remainingPath","possibleComp","comp","isNumber","isString","everyComponent","concat","_options","isObject","email","getComponents","each","index","getValueAsString","_this$component$compo","forEach","label","_ref","isInputComponent","visible","skipInEmail","getView","schema","_len","extend","_key"],"mappings":"AAAA;;AAEA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE;;AAA2B,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;AAAEH,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAO,OAAOA,GAAd;AAAoB,KAAtD;AAAyD,GAApI,MAA0I;AAAED,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAOA,GAAG,IAAI,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;AAA+H,KAAjK;AAAoK;;AAAC,SAAOD,OAAO,CAACC,GAAD,CAAd;AAAsB;;AAsB1XK,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AAQA,IAAIC,OAAO,GAAGC,sBAAsB,CAACC,OAAO,CAAC,QAAD,CAAR,CAApC;;AAEA,IAAIC,UAAU,GAAGF,sBAAsB,CAACC,OAAO,CAAC,wBAAD,CAAR,CAAvC;;AAEA,IAAIE,qBAAqB,GAAGH,sBAAsB,CAACC,OAAO,CAAC,mCAAD,CAAR,CAAlD;;AAEA,SAASD,sBAAT,CAAgCX,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACe,UAAX,GAAwBf,GAAxB,GAA8B;AAAES,IAAAA,OAAO,EAAET;AAAX,GAArC;AAAwD;;AAE/F,SAASgB,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAE,QAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AAA2BE,IAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,IAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4BvB,IAAAA,MAAM,CAACC,cAAP,CAAsBe,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;AAA4D;AAAE;;AAE7T,SAASK,YAAT,CAAsBZ,WAAtB,EAAmCa,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBX,iBAAiB,CAACF,WAAW,CAACd,SAAb,EAAwB2B,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBZ,iBAAiB,CAACF,WAAD,EAAcc,WAAd,CAAjB;AAA6C,SAAOd,WAAP;AAAqB;;AAEvN,SAASe,IAAT,CAAcZ,MAAd,EAAsBa,QAAtB,EAAgCC,QAAhC,EAA0C;AAAE,MAAI,OAAOC,OAAP,KAAmB,WAAnB,IAAkCA,OAAO,CAACC,GAA9C,EAAmD;AAAEJ,IAAAA,IAAI,GAAGG,OAAO,CAACC,GAAf;AAAqB,GAA1E,MAAgF;AAAEJ,IAAAA,IAAI,GAAG,SAASA,IAAT,CAAcZ,MAAd,EAAsBa,QAAtB,EAAgCC,QAAhC,EAA0C;AAAE,UAAIG,IAAI,GAAGC,cAAc,CAAClB,MAAD,EAASa,QAAT,CAAzB;;AAA6C,UAAI,CAACI,IAAL,EAAW;AAAQ,UAAIE,IAAI,GAAGnC,MAAM,CAACoC,wBAAP,CAAgCH,IAAhC,EAAsCJ,QAAtC,CAAX;;AAA4D,UAAIM,IAAI,CAACH,GAAT,EAAc;AAAE,eAAOG,IAAI,CAACH,GAAL,CAASK,IAAT,CAAcP,QAAd,CAAP;AAAiC;;AAAC,aAAOK,IAAI,CAAChC,KAAZ;AAAoB,KAArP;AAAwP;;AAAC,SAAOyB,IAAI,CAACZ,MAAD,EAASa,QAAT,EAAmBC,QAAQ,IAAId,MAA/B,CAAX;AAAoD;;AAE3a,SAASkB,cAAT,CAAwBI,MAAxB,EAAgCT,QAAhC,EAA0C;AAAE,SAAO,CAAC7B,MAAM,CAACD,SAAP,CAAiBwC,cAAjB,CAAgCF,IAAhC,CAAqCC,MAArC,EAA6CT,QAA7C,CAAR,EAAgE;AAAES,IAAAA,MAAM,GAAGE,eAAe,CAACF,MAAD,CAAxB;AAAkC,QAAIA,MAAM,KAAK,IAAf,EAAqB;AAAQ;;AAAC,SAAOA,MAAP;AAAgB;;AAE9L,SAASG,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAI7B,SAAJ,CAAc,oDAAd,CAAN;AAA4E;;AAAC4B,EAAAA,QAAQ,CAAC3C,SAAT,GAAqBC,MAAM,CAAC4C,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAAC5C,SAAvC,EAAkD;AAAED,IAAAA,WAAW,EAAE;AAAEK,MAAAA,KAAK,EAAEuC,QAAT;AAAmBnB,MAAAA,QAAQ,EAAE,IAA7B;AAAmCD,MAAAA,YAAY,EAAE;AAAjD;AAAf,GAAlD,CAArB;AAAkJ,MAAIqB,UAAJ,EAAgBE,eAAe,CAACH,QAAD,EAAWC,UAAX,CAAf;AAAwC;;AAEjY,SAASE,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;AAAEF,EAAAA,eAAe,GAAG7C,MAAM,CAACgD,cAAP,IAAyB,SAASH,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;AAAED,IAAAA,CAAC,CAACG,SAAF,GAAcF,CAAd;AAAiB,WAAOD,CAAP;AAAW,GAAxG;;AAA0G,SAAOD,eAAe,CAACC,CAAD,EAAIC,CAAJ,CAAtB;AAA+B;;AAE1K,SAASG,YAAT,CAAsBC,OAAtB,EAA+B;AAAE,MAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AAA6D,SAAO,SAASC,oBAAT,GAAgC;AAAE,QAAIC,KAAK,GAAGf,eAAe,CAACW,OAAD,CAA3B;AAAA,QAAsCK,MAAtC;;AAA8C,QAAIJ,yBAAJ,EAA+B;AAAE,UAAIK,SAAS,GAAGjB,eAAe,CAAC,IAAD,CAAf,CAAsB1C,WAAtC;;AAAmD0D,MAAAA,MAAM,GAAGzB,OAAO,CAAC2B,SAAR,CAAkBH,KAAlB,EAAyBI,SAAzB,EAAoCF,SAApC,CAAT;AAA0D,KAA9I,MAAoJ;AAAED,MAAAA,MAAM,GAAGD,KAAK,CAACK,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAT;AAAwC;;AAAC,WAAOE,0BAA0B,CAAC,IAAD,EAAOL,MAAP,CAAjC;AAAkD,GAAxU;AAA2U;;AAEza,SAASK,0BAAT,CAAoCC,IAApC,EAA0CzB,IAA1C,EAAgD;AAAE,MAAIA,IAAI,KAAK3C,OAAO,CAAC2C,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAOA,IAAP,KAAgB,UAAnD,CAAR,EAAwE;AAAE,WAAOA,IAAP;AAAc;;AAAC,SAAO0B,sBAAsB,CAACD,IAAD,CAA7B;AAAsC;;AAEjL,SAASC,sBAAT,CAAgCD,IAAhC,EAAsC;AAAE,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAE,UAAM,IAAIE,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOF,IAAP;AAAc;;AAEtK,SAAST,yBAAT,GAAqC;AAAE,MAAI,OAAOtB,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAAC2B,SAA/C,EAA0D,OAAO,KAAP;AAAc,MAAI3B,OAAO,CAAC2B,SAAR,CAAkBO,IAAtB,EAA4B,OAAO,KAAP;AAAc,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAAa,MAAI;AAAEC,IAAAA,OAAO,CAACpE,SAAR,CAAkBqE,OAAlB,CAA0B/B,IAA1B,CAA+BN,OAAO,CAAC2B,SAAR,CAAkBS,OAAlB,EAA2B,EAA3B,EAA+B,YAAY,CAAE,CAA7C,CAA/B;AAAgF,WAAO,IAAP;AAAc,GAApG,CAAqG,OAAOE,CAAP,EAAU;AAAE,WAAO,KAAP;AAAe;AAAE;;AAEzU,SAAS7B,eAAT,CAAyBM,CAAzB,EAA4B;AAAEN,EAAAA,eAAe,GAAGxC,MAAM,CAACgD,cAAP,GAAwBhD,MAAM,CAACsE,cAA/B,GAAgD,SAAS9B,eAAT,CAAyBM,CAAzB,EAA4B;AAAE,WAAOA,CAAC,CAACG,SAAF,IAAejD,MAAM,CAACsE,cAAP,CAAsBxB,CAAtB,CAAtB;AAAiD,GAAjJ;AAAmJ,SAAON,eAAe,CAACM,CAAD,CAAtB;AAA4B;;AAE7M,IAAIyB,oBAAoB,GAAG,aAAa,UAAUC,oBAAV,EAAgC;AACtE/B,EAAAA,SAAS,CAAC8B,oBAAD,EAAuBC,oBAAvB,CAAT;;AAEA,MAAIC,MAAM,GAAGvB,YAAY,CAACqB,oBAAD,CAAzB;;AAEA,WAASA,oBAAT,GAAgC;AAC9B5D,IAAAA,eAAe,CAAC,IAAD,EAAO4D,oBAAP,CAAf;;AAEA,WAAOE,MAAM,CAACb,KAAP,CAAa,IAAb,EAAmBD,SAAnB,CAAP;AACD;;AAEDlC,EAAAA,YAAY,CAAC8C,oBAAD,EAAuB,CAAC;AAClC/C,IAAAA,GAAG,EAAE,kBAD6B;AAElCrB,IAAAA,KAAK,EAAE,SAASuE,gBAAT,CAA0BC,SAA1B,EAAqC;AAC1C,aAAO,KAAKC,cAAL,CAAoBD,SAAS,CAACE,QAA9B,EAAwCC,IAA/C;AACD;AAJiC,GAAD,EAKhC;AACDtD,IAAAA,GAAG,EAAE,gBADJ;AAEDQ,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,YAAM,IAAI+C,KAAJ,CAAU,6CAAV,CAAN;AACD;AAJA,GALgC,EAUhC;AACDvD,IAAAA,GAAG,EAAE,UADJ;AAEDQ,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOJ,IAAI,CAACY,eAAe,CAAC+B,oBAAoB,CAACxE,SAAtB,CAAhB,EAAkD,UAAlD,EAA8D,IAA9D,CAAX;AACD,KAJA;AAKDiF,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAa7E,KAAb,EAAoB;AACvB,WAAK8E,SAAL,GAAiB9E,KAAjB;AACD;AAPA,GAVgC,EAkBhC;AACDqB,IAAAA,GAAG,EAAE,MADJ;AAEDrB,IAAAA,KAAK,EAAE,SAAS+E,IAAT,GAAgB;AACrBtD,MAAAA,IAAI,CAACY,eAAe,CAAC+B,oBAAoB,CAACxE,SAAtB,CAAhB,EAAkD,MAAlD,EAA0D,IAA1D,CAAJ,CAAoEsC,IAApE,CAAyE,IAAzE;;AAEA,WAAK8C,gBAAL,GAAwB,KAAKC,YAAL,EAAxB;AACD;AANA,GAlBgC,EAyBhC;AACD5D,IAAAA,GAAG,EAAE,uBADJ;AAEDrB,IAAAA,KAAK,EAAE,SAASkF,qBAAT,GAAiC;AACtC,UAAIC,WAAW,GAAG,KAAKF,YAAL,EAAlB;;AAEA,UAAIE,WAAW,KAAK,KAAKH,gBAAzB,EAA2C;AACzC,aAAKA,gBAAL,GAAwBG,WAAxB;AACA,aAAKC,MAAL;AACD;AACF;AATA,GAzBgC,EAmChC;AACD/D,IAAAA,GAAG,EAAE,WADJ;AAEDrB,IAAAA,KAAK,EAAE,SAASqF,SAAT,CAAmBV,IAAnB,EAAyBW,KAAzB,EAAgCC,GAAhC,EAAqC;AAC1CZ,MAAAA,IAAI,GAAGA,IAAI,IAAI,KAAKa,SAApB;AACAF,MAAAA,KAAK,GAAGA,KAAK,IAAI,EAAjB;AACAC,MAAAA,GAAG,GAAGA,GAAG,IAAI,KAAKZ,IAAlB;AACA,WAAKO,qBAAL;AACA,aAAO,KAAKO,SAAL,CAAe,WAAf,EAA4Bd,IAA5B,EAAkCW,KAAlC,EAAyCjF,UAAU,CAACJ,OAAX,CAAmBL,SAAnB,CAA6ByF,SAA7B,CAAuCnD,IAAvC,CAA4C,IAA5C,EAAkDyC,IAAlD,EAAwDW,KAAxD,EAA+DC,GAA/D,CAAzC,CAAP;AACD;AARA,GAnCgC,EA4ChC;AACDlE,IAAAA,GAAG,EAAE,WADJ;AAEDrB,IAAAA,KAAK,EAAE,SAASyF,SAAT,CAAmBC,MAAnB,EAA2Bf,IAA3B,EAAiCgB,IAAjC,EAAuCC,YAAvC,EAAqDC,WAArD,EAAkE;AACvE,UAAIC,KAAK,GAAG,IAAZ;;AAEA,aAAO,KAAKrB,cAAL,CAAoBsB,MAApB,CAA2B,UAAUC,KAAV,EAAiBT,GAAjB,EAAsBb,QAAtB,EAAgC;AAChE,YAAI,EAAEiB,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,IAAoCA,IAAI,CAACjB,QAA3C,KAAwD,CAACiB,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACjB,QAAlD,MAAgEA,QAA5H,EAAsI;AACpI,iBAAOoB,KAAK,CAACG,QAAN,CAAeP,MAAf,EAAuBf,IAAvB,EAA6BgB,IAA7B,EAAmCJ,GAAG,CAACZ,IAAvC,EAA6CY,GAAG,CAACW,UAAjD,EAA6DL,WAA7D,KAA6EG,KAApF;AACD,SAFD,MAEO;AACL,iBAAOA,KAAP;AACD;AACF,OANM,EAMJJ,YANI,CAAP;AAOD;AAZA,GA5CgC,EAyDhC;AACDvE,IAAAA,GAAG,EAAE,UADJ;AAEDrB,IAAAA,KAAK,EAAE,SAASiG,QAAT,CAAkBP,MAAlB,EAA0Bf,IAA1B,EAAgCgB,IAAhC,EAAsCJ,GAAtC,EAA2CW,UAA3C,EAAuDL,WAAvD,EAAoE;AACzE,UAAIF,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,IAAoCA,IAAI,CAACQ,UAA7C,EAAyD;AACvDN,QAAAA,WAAW,GAAG,IAAd;AACAF,QAAAA,IAAI,CAACS,SAAL,GAAiB,IAAjB;AACD;;AAED,UAAIJ,KAAK,GAAG9F,OAAO,CAACD,OAAR,CAAgB8F,MAAhB,CAAuBG,UAAvB,EAAmC,UAAUF,KAAV,EAAiBxB,SAAjB,EAA4B;AACzE,eAAOA,SAAS,CAACkB,MAAD,CAAT,CAAkBf,IAAlB,EAAwBgB,IAAxB,EAA8BJ,GAA9B,EAAmCM,WAAnC,KAAmDG,KAA1D;AACD,OAFW,EAET,IAFS,CAAZ;;AAIA,UAAIL,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,IAAoCA,IAAI,CAACS,SAA7C,EAAwD;AACtD,eAAOT,IAAI,CAACS,SAAZ;AACD;;AAED,aAAOJ,KAAP;AACD;AAjBA,GAzDgC,EA2EhC;AACD3E,IAAAA,GAAG,EAAE,cADJ;AAEDrB,IAAAA,KAAK,EAAE,SAASiF,YAAT,GAAwB;AAC7B,UAAIoB,SAAS,GAAGnG,OAAO,CAACD,OAAR,CAAgB4B,GAAhB,CAAoB,KAAK2C,SAAzB,EAAoC,oBAApC,CAAhB;;AAEA,UAAI8B,oBAAoB,GAAGpG,OAAO,CAACD,OAAR,CAAgB4B,GAAhB,CAAoB,KAAK2C,SAAzB,EAAoC,sBAApC,CAA3B;;AAEA,aAAO,CAAC,KAAKA,SAAL,CAAe+B,yBAAhB,IAA6C,CAAC,KAAKC,OAAL,CAAaC,QAA3D,IAAuE,CAAC,KAAKC,QAA7E,IAAyF,KAAKC,QAA9F,IAA0G,CAAC,KAAKH,OAAL,CAAaI,OAAxH,KAAoI,CAACP,SAAD,IAAc,KAAK5B,cAAL,CAAoBzD,MAApB,GAA6BqF,SAA/K,MAA8L,CAACC,oBAAD,IAAyB,KAAKO,QAAL,CAAcP,oBAAd,EAAoC;AAChQtG,QAAAA,KAAK,EAAE,KAAK8G;AADoP,OAApC,EAE3N,MAF2N,CAAvN,CAAP;AAGD;AAVA,GA3EgC,EAsFhC;AACDzF,IAAAA,GAAG,EAAE,cADJ;AAEDrB,IAAAA,KAAK,EAAE,SAAS+G,YAAT,CAAsBC,IAAtB,EAA4BC,EAA5B,EAAgCC,YAAhC,EAA8C;AACnDF,MAAAA,IAAI,GAAGG,KAAK,CAACC,OAAN,CAAcJ,IAAd,IAAsBA,IAAtB,GAA6B,CAACA,IAAD,CAApC;AACA,UAAI3F,GAAG,GAAG2F,IAAI,CAACK,KAAL,EAAV;AACA,UAAIC,aAAa,GAAGN,IAApB;AACA,UAAI3D,MAAM,GAAG,EAAb;AACA,UAAIkE,YAAY,GAAG,IAAnB;AACA,UAAIC,IAAI,GAAG,IAAX;AACA,UAAI9C,QAAQ,GAAG,IAAf;;AAEA,UAAIxE,OAAO,CAACD,OAAR,CAAgBwH,QAAhB,CAAyBpG,GAAzB,CAAJ,EAAmC;AACjCqD,QAAAA,QAAQ,GAAGrD,GAAX;AACAA,QAAAA,GAAG,GAAGiG,aAAa,CAACD,KAAd,EAAN;AACD;;AAED,UAAI,CAACnH,OAAO,CAACD,OAAR,CAAgByH,QAAhB,CAAyBrG,GAAzB,CAAL,EAAoC;AAClC,eAAOgC,MAAP;AACD;;AAED,WAAKsE,cAAL,CAAoB,UAAUnD,SAAV,EAAqB0B,UAArB,EAAiC;AACnD,YAAI1B,SAAS,CAACA,SAAV,CAAoBnD,GAApB,KAA4BA,GAAhC,EAAqC;AACnCkG,UAAAA,YAAY,GAAG/C,SAAf;;AAEA,cAAI8C,aAAa,CAACtG,MAAd,GAAuB,CAAvB,IAA4B,kBAAkBwD,SAAlD,EAA6D;AAC3DgD,YAAAA,IAAI,GAAGhD,SAAS,CAACuC,YAAV,CAAuBO,aAAvB,EAAsCL,EAAtC,EAA0CC,YAA1C,CAAP;AACD,WAFD,MAEO,IAAID,EAAJ,EAAQ;AACbA,YAAAA,EAAE,CAACzC,SAAD,EAAY0B,UAAZ,CAAF;AACD;;AAED7C,UAAAA,MAAM,GAAGqB,QAAQ,KAAK,IAAb,GAAoB8C,IAApB,GAA2BnE,MAAM,CAACuE,MAAP,CAAcJ,IAAI,IAAID,YAAtB,CAApC;AACD;AACF,OAZD,EAYG7C,QAZH;;AAcA,UAAI,CAAC,CAACrB,MAAD,IAAWA,MAAM,CAACrC,MAAP,KAAkB,CAA9B,KAAoCuG,YAAxC,EAAsD;AACpDlE,QAAAA,MAAM,GAAGqB,QAAQ,KAAK,IAAb,GAAoB6C,YAApB,GAAmC,CAACA,YAAD,CAA5C;AACD;;AAED,aAAOlE,MAAP;AACD;AAvCA,GAtFgC,EA8HhC;AACDhC,IAAAA,GAAG,EAAE,gBADJ;AAEDrB,IAAAA,KAAK,EAAE,SAAS2H,cAAT,CAAwBV,EAAxB,EAA4BvC,QAA5B,EAAsC8B,OAAtC,EAA+C;AACpD,UAAIqB,QAAJ;;AAEA,UAAI3H,OAAO,CAACD,OAAR,CAAgB6H,QAAhB,CAAyBpD,QAAzB,CAAJ,EAAwC;AACtC8B,QAAAA,OAAO,GAAG9B,QAAV;AACAA,QAAAA,QAAQ,GAAG,IAAX;AACD;;AAED,UAAI,CAACmD,QAAQ,GAAGrB,OAAZ,MAAyB,IAAzB,IAAiCqB,QAAQ,KAAK,KAAK,CAAnD,IAAwDA,QAAQ,CAACE,KAArE,EAA4E;AAC1E;AACD;;AAED,UAAI7B,UAAU,GAAG,KAAK8B,aAAL,CAAmBtD,QAAnB,CAAjB;;AAEAxE,MAAAA,OAAO,CAACD,OAAR,CAAgBgI,IAAhB,CAAqB/B,UAArB,EAAiC,UAAU1B,SAAV,EAAqB0D,KAArB,EAA4B;AAC3D,YAAIjB,EAAE,CAACzC,SAAD,EAAY0B,UAAZ,EAAwBgC,KAAxB,CAAF,KAAqC,KAAzC,EAAgD;AAC9C,iBAAO,KAAP;AACD;;AAED,YAAI,OAAO1D,SAAS,CAACmD,cAAjB,KAAoC,UAAxC,EAAoD;AAClD,cAAInD,SAAS,CAACmD,cAAV,CAAyBV,EAAzB,EAA6BT,OAA7B,MAA0C,KAA9C,EAAqD;AACnD,mBAAO,KAAP;AACD;AACF;AACF,OAVD;AAWD;AA3BA,GA9HgC,EA0JhC;AACDnF,IAAAA,GAAG,EAAE,kBADJ;AAEDrB,IAAAA,KAAK,EAAE,SAASmI,gBAAT,CAA0BnI,KAA1B,EAAiCwG,OAAjC,EAA0C;AAC/C,UAAIA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,IAA0CA,OAAO,CAACuB,KAAtD,EAA6D;AAC3D,YAAIK,qBAAJ;;AAEA,YAAI/E,MAAM,GAAG,kGAAb;AACA,SAAC+E,qBAAqB,GAAG,KAAK5D,SAAL,CAAe0B,UAAxC,MAAwD,IAAxD,IAAgEkC,qBAAqB,KAAK,KAAK,CAA/F,GAAmG,KAAK,CAAxG,GAA4GA,qBAAqB,CAACC,OAAtB,CAA8B,UAAU7D,SAAV,EAAqB;AAC7J,cAAI8D,KAAK,GAAG9D,SAAS,CAAC8D,KAAV,IAAmB9D,SAAS,CAACnD,GAAzC;AACAgC,UAAAA,MAAM,IAAI,oCAAoCuE,MAApC,CAA2CU,KAA3C,EAAkD,OAAlD,CAAV;AACD,SAH2G,CAA5G;AAIAjF,QAAAA,MAAM,IAAI,8DAAV;AACA,aAAKoB,cAAL,CAAoB4D,OAApB,CAA4B,UAAUE,IAAV,EAAgB;AAC1C,cAAIrC,UAAU,GAAGqC,IAAI,CAACrC,UAAtB;AACA7C,UAAAA,MAAM,IAAI,MAAV;;AAEAnD,UAAAA,OAAO,CAACD,OAAR,CAAgBgI,IAAhB,CAAqB/B,UAArB,EAAiC,UAAU1B,SAAV,EAAqB;AACpDnB,YAAAA,MAAM,IAAI,gCAAV;;AAEA,gBAAImB,SAAS,CAACgE,gBAAV,IAA8BhE,SAAS,CAACiE,OAAxC,IAAmD,CAACjE,SAAS,CAACkE,WAAlE,EAA+E;AAC7ErF,cAAAA,MAAM,IAAImB,SAAS,CAACmE,OAAV,CAAkBnE,SAAS,CAACsC,SAA5B,EAAuCN,OAAvC,CAAV;AACD;;AAEDnD,YAAAA,MAAM,IAAI,OAAV;AACD,WARD;;AAUAA,UAAAA,MAAM,IAAI,OAAV;AACD,SAfD;AAgBAA,QAAAA,MAAM,IAAI,gDAAV;AACA,eAAOA,MAAP;AACD;;AAED,UAAI,CAACrD,KAAD,IAAU,CAACA,KAAK,CAACgB,MAArB,EAA6B;AAC3B,eAAO,EAAP;AACD;;AAED,aAAOS,IAAI,CAACY,eAAe,CAAC+B,oBAAoB,CAACxE,SAAtB,CAAhB,EAAkD,kBAAlD,EAAsE,IAAtE,CAAJ,CAAgFsC,IAAhF,CAAqF,IAArF,EAA2FlC,KAA3F,EAAkGwG,OAAlG,CAAP;AACD;AArCA,GA1JgC,EAgMhC;AACDnF,IAAAA,GAAG,EAAE,eADJ;AAEDrB,IAAAA,KAAK,EAAE,SAASgI,aAAT,CAAuBtD,QAAvB,EAAiC;AACtC,UAAIA,QAAJ,EAAc;AACZ,YAAI,CAAC,KAAKD,cAAL,CAAoBC,QAApB,CAAL,EAAoC;AAClC,iBAAO,EAAP;AACD;;AAED,eAAO,KAAKD,cAAL,CAAoBC,QAApB,EAA8BwB,UAArC;AACD;;AAED,aAAOzE,IAAI,CAACY,eAAe,CAAC+B,oBAAoB,CAACxE,SAAtB,CAAhB,EAAkD,eAAlD,EAAmE,IAAnE,CAAJ,CAA6EsC,IAA7E,CAAkF,IAAlF,CAAP;AACD;AAZA,GAhMgC,CAAvB,EA6MR,CAAC;AACHb,IAAAA,GAAG,EAAE,QADF;AAEHrB,IAAAA,KAAK,EAAE,SAAS4I,MAAT,GAAkB;AACvB,WAAK,IAAIC,IAAI,GAAGrF,SAAS,CAACxC,MAArB,EAA6B8H,MAAM,GAAG,IAAI3B,KAAJ,CAAU0B,IAAV,CAAtC,EAAuDE,IAAI,GAAG,CAAnE,EAAsEA,IAAI,GAAGF,IAA7E,EAAmFE,IAAI,EAAvF,EAA2F;AACzFD,QAAAA,MAAM,CAACC,IAAD,CAAN,GAAevF,SAAS,CAACuF,IAAD,CAAxB;AACD;;AAED,aAAOzI,qBAAqB,CAACL,OAAtB,CAA8B2I,MAA9B,CAAqCnF,KAArC,CAA2CnD,qBAAqB,CAACL,OAAjE,EAA0E,CAAC;AAChFsG,QAAAA,yBAAyB,EAAE;AADqD,OAAD,EAE9EqB,MAF8E,CAEvEkB,MAFuE,CAA1E,CAAP;AAGD;AAVE,GAAD,CA7MQ,CAAZ;;AA0NA,SAAO1E,oBAAP;AACD,CAtOuC,CAsOtC9D,qBAAqB,CAACL,OAtOgB,CAAxC;;AAwOAF,OAAO,CAACE,OAAR,GAAkBmE,oBAAlB","sourcesContent":["'use strict';\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nrequire(\"core-js/modules/es.reflect.construct.js\");\n\nrequire(\"core-js/modules/es.reflect.get.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _Component = _interopRequireDefault(require(\"../component/Component\"));\n\nvar _NestedDataComponent2 = _interopRequireDefault(require(\"../nesteddata/NestedDataComponent\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar NestedArrayComponent = /*#__PURE__*/function (_NestedDataComponent) {\n  _inherits(NestedArrayComponent, _NestedDataComponent);\n\n  var _super = _createSuper(NestedArrayComponent);\n\n  function NestedArrayComponent() {\n    _classCallCheck(this, NestedArrayComponent);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NestedArrayComponent, [{\n    key: \"componentContext\",\n    value: function componentContext(component) {\n      return this.iteratableRows[component.rowIndex].data;\n    }\n  }, {\n    key: \"iteratableRows\",\n    get: function get() {\n      throw new Error('Getter #iteratableRows() is not implemented');\n    }\n  }, {\n    key: \"rowIndex\",\n    get: function get() {\n      return _get(_getPrototypeOf(NestedArrayComponent.prototype), \"rowIndex\", this);\n    },\n    set: function set(value) {\n      this._rowIndex = value;\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      _get(_getPrototypeOf(NestedArrayComponent.prototype), \"init\", this).call(this);\n\n      this.prevHasAddButton = this.hasAddButton();\n    }\n  }, {\n    key: \"checkAddButtonChanged\",\n    value: function checkAddButtonChanged() {\n      var isAddButton = this.hasAddButton();\n\n      if (isAddButton !== this.prevHasAddButton) {\n        this.prevHasAddButton = isAddButton;\n        this.redraw();\n      }\n    }\n  }, {\n    key: \"checkData\",\n    value: function checkData(data, flags, row) {\n      data = data || this.rootValue;\n      flags = flags || {};\n      row = row || this.data;\n      this.checkAddButtonChanged();\n      return this.checkRows('checkData', data, flags, _Component.default.prototype.checkData.call(this, data, flags, row));\n    }\n  }, {\n    key: \"checkRows\",\n    value: function checkRows(method, data, opts, defaultValue, silentCheck) {\n      var _this = this;\n\n      return this.iteratableRows.reduce(function (valid, row, rowIndex) {\n        if (!(opts !== null && opts !== void 0 && opts.rowIndex) || (opts === null || opts === void 0 ? void 0 : opts.rowIndex) === rowIndex) {\n          return _this.checkRow(method, data, opts, row.data, row.components, silentCheck) && valid;\n        } else {\n          return valid;\n        }\n      }, defaultValue);\n    }\n  }, {\n    key: \"checkRow\",\n    value: function checkRow(method, data, opts, row, components, silentCheck) {\n      if (opts !== null && opts !== void 0 && opts.isolateRow) {\n        silentCheck = true;\n        opts.noRefresh = true;\n      }\n\n      var valid = _lodash.default.reduce(components, function (valid, component) {\n        return component[method](data, opts, row, silentCheck) && valid;\n      }, true);\n\n      if (opts !== null && opts !== void 0 && opts.noRefresh) {\n        delete opts.noRefresh;\n      }\n\n      return valid;\n    }\n  }, {\n    key: \"hasAddButton\",\n    value: function hasAddButton() {\n      var maxLength = _lodash.default.get(this.component, 'validate.maxLength');\n\n      var conditionalAddButton = _lodash.default.get(this.component, 'conditionalAddButton');\n\n      return !this.component.disableAddingRemovingRows && !this.options.readOnly && !this.disabled && this.fullMode && !this.options.preview && (!maxLength || this.iteratableRows.length < maxLength) && (!conditionalAddButton || this.evaluate(conditionalAddButton, {\n        value: this.dataValue\n      }, 'show'));\n    }\n  }, {\n    key: \"getComponent\",\n    value: function getComponent(path, fn, originalPath) {\n      path = Array.isArray(path) ? path : [path];\n      var key = path.shift();\n      var remainingPath = path;\n      var result = [];\n      var possibleComp = null;\n      var comp = null;\n      var rowIndex = null;\n\n      if (_lodash.default.isNumber(key)) {\n        rowIndex = key;\n        key = remainingPath.shift();\n      }\n\n      if (!_lodash.default.isString(key)) {\n        return result;\n      }\n\n      this.everyComponent(function (component, components) {\n        if (component.component.key === key) {\n          possibleComp = component;\n\n          if (remainingPath.length > 0 && 'getComponent' in component) {\n            comp = component.getComponent(remainingPath, fn, originalPath);\n          } else if (fn) {\n            fn(component, components);\n          }\n\n          result = rowIndex !== null ? comp : result.concat(comp || possibleComp);\n        }\n      }, rowIndex);\n\n      if ((!result || result.length === 0) && possibleComp) {\n        result = rowIndex !== null ? possibleComp : [possibleComp];\n      }\n\n      return result;\n    }\n  }, {\n    key: \"everyComponent\",\n    value: function everyComponent(fn, rowIndex, options) {\n      var _options;\n\n      if (_lodash.default.isObject(rowIndex)) {\n        options = rowIndex;\n        rowIndex = null;\n      }\n\n      if ((_options = options) !== null && _options !== void 0 && _options.email) {\n        return;\n      }\n\n      var components = this.getComponents(rowIndex);\n\n      _lodash.default.each(components, function (component, index) {\n        if (fn(component, components, index) === false) {\n          return false;\n        }\n\n        if (typeof component.everyComponent === 'function') {\n          if (component.everyComponent(fn, options) === false) {\n            return false;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"getValueAsString\",\n    value: function getValueAsString(value, options) {\n      if (options !== null && options !== void 0 && options.email) {\n        var _this$component$compo;\n\n        var result = \"\\n        <table border=\\\"1\\\" style=\\\"width:100%\\\">\\n          <thead>\\n            <tr>\\n      \";\n        (_this$component$compo = this.component.components) === null || _this$component$compo === void 0 ? void 0 : _this$component$compo.forEach(function (component) {\n          var label = component.label || component.key;\n          result += \"<th style=\\\"padding: 5px 10px;\\\">\".concat(label, \"</th>\");\n        });\n        result += \"\\n          </tr>\\n        </thead>\\n        <tbody>\\n      \";\n        this.iteratableRows.forEach(function (_ref) {\n          var components = _ref.components;\n          result += '<tr>';\n\n          _lodash.default.each(components, function (component) {\n            result += '<td style=\"padding:5px 10px;\">';\n\n            if (component.isInputComponent && component.visible && !component.skipInEmail) {\n              result += component.getView(component.dataValue, options);\n            }\n\n            result += '</td>';\n          });\n\n          result += '</tr>';\n        });\n        result += \"\\n          </tbody>\\n        </table>\\n      \";\n        return result;\n      }\n\n      if (!value || !value.length) {\n        return '';\n      }\n\n      return _get(_getPrototypeOf(NestedArrayComponent.prototype), \"getValueAsString\", this).call(this, value, options);\n    }\n  }, {\n    key: \"getComponents\",\n    value: function getComponents(rowIndex) {\n      if (rowIndex) {\n        if (!this.iteratableRows[rowIndex]) {\n          return [];\n        }\n\n        return this.iteratableRows[rowIndex].components;\n      }\n\n      return _get(_getPrototypeOf(NestedArrayComponent.prototype), \"getComponents\", this).call(this);\n    }\n  }], [{\n    key: \"schema\",\n    value: function schema() {\n      for (var _len = arguments.length, extend = new Array(_len), _key = 0; _key < _len; _key++) {\n        extend[_key] = arguments[_key];\n      }\n\n      return _NestedDataComponent2.default.schema.apply(_NestedDataComponent2.default, [{\n        disableAddingRemovingRows: false\n      }].concat(extend));\n    }\n  }]);\n\n  return NestedArrayComponent;\n}(_NestedDataComponent2.default);\n\nexports.default = NestedArrayComponent;"]},"metadata":{},"sourceType":"script"}