{"ast":null,"code":"/*! @formio/choices.js v9.0.1 | © 2021 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"Choices\"] = factory();else root[\"Choices\"] = factory();\n})(window, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n          return value[key];\n        }.bind(null, key));\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"/public/assets/scripts/\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 4);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var isMergeableObject = function isMergeableObject(value) {\n        return isNonNullObject(value) && !isSpecial(value);\n      };\n\n      function isNonNullObject(value) {\n        return !!value && typeof value === 'object';\n      }\n\n      function isSpecial(value) {\n        var stringValue = Object.prototype.toString.call(value);\n        return stringValue === '[object RegExp]' || stringValue === '[object Date]' || isReactElement(value);\n      } // see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\n\n\n      var canUseSymbol = typeof Symbol === 'function' && Symbol.for;\n      var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\n      function isReactElement(value) {\n        return value.$$typeof === REACT_ELEMENT_TYPE;\n      }\n\n      function emptyTarget(val) {\n        return Array.isArray(val) ? [] : {};\n      }\n\n      function cloneUnlessOtherwiseSpecified(value, options) {\n        return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;\n      }\n\n      function defaultArrayMerge(target, source, options) {\n        return target.concat(source).map(function (element) {\n          return cloneUnlessOtherwiseSpecified(element, options);\n        });\n      }\n\n      function getMergeFunction(key, options) {\n        if (!options.customMerge) {\n          return deepmerge;\n        }\n\n        var customMerge = options.customMerge(key);\n        return typeof customMerge === 'function' ? customMerge : deepmerge;\n      }\n\n      function getEnumerableOwnPropertySymbols(target) {\n        return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function (symbol) {\n          return target.propertyIsEnumerable(symbol);\n        }) : [];\n      }\n\n      function getKeys(target) {\n        return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));\n      } // Protects from prototype poisoning and unexpected merging up the prototype chain.\n\n\n      function propertyIsUnsafe(target, key) {\n        try {\n          return key in target && // Properties are safe to merge if they don't exist in the target yet,\n          !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n          && Object.propertyIsEnumerable.call(target, key)); // and also unsafe if they're nonenumerable.\n        } catch (unused) {\n          // Counterintuitively, it's safe to merge any property on a target that causes the `in` operator to throw.\n          // This happens when trying to copy an object in the source over a plain string in the target.\n          return false;\n        }\n      }\n\n      function mergeObject(target, source, options) {\n        var destination = {};\n\n        if (options.isMergeableObject(target)) {\n          getKeys(target).forEach(function (key) {\n            destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n          });\n        }\n\n        getKeys(source).forEach(function (key) {\n          if (propertyIsUnsafe(target, key)) {\n            return;\n          }\n\n          if (!options.isMergeableObject(source[key]) || !target[key]) {\n            destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n          } else {\n            destination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n          }\n        });\n        return destination;\n      }\n\n      function deepmerge(target, source, options) {\n        options = options || {};\n        options.arrayMerge = options.arrayMerge || defaultArrayMerge;\n        options.isMergeableObject = options.isMergeableObject || isMergeableObject; // cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n        // implementations can use it. The caller may not replace it.\n\n        options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n        var sourceIsArray = Array.isArray(source);\n        var targetIsArray = Array.isArray(target);\n        var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n        if (!sourceAndTargetTypesMatch) {\n          return cloneUnlessOtherwiseSpecified(source, options);\n        } else if (sourceIsArray) {\n          return options.arrayMerge(target, source, options);\n        } else {\n          return mergeObject(target, source, options);\n        }\n      }\n\n      deepmerge.all = function deepmergeAll(array, options) {\n        if (!Array.isArray(array)) {\n          throw new Error('first argument should be an array');\n        }\n\n        return array.reduce(function (prev, next) {\n          return deepmerge(prev, next, options);\n        }, {});\n      };\n\n      var deepmerge_1 = deepmerge;\n      module.exports = deepmerge_1;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* WEBPACK VAR INJECTION */\n\n      (function (global, module) {\n        /* harmony import */\n        var _ponyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n        /* global window */\n\n\n        var root;\n\n        if (typeof self !== 'undefined') {\n          root = self;\n        } else if (typeof window !== 'undefined') {\n          root = window;\n        } else if (typeof global !== 'undefined') {\n          root = global;\n        } else if (true) {\n          root = module;\n        } else {}\n\n        var result = Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__[\n        /* default */\n        \"a\"])(root);\n        /* harmony default export */\n\n        __webpack_exports__[\"a\"] = result;\n        /* WEBPACK VAR INJECTION */\n      }).call(this, __webpack_require__(5), __webpack_require__(6)(module));\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /*!\n       * Fuse.js v3.4.5 - Lightweight fuzzy-search (http://fusejs.io)\n       * \n       * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)\n       * All Rights Reserved. Apache Software License 2.0\n       * \n       * http://www.apache.org/licenses/LICENSE-2.0\n       */\n      !function (e, t) {\n        true ? module.exports = t() : undefined;\n      }(this, function () {\n        return function (e) {\n          var t = {};\n\n          function n(r) {\n            if (t[r]) return t[r].exports;\n            var o = t[r] = {\n              i: r,\n              l: !1,\n              exports: {}\n            };\n            return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n          }\n\n          return n.m = e, n.c = t, n.d = function (e, t, r) {\n            n.o(e, t) || Object.defineProperty(e, t, {\n              enumerable: !0,\n              get: r\n            });\n          }, n.r = function (e) {\n            \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n              value: \"Module\"\n            }), Object.defineProperty(e, \"__esModule\", {\n              value: !0\n            });\n          }, n.t = function (e, t) {\n            if (1 & t && (e = n(e)), 8 & t) return e;\n            if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n            var r = Object.create(null);\n            if (n.r(r), Object.defineProperty(r, \"default\", {\n              enumerable: !0,\n              value: e\n            }), 2 & t && \"string\" != typeof e) for (var o in e) n.d(r, o, function (t) {\n              return e[t];\n            }.bind(null, o));\n            return r;\n          }, n.n = function (e) {\n            var t = e && e.__esModule ? function () {\n              return e.default;\n            } : function () {\n              return e;\n            };\n            return n.d(t, \"a\", t), t;\n          }, n.o = function (e, t) {\n            return Object.prototype.hasOwnProperty.call(e, t);\n          }, n.p = \"\", n(n.s = 1);\n        }([function (e, t) {\n          e.exports = function (e) {\n            return Array.isArray ? Array.isArray(e) : \"[object Array]\" === Object.prototype.toString.call(e);\n          };\n        }, function (e, t, n) {\n          function r(e) {\n            return (r = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n              return typeof e;\n            } : function (e) {\n              return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n            })(e);\n          }\n\n          function o(e, t) {\n            for (var n = 0; n < t.length; n++) {\n              var r = t[n];\n              r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n            }\n          }\n\n          var i = n(2),\n              a = n(8),\n              s = n(0),\n              c = function () {\n            function e(t, n) {\n              var r = n.location,\n                  o = void 0 === r ? 0 : r,\n                  i = n.distance,\n                  s = void 0 === i ? 100 : i,\n                  c = n.threshold,\n                  h = void 0 === c ? .6 : c,\n                  l = n.maxPatternLength,\n                  u = void 0 === l ? 32 : l,\n                  f = n.caseSensitive,\n                  d = void 0 !== f && f,\n                  v = n.tokenSeparator,\n                  p = void 0 === v ? / +/g : v,\n                  g = n.findAllMatches,\n                  y = void 0 !== g && g,\n                  m = n.minMatchCharLength,\n                  k = void 0 === m ? 1 : m,\n                  S = n.id,\n                  x = void 0 === S ? null : S,\n                  b = n.keys,\n                  M = void 0 === b ? [] : b,\n                  _ = n.shouldSort,\n                  L = void 0 === _ || _,\n                  w = n.getFn,\n                  A = void 0 === w ? a : w,\n                  C = n.sortFn,\n                  I = void 0 === C ? function (e, t) {\n                return e.score - t.score;\n              } : C,\n                  O = n.tokenize,\n                  j = void 0 !== O && O,\n                  P = n.matchAllTokens,\n                  F = void 0 !== P && P,\n                  T = n.includeMatches,\n                  z = void 0 !== T && T,\n                  E = n.includeScore,\n                  K = void 0 !== E && E,\n                  $ = n.verbose,\n                  J = void 0 !== $ && $;\n              !function (e, t) {\n                if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n              }(this, e), this.options = {\n                location: o,\n                distance: s,\n                threshold: h,\n                maxPatternLength: u,\n                isCaseSensitive: d,\n                tokenSeparator: p,\n                findAllMatches: y,\n                minMatchCharLength: k,\n                id: x,\n                keys: M,\n                includeMatches: z,\n                includeScore: K,\n                shouldSort: L,\n                getFn: A,\n                sortFn: I,\n                verbose: J,\n                tokenize: j,\n                matchAllTokens: F\n              }, this.setCollection(t);\n            }\n\n            var t, n, c;\n            return t = e, (n = [{\n              key: \"setCollection\",\n              value: function (e) {\n                return this.list = e, e;\n              }\n            }, {\n              key: \"search\",\n              value: function (e) {\n                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {\n                  limit: !1\n                };\n\n                this._log('---------\\nSearch pattern: \"'.concat(e, '\"'));\n\n                var n = this._prepareSearchers(e),\n                    r = n.tokenSearchers,\n                    o = n.fullSearcher,\n                    i = this._search(r, o),\n                    a = i.weights,\n                    s = i.results;\n\n                return this._computeScore(a, s), this.options.shouldSort && this._sort(s), t.limit && \"number\" == typeof t.limit && (s = s.slice(0, t.limit)), this._format(s);\n              }\n            }, {\n              key: \"_prepareSearchers\",\n              value: function () {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\",\n                    t = [];\n                if (this.options.tokenize) for (var n = e.split(this.options.tokenSeparator), r = 0, o = n.length; r < o; r += 1) t.push(new i(n[r], this.options));\n                return {\n                  tokenSearchers: t,\n                  fullSearcher: new i(e, this.options)\n                };\n              }\n            }, {\n              key: \"_search\",\n              value: function () {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n                    t = arguments.length > 1 ? arguments[1] : void 0,\n                    n = this.list,\n                    r = {},\n                    o = [];\n\n                if (\"string\" == typeof n[0]) {\n                  for (var i = 0, a = n.length; i < a; i += 1) this._analyze({\n                    key: \"\",\n                    value: n[i],\n                    record: i,\n                    index: i\n                  }, {\n                    resultMap: r,\n                    results: o,\n                    tokenSearchers: e,\n                    fullSearcher: t\n                  });\n\n                  return {\n                    weights: null,\n                    results: o\n                  };\n                }\n\n                for (var s = {}, c = 0, h = n.length; c < h; c += 1) for (var l = n[c], u = 0, f = this.options.keys.length; u < f; u += 1) {\n                  var d = this.options.keys[u];\n\n                  if (\"string\" != typeof d) {\n                    if (s[d.name] = {\n                      weight: 1 - d.weight || 1\n                    }, d.weight <= 0 || d.weight > 1) throw new Error(\"Key weight has to be > 0 and <= 1\");\n                    d = d.name;\n                  } else s[d] = {\n                    weight: 1\n                  };\n\n                  this._analyze({\n                    key: d,\n                    value: this.options.getFn(l, d),\n                    record: l,\n                    index: c\n                  }, {\n                    resultMap: r,\n                    results: o,\n                    tokenSearchers: e,\n                    fullSearcher: t\n                  });\n                }\n\n                return {\n                  weights: s,\n                  results: o\n                };\n              }\n            }, {\n              key: \"_analyze\",\n              value: function (e, t) {\n                var n = e.key,\n                    r = e.arrayIndex,\n                    o = void 0 === r ? -1 : r,\n                    i = e.value,\n                    a = e.record,\n                    c = e.index,\n                    h = t.tokenSearchers,\n                    l = void 0 === h ? [] : h,\n                    u = t.fullSearcher,\n                    f = void 0 === u ? [] : u,\n                    d = t.resultMap,\n                    v = void 0 === d ? {} : d,\n                    p = t.results,\n                    g = void 0 === p ? [] : p;\n\n                if (null != i) {\n                  var y = !1,\n                      m = -1,\n                      k = 0;\n\n                  if (\"string\" == typeof i) {\n                    this._log(\"\\nKey: \".concat(\"\" === n ? \"-\" : n));\n\n                    var S = f.search(i);\n\n                    if (this._log('Full text: \"'.concat(i, '\", score: ').concat(S.score)), this.options.tokenize) {\n                      for (var x = i.split(this.options.tokenSeparator), b = [], M = 0; M < l.length; M += 1) {\n                        var _ = l[M];\n\n                        this._log('\\nPattern: \"'.concat(_.pattern, '\"'));\n\n                        for (var L = !1, w = 0; w < x.length; w += 1) {\n                          var A = x[w],\n                              C = _.search(A),\n                              I = {};\n\n                          C.isMatch ? (I[A] = C.score, y = !0, L = !0, b.push(C.score)) : (I[A] = 1, this.options.matchAllTokens || b.push(1)), this._log('Token: \"'.concat(A, '\", score: ').concat(I[A]));\n                        }\n\n                        L && (k += 1);\n                      }\n\n                      m = b[0];\n\n                      for (var O = b.length, j = 1; j < O; j += 1) m += b[j];\n\n                      m /= O, this._log(\"Token score average:\", m);\n                    }\n\n                    var P = S.score;\n                    m > -1 && (P = (P + m) / 2), this._log(\"Score average:\", P);\n                    var F = !this.options.tokenize || !this.options.matchAllTokens || k >= l.length;\n\n                    if (this._log(\"\\nCheck Matches: \".concat(F)), (y || S.isMatch) && F) {\n                      var T = v[c];\n                      T ? T.output.push({\n                        key: n,\n                        arrayIndex: o,\n                        value: i,\n                        score: P,\n                        matchedIndices: S.matchedIndices\n                      }) : (v[c] = {\n                        item: a,\n                        output: [{\n                          key: n,\n                          arrayIndex: o,\n                          value: i,\n                          score: P,\n                          matchedIndices: S.matchedIndices\n                        }]\n                      }, g.push(v[c]));\n                    }\n                  } else if (s(i)) for (var z = 0, E = i.length; z < E; z += 1) this._analyze({\n                    key: n,\n                    arrayIndex: z,\n                    value: i[z],\n                    record: a,\n                    index: c\n                  }, {\n                    resultMap: v,\n                    results: g,\n                    tokenSearchers: l,\n                    fullSearcher: f\n                  });\n                }\n              }\n            }, {\n              key: \"_computeScore\",\n              value: function (e, t) {\n                this._log(\"\\n\\nComputing score:\\n\");\n\n                for (var n = 0, r = t.length; n < r; n += 1) {\n                  for (var o = t[n].output, i = o.length, a = 1, s = 1, c = 0; c < i; c += 1) {\n                    var h = e ? e[o[c].key].weight : 1,\n                        l = (1 === h ? o[c].score : o[c].score || .001) * h;\n                    1 !== h ? s = Math.min(s, l) : (o[c].nScore = l, a *= l);\n                  }\n\n                  t[n].score = 1 === s ? a : s, this._log(t[n]);\n                }\n              }\n            }, {\n              key: \"_sort\",\n              value: function (e) {\n                this._log(\"\\n\\nSorting....\"), e.sort(this.options.sortFn);\n              }\n            }, {\n              key: \"_format\",\n              value: function (e) {\n                var t = [];\n\n                if (this.options.verbose) {\n                  var n = [];\n                  this._log(\"\\n\\nOutput:\\n\\n\", JSON.stringify(e, function (e, t) {\n                    if (\"object\" === r(t) && null !== t) {\n                      if (-1 !== n.indexOf(t)) return;\n                      n.push(t);\n                    }\n\n                    return t;\n                  })), n = null;\n                }\n\n                var o = [];\n                this.options.includeMatches && o.push(function (e, t) {\n                  var n = e.output;\n                  t.matches = [];\n\n                  for (var r = 0, o = n.length; r < o; r += 1) {\n                    var i = n[r];\n\n                    if (0 !== i.matchedIndices.length) {\n                      var a = {\n                        indices: i.matchedIndices,\n                        value: i.value\n                      };\n                      i.key && (a.key = i.key), i.hasOwnProperty(\"arrayIndex\") && i.arrayIndex > -1 && (a.arrayIndex = i.arrayIndex), t.matches.push(a);\n                    }\n                  }\n                }), this.options.includeScore && o.push(function (e, t) {\n                  t.score = e.score;\n                });\n\n                for (var i = 0, a = e.length; i < a; i += 1) {\n                  var s = e[i];\n\n                  if (this.options.id && (s.item = this.options.getFn(s.item, this.options.id)[0]), o.length) {\n                    for (var c = {\n                      item: s.item\n                    }, h = 0, l = o.length; h < l; h += 1) o[h](s, c);\n\n                    t.push(c);\n                  } else t.push(s.item);\n                }\n\n                return t;\n              }\n            }, {\n              key: \"_log\",\n              value: function () {\n                var e;\n                this.options.verbose && (e = console).log.apply(e, arguments);\n              }\n            }]) && o(t.prototype, n), c && o(t, c), e;\n          }();\n\n          e.exports = c;\n        }, function (e, t, n) {\n          function r(e, t) {\n            for (var n = 0; n < t.length; n++) {\n              var r = t[n];\n              r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n            }\n          }\n\n          var o = n(3),\n              i = n(4),\n              a = n(7),\n              s = function () {\n            function e(t, n) {\n              var r = n.location,\n                  o = void 0 === r ? 0 : r,\n                  i = n.distance,\n                  s = void 0 === i ? 100 : i,\n                  c = n.threshold,\n                  h = void 0 === c ? .6 : c,\n                  l = n.maxPatternLength,\n                  u = void 0 === l ? 32 : l,\n                  f = n.isCaseSensitive,\n                  d = void 0 !== f && f,\n                  v = n.tokenSeparator,\n                  p = void 0 === v ? / +/g : v,\n                  g = n.findAllMatches,\n                  y = void 0 !== g && g,\n                  m = n.minMatchCharLength,\n                  k = void 0 === m ? 1 : m;\n              !function (e, t) {\n                if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n              }(this, e), this.options = {\n                location: o,\n                distance: s,\n                threshold: h,\n                maxPatternLength: u,\n                isCaseSensitive: d,\n                tokenSeparator: p,\n                findAllMatches: y,\n                minMatchCharLength: k\n              }, this.pattern = this.options.isCaseSensitive ? t : t.toLowerCase(), this.pattern.length <= u && (this.patternAlphabet = a(this.pattern));\n            }\n\n            var t, n, s;\n            return t = e, (n = [{\n              key: \"search\",\n              value: function (e) {\n                if (this.options.isCaseSensitive || (e = e.toLowerCase()), this.pattern === e) return {\n                  isMatch: !0,\n                  score: 0,\n                  matchedIndices: [[0, e.length - 1]]\n                };\n                var t = this.options,\n                    n = t.maxPatternLength,\n                    r = t.tokenSeparator;\n                if (this.pattern.length > n) return o(e, this.pattern, r);\n                var a = this.options,\n                    s = a.location,\n                    c = a.distance,\n                    h = a.threshold,\n                    l = a.findAllMatches,\n                    u = a.minMatchCharLength;\n                return i(e, this.pattern, this.patternAlphabet, {\n                  location: s,\n                  distance: c,\n                  threshold: h,\n                  findAllMatches: l,\n                  minMatchCharLength: u\n                });\n              }\n            }]) && r(t.prototype, n), s && r(t, s), e;\n          }();\n\n          e.exports = s;\n        }, function (e, t) {\n          var n = /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;\n\n          e.exports = function (e, t) {\n            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : / +/g,\n                o = new RegExp(t.replace(n, \"\\\\$&\").replace(r, \"|\")),\n                i = e.match(o),\n                a = !!i,\n                s = [];\n            if (a) for (var c = 0, h = i.length; c < h; c += 1) {\n              var l = i[c];\n              s.push([e.indexOf(l), l.length - 1]);\n            }\n            return {\n              score: a ? .5 : 1,\n              isMatch: a,\n              matchedIndices: s\n            };\n          };\n        }, function (e, t, n) {\n          var r = n(5),\n              o = n(6);\n\n          e.exports = function (e, t, n, i) {\n            for (var a = i.location, s = void 0 === a ? 0 : a, c = i.distance, h = void 0 === c ? 100 : c, l = i.threshold, u = void 0 === l ? .6 : l, f = i.findAllMatches, d = void 0 !== f && f, v = i.minMatchCharLength, p = void 0 === v ? 1 : v, g = s, y = e.length, m = u, k = e.indexOf(t, g), S = t.length, x = [], b = 0; b < y; b += 1) x[b] = 0;\n\n            if (-1 !== k) {\n              var M = r(t, {\n                errors: 0,\n                currentLocation: k,\n                expectedLocation: g,\n                distance: h\n              });\n\n              if (m = Math.min(M, m), -1 !== (k = e.lastIndexOf(t, g + S))) {\n                var _ = r(t, {\n                  errors: 0,\n                  currentLocation: k,\n                  expectedLocation: g,\n                  distance: h\n                });\n\n                m = Math.min(_, m);\n              }\n            }\n\n            k = -1;\n\n            for (var L = [], w = 1, A = S + y, C = 1 << S - 1, I = 0; I < S; I += 1) {\n              for (var O = 0, j = A; O < j;) {\n                r(t, {\n                  errors: I,\n                  currentLocation: g + j,\n                  expectedLocation: g,\n                  distance: h\n                }) <= m ? O = j : A = j, j = Math.floor((A - O) / 2 + O);\n              }\n\n              A = j;\n              var P = Math.max(1, g - j + 1),\n                  F = d ? y : Math.min(g + j, y) + S,\n                  T = Array(F + 2);\n              T[F + 1] = (1 << I) - 1;\n\n              for (var z = F; z >= P; z -= 1) {\n                var E = z - 1,\n                    K = n[e.charAt(E)];\n\n                if (K && (x[E] = 1), T[z] = (T[z + 1] << 1 | 1) & K, 0 !== I && (T[z] |= (L[z + 1] | L[z]) << 1 | 1 | L[z + 1]), T[z] & C && (w = r(t, {\n                  errors: I,\n                  currentLocation: E,\n                  expectedLocation: g,\n                  distance: h\n                })) <= m) {\n                  if (m = w, (k = E) <= g) break;\n                  P = Math.max(1, 2 * g - k);\n                }\n              }\n\n              if (r(t, {\n                errors: I + 1,\n                currentLocation: g,\n                expectedLocation: g,\n                distance: h\n              }) > m) break;\n              L = T;\n            }\n\n            return {\n              isMatch: k >= 0,\n              score: 0 === w ? .001 : w,\n              matchedIndices: o(x, p)\n            };\n          };\n        }, function (e, t) {\n          e.exports = function (e, t) {\n            var n = t.errors,\n                r = void 0 === n ? 0 : n,\n                o = t.currentLocation,\n                i = void 0 === o ? 0 : o,\n                a = t.expectedLocation,\n                s = void 0 === a ? 0 : a,\n                c = t.distance,\n                h = void 0 === c ? 100 : c,\n                l = r / e.length,\n                u = Math.abs(s - i);\n            return h ? l + u / h : u ? 1 : l;\n          };\n        }, function (e, t) {\n          e.exports = function () {\n            for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, n = [], r = -1, o = -1, i = 0, a = e.length; i < a; i += 1) {\n              var s = e[i];\n              s && -1 === r ? r = i : s || -1 === r || ((o = i - 1) - r + 1 >= t && n.push([r, o]), r = -1);\n            }\n\n            return e[i - 1] && i - r >= t && n.push([r, i - 1]), n;\n          };\n        }, function (e, t) {\n          e.exports = function (e) {\n            for (var t = {}, n = e.length, r = 0; r < n; r += 1) t[e.charAt(r)] = 0;\n\n            for (var o = 0; o < n; o += 1) t[e.charAt(o)] |= 1 << n - o - 1;\n\n            return t;\n          };\n        }, function (e, t, n) {\n          var r = n(0);\n\n          e.exports = function (e, t) {\n            return function e(t, n, o) {\n              if (n) {\n                var i = n.indexOf(\".\"),\n                    a = n,\n                    s = null;\n                -1 !== i && (a = n.slice(0, i), s = n.slice(i + 1));\n                var c = t[a];\n                if (null != c) if (s || \"string\" != typeof c && \"number\" != typeof c) {\n                  if (r(c)) for (var h = 0, l = c.length; h < l; h += 1) e(c[h], s, o);else s && e(c, s, o);\n                } else o.push(c.toString());\n              } else o.push(t);\n\n              return o;\n            }(e, t, []);\n          };\n        }]);\n      });\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n      /* harmony export (binding) */\n\n      __webpack_require__.d(__webpack_exports__, \"a\", function () {\n        return symbolObservablePonyfill;\n      });\n\n      function symbolObservablePonyfill(root) {\n        var result;\n        var Symbol = root.Symbol;\n\n        if (typeof Symbol === 'function') {\n          if (Symbol.observable) {\n            result = Symbol.observable;\n          } else {\n            result = Symbol('observable');\n            Symbol.observable = result;\n          }\n        } else {\n          result = '@@observable';\n        }\n\n        return result;\n      }\n\n      ;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      module.exports = __webpack_require__(7);\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports) {\n      var g; // This works in non-strict mode\n\n      g = function () {\n        return this;\n      }();\n\n      try {\n        // This works if eval is allowed (see CSP)\n        g = g || new Function(\"return this\")();\n      } catch (e) {\n        // This works if the window reference is available\n        if (typeof window === \"object\") g = window;\n      } // g can still be undefined, but nothing to do about it...\n      // We return undefined, instead of nothing here, so it's\n      // easier to handle this case. if(!global) { ...}\n\n\n      module.exports = g;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports) {\n      module.exports = function (originalModule) {\n        if (!originalModule.webpackPolyfill) {\n          var module = Object.create(originalModule); // module.parent = undefined by default\n\n          if (!module.children) module.children = [];\n          Object.defineProperty(module, \"loaded\", {\n            enumerable: true,\n            get: function () {\n              return module.l;\n            }\n          });\n          Object.defineProperty(module, \"id\", {\n            enumerable: true,\n            get: function () {\n              return module.i;\n            }\n          });\n          Object.defineProperty(module, \"exports\", {\n            enumerable: true\n          });\n          module.webpackPolyfill = 1;\n        }\n\n        return module;\n      };\n      /***/\n\n    },\n    /* 7 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      __webpack_require__.r(__webpack_exports__); // EXTERNAL MODULE: ./node_modules/fuse.js/dist/fuse.js\n\n\n      var dist_fuse = __webpack_require__(2);\n\n      var fuse_default = /*#__PURE__*/__webpack_require__.n(dist_fuse); // EXTERNAL MODULE: ./node_modules/deepmerge/dist/cjs.js\n\n\n      var cjs = __webpack_require__(0);\n\n      var cjs_default = /*#__PURE__*/__webpack_require__.n(cjs); // EXTERNAL MODULE: ./node_modules/symbol-observable/es/index.js\n\n\n      var es = __webpack_require__(1); // CONCATENATED MODULE: ./node_modules/redux/es/redux.js\n\n      /**\n       * These are private action types reserved by Redux.\n       * For any unknown actions, you must return the current state.\n       * If the current state is undefined, you must return the initial state.\n       * Do not reference these action types directly in your code.\n       */\n\n\n      var randomString = function randomString() {\n        return Math.random().toString(36).substring(7).split('').join('.');\n      };\n\n      var ActionTypes = {\n        INIT: \"@@redux/INIT\" + randomString(),\n        REPLACE: \"@@redux/REPLACE\" + randomString(),\n        PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n          return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n        }\n      };\n      /**\n       * @param {any} obj The object to inspect.\n       * @returns {boolean} True if the argument appears to be a plain object.\n       */\n\n      function isPlainObject(obj) {\n        if (typeof obj !== 'object' || obj === null) return false;\n        var proto = obj;\n\n        while (Object.getPrototypeOf(proto) !== null) {\n          proto = Object.getPrototypeOf(proto);\n        }\n\n        return Object.getPrototypeOf(obj) === proto;\n      }\n      /**\n       * Creates a Redux store that holds the state tree.\n       * The only way to change the data in the store is to call `dispatch()` on it.\n       *\n       * There should only be a single store in your app. To specify how different\n       * parts of the state tree respond to actions, you may combine several reducers\n       * into a single reducer function by using `combineReducers`.\n       *\n       * @param {Function} reducer A function that returns the next state tree, given\n       * the current state tree and the action to handle.\n       *\n       * @param {any} [preloadedState] The initial state. You may optionally specify it\n       * to hydrate the state from the server in universal apps, or to restore a\n       * previously serialized user session.\n       * If you use `combineReducers` to produce the root reducer function, this must be\n       * an object with the same shape as `combineReducers` keys.\n       *\n       * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n       * to enhance the store with third-party capabilities such as middleware,\n       * time travel, persistence, etc. The only store enhancer that ships with Redux\n       * is `applyMiddleware()`.\n       *\n       * @returns {Store} A Redux store that lets you read the state, dispatch actions\n       * and subscribe to changes.\n       */\n\n\n      function createStore(reducer, preloadedState, enhancer) {\n        var _ref2;\n\n        if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n          throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n        }\n\n        if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n          enhancer = preloadedState;\n          preloadedState = undefined;\n        }\n\n        if (typeof enhancer !== 'undefined') {\n          if (typeof enhancer !== 'function') {\n            throw new Error('Expected the enhancer to be a function.');\n          }\n\n          return enhancer(createStore)(reducer, preloadedState);\n        }\n\n        if (typeof reducer !== 'function') {\n          throw new Error('Expected the reducer to be a function.');\n        }\n\n        var currentReducer = reducer;\n        var currentState = preloadedState;\n        var currentListeners = [];\n        var nextListeners = currentListeners;\n        var isDispatching = false;\n        /**\n         * This makes a shallow copy of currentListeners so we can use\n         * nextListeners as a temporary list while dispatching.\n         *\n         * This prevents any bugs around consumers calling\n         * subscribe/unsubscribe in the middle of a dispatch.\n         */\n\n        function ensureCanMutateNextListeners() {\n          if (nextListeners === currentListeners) {\n            nextListeners = currentListeners.slice();\n          }\n        }\n        /**\n         * Reads the state tree managed by the store.\n         *\n         * @returns {any} The current state tree of your application.\n         */\n\n\n        function getState() {\n          if (isDispatching) {\n            throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n          }\n\n          return currentState;\n        }\n        /**\n         * Adds a change listener. It will be called any time an action is dispatched,\n         * and some part of the state tree may potentially have changed. You may then\n         * call `getState()` to read the current state tree inside the callback.\n         *\n         * You may call `dispatch()` from a change listener, with the following\n         * caveats:\n         *\n         * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n         * If you subscribe or unsubscribe while the listeners are being invoked, this\n         * will not have any effect on the `dispatch()` that is currently in progress.\n         * However, the next `dispatch()` call, whether nested or not, will use a more\n         * recent snapshot of the subscription list.\n         *\n         * 2. The listener should not expect to see all state changes, as the state\n         * might have been updated multiple times during a nested `dispatch()` before\n         * the listener is called. It is, however, guaranteed that all subscribers\n         * registered before the `dispatch()` started will be called with the latest\n         * state by the time it exits.\n         *\n         * @param {Function} listener A callback to be invoked on every dispatch.\n         * @returns {Function} A function to remove this change listener.\n         */\n\n\n        function subscribe(listener) {\n          if (typeof listener !== 'function') {\n            throw new Error('Expected the listener to be a function.');\n          }\n\n          if (isDispatching) {\n            throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n          }\n\n          var isSubscribed = true;\n          ensureCanMutateNextListeners();\n          nextListeners.push(listener);\n          return function unsubscribe() {\n            if (!isSubscribed) {\n              return;\n            }\n\n            if (isDispatching) {\n              throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n            }\n\n            isSubscribed = false;\n            ensureCanMutateNextListeners();\n            var index = nextListeners.indexOf(listener);\n            nextListeners.splice(index, 1);\n          };\n        }\n        /**\n         * Dispatches an action. It is the only way to trigger a state change.\n         *\n         * The `reducer` function, used to create the store, will be called with the\n         * current state tree and the given `action`. Its return value will\n         * be considered the **next** state of the tree, and the change listeners\n         * will be notified.\n         *\n         * The base implementation only supports plain object actions. If you want to\n         * dispatch a Promise, an Observable, a thunk, or something else, you need to\n         * wrap your store creating function into the corresponding middleware. For\n         * example, see the documentation for the `redux-thunk` package. Even the\n         * middleware will eventually dispatch plain object actions using this method.\n         *\n         * @param {Object} action A plain object representing “what changed”. It is\n         * a good idea to keep actions serializable so you can record and replay user\n         * sessions, or use the time travelling `redux-devtools`. An action must have\n         * a `type` property which may not be `undefined`. It is a good idea to use\n         * string constants for action types.\n         *\n         * @returns {Object} For convenience, the same action object you dispatched.\n         *\n         * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n         * return something else (for example, a Promise you can await).\n         */\n\n\n        function dispatch(action) {\n          if (!isPlainObject(action)) {\n            throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n          }\n\n          if (typeof action.type === 'undefined') {\n            throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n          }\n\n          if (isDispatching) {\n            throw new Error('Reducers may not dispatch actions.');\n          }\n\n          try {\n            isDispatching = true;\n            currentState = currentReducer(currentState, action);\n          } finally {\n            isDispatching = false;\n          }\n\n          var listeners = currentListeners = nextListeners;\n\n          for (var i = 0; i < listeners.length; i++) {\n            var listener = listeners[i];\n            listener();\n          }\n\n          return action;\n        }\n        /**\n         * Replaces the reducer currently used by the store to calculate the state.\n         *\n         * You might need this if your app implements code splitting and you want to\n         * load some of the reducers dynamically. You might also need this if you\n         * implement a hot reloading mechanism for Redux.\n         *\n         * @param {Function} nextReducer The reducer for the store to use instead.\n         * @returns {void}\n         */\n\n\n        function replaceReducer(nextReducer) {\n          if (typeof nextReducer !== 'function') {\n            throw new Error('Expected the nextReducer to be a function.');\n          }\n\n          currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n          // Any reducers that existed in both the new and old rootReducer\n          // will receive the previous state. This effectively populates\n          // the new state tree with any relevant data from the old one.\n\n          dispatch({\n            type: ActionTypes.REPLACE\n          });\n        }\n        /**\n         * Interoperability point for observable/reactive libraries.\n         * @returns {observable} A minimal observable of state changes.\n         * For more information, see the observable proposal:\n         * https://github.com/tc39/proposal-observable\n         */\n\n\n        function observable() {\n          var _ref;\n\n          var outerSubscribe = subscribe;\n          return _ref = {\n            /**\n             * The minimal observable subscription method.\n             * @param {Object} observer Any object that can be used as an observer.\n             * The observer object should have a `next` method.\n             * @returns {subscription} An object with an `unsubscribe` method that can\n             * be used to unsubscribe the observable from the store, and prevent further\n             * emission of values from the observable.\n             */\n            subscribe: function subscribe(observer) {\n              if (typeof observer !== 'object' || observer === null) {\n                throw new TypeError('Expected the observer to be an object.');\n              }\n\n              function observeState() {\n                if (observer.next) {\n                  observer.next(getState());\n                }\n              }\n\n              observeState();\n              var unsubscribe = outerSubscribe(observeState);\n              return {\n                unsubscribe: unsubscribe\n              };\n            }\n          }, _ref[es[\"a\"\n          /* default */\n          ]] = function () {\n            return this;\n          }, _ref;\n        } // When a store is created, an \"INIT\" action is dispatched so that every\n        // reducer returns their initial state. This effectively populates\n        // the initial state tree.\n\n\n        dispatch({\n          type: ActionTypes.INIT\n        });\n        return _ref2 = {\n          dispatch: dispatch,\n          subscribe: subscribe,\n          getState: getState,\n          replaceReducer: replaceReducer\n        }, _ref2[es[\"a\"\n        /* default */\n        ]] = observable, _ref2;\n      }\n      /**\n       * Prints a warning in the console if it exists.\n       *\n       * @param {String} message The warning message.\n       * @returns {void}\n       */\n\n\n      function warning(message) {\n        /* eslint-disable no-console */\n        if (typeof console !== 'undefined' && typeof console.error === 'function') {\n          console.error(message);\n        }\n        /* eslint-enable no-console */\n\n\n        try {\n          // This error was thrown as a convenience so that if you enable\n          // \"break on all exceptions\" in your console,\n          // it would pause the execution at this line.\n          throw new Error(message);\n        } catch (e) {} // eslint-disable-line no-empty\n\n      }\n\n      function getUndefinedStateErrorMessage(key, action) {\n        var actionType = action && action.type;\n        var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n        return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n      }\n\n      function getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n        var reducerKeys = Object.keys(reducers);\n        var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n        if (reducerKeys.length === 0) {\n          return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n        }\n\n        if (!isPlainObject(inputState)) {\n          return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n        }\n\n        var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n          return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n        });\n        unexpectedKeys.forEach(function (key) {\n          unexpectedKeyCache[key] = true;\n        });\n        if (action && action.type === ActionTypes.REPLACE) return;\n\n        if (unexpectedKeys.length > 0) {\n          return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n        }\n      }\n\n      function assertReducerShape(reducers) {\n        Object.keys(reducers).forEach(function (key) {\n          var reducer = reducers[key];\n          var initialState = reducer(undefined, {\n            type: ActionTypes.INIT\n          });\n\n          if (typeof initialState === 'undefined') {\n            throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n          }\n\n          if (typeof reducer(undefined, {\n            type: ActionTypes.PROBE_UNKNOWN_ACTION()\n          }) === 'undefined') {\n            throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n          }\n        });\n      }\n      /**\n       * Turns an object whose values are different reducer functions, into a single\n       * reducer function. It will call every child reducer, and gather their results\n       * into a single state object, whose keys correspond to the keys of the passed\n       * reducer functions.\n       *\n       * @param {Object} reducers An object whose values correspond to different\n       * reducer functions that need to be combined into one. One handy way to obtain\n       * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n       * undefined for any action. Instead, they should return their initial state\n       * if the state passed to them was undefined, and the current state for any\n       * unrecognized action.\n       *\n       * @returns {Function} A reducer function that invokes every reducer inside the\n       * passed object, and builds a state object with the same shape.\n       */\n\n\n      function combineReducers(reducers) {\n        var reducerKeys = Object.keys(reducers);\n        var finalReducers = {};\n\n        for (var i = 0; i < reducerKeys.length; i++) {\n          var key = reducerKeys[i];\n\n          if (false) {}\n\n          if (typeof reducers[key] === 'function') {\n            finalReducers[key] = reducers[key];\n          }\n        }\n\n        var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n        // keys multiple times.\n\n        var unexpectedKeyCache;\n\n        if (false) {}\n\n        var shapeAssertionError;\n\n        try {\n          assertReducerShape(finalReducers);\n        } catch (e) {\n          shapeAssertionError = e;\n        }\n\n        return function combination(state, action) {\n          if (state === void 0) {\n            state = {};\n          }\n\n          if (shapeAssertionError) {\n            throw shapeAssertionError;\n          }\n\n          if (false) {\n            var warningMessage;\n          }\n\n          var hasChanged = false;\n          var nextState = {};\n\n          for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n            var _key = finalReducerKeys[_i];\n            var reducer = finalReducers[_key];\n            var previousStateForKey = state[_key];\n            var nextStateForKey = reducer(previousStateForKey, action);\n\n            if (typeof nextStateForKey === 'undefined') {\n              var errorMessage = getUndefinedStateErrorMessage(_key, action);\n              throw new Error(errorMessage);\n            }\n\n            nextState[_key] = nextStateForKey;\n            hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n          }\n\n          return hasChanged ? nextState : state;\n        };\n      }\n\n      function bindActionCreator(actionCreator, dispatch) {\n        return function () {\n          return dispatch(actionCreator.apply(this, arguments));\n        };\n      }\n      /**\n       * Turns an object whose values are action creators, into an object with the\n       * same keys, but with every function wrapped into a `dispatch` call so they\n       * may be invoked directly. This is just a convenience method, as you can call\n       * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n       *\n       * For convenience, you can also pass an action creator as the first argument,\n       * and get a dispatch wrapped function in return.\n       *\n       * @param {Function|Object} actionCreators An object whose values are action\n       * creator functions. One handy way to obtain it is to use ES6 `import * as`\n       * syntax. You may also pass a single function.\n       *\n       * @param {Function} dispatch The `dispatch` function available on your Redux\n       * store.\n       *\n       * @returns {Function|Object} The object mimicking the original object, but with\n       * every action creator wrapped into the `dispatch` call. If you passed a\n       * function as `actionCreators`, the return value will also be a single\n       * function.\n       */\n\n\n      function bindActionCreators(actionCreators, dispatch) {\n        if (typeof actionCreators === 'function') {\n          return bindActionCreator(actionCreators, dispatch);\n        }\n\n        if (typeof actionCreators !== 'object' || actionCreators === null) {\n          throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n        }\n\n        var boundActionCreators = {};\n\n        for (var key in actionCreators) {\n          var actionCreator = actionCreators[key];\n\n          if (typeof actionCreator === 'function') {\n            boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n          }\n        }\n\n        return boundActionCreators;\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function ownKeys(object, enumerableOnly) {\n        var keys = Object.keys(object);\n\n        if (Object.getOwnPropertySymbols) {\n          keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n        }\n\n        if (enumerableOnly) keys = keys.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n        return keys;\n      }\n\n      function _objectSpread2(target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i] != null ? arguments[i] : {};\n\n          if (i % 2) {\n            ownKeys(source, true).forEach(function (key) {\n              _defineProperty(target, key, source[key]);\n            });\n          } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n          } else {\n            ownKeys(source).forEach(function (key) {\n              Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n          }\n        }\n\n        return target;\n      }\n      /**\n       * Composes single-argument functions from right to left. The rightmost\n       * function can take multiple arguments as it provides the signature for\n       * the resulting composite function.\n       *\n       * @param {...Function} funcs The functions to compose.\n       * @returns {Function} A function obtained by composing the argument functions\n       * from right to left. For example, compose(f, g, h) is identical to doing\n       * (...args) => f(g(h(...args))).\n       */\n\n\n      function compose() {\n        for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n          funcs[_key] = arguments[_key];\n        }\n\n        if (funcs.length === 0) {\n          return function (arg) {\n            return arg;\n          };\n        }\n\n        if (funcs.length === 1) {\n          return funcs[0];\n        }\n\n        return funcs.reduce(function (a, b) {\n          return function () {\n            return a(b.apply(void 0, arguments));\n          };\n        });\n      }\n      /**\n       * Creates a store enhancer that applies middleware to the dispatch method\n       * of the Redux store. This is handy for a variety of tasks, such as expressing\n       * asynchronous actions in a concise manner, or logging every action payload.\n       *\n       * See `redux-thunk` package as an example of the Redux middleware.\n       *\n       * Because middleware is potentially asynchronous, this should be the first\n       * store enhancer in the composition chain.\n       *\n       * Note that each middleware will be given the `dispatch` and `getState` functions\n       * as named arguments.\n       *\n       * @param {...Function} middlewares The middleware chain to be applied.\n       * @returns {Function} A store enhancer applying the middleware.\n       */\n\n\n      function applyMiddleware() {\n        for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n          middlewares[_key] = arguments[_key];\n        }\n\n        return function (createStore) {\n          return function () {\n            var store = createStore.apply(void 0, arguments);\n\n            var _dispatch = function dispatch() {\n              throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n            };\n\n            var middlewareAPI = {\n              getState: store.getState,\n              dispatch: function dispatch() {\n                return _dispatch.apply(void 0, arguments);\n              }\n            };\n            var chain = middlewares.map(function (middleware) {\n              return middleware(middlewareAPI);\n            });\n            _dispatch = compose.apply(void 0, chain)(store.dispatch);\n            return _objectSpread2({}, store, {\n              dispatch: _dispatch\n            });\n          };\n        };\n      }\n      /*\n       * This is a dummy function to check if the function name has been altered by minification.\n       * If the function has been minified and NODE_ENV !== 'production', warn the user.\n       */\n\n\n      function isCrushed() {}\n\n      if (false) {} // CONCATENATED MODULE: ./src/scripts/reducers/items.js\n\n\n      var defaultState = [];\n\n      function items_items(state, action) {\n        if (state === void 0) {\n          state = defaultState;\n        }\n\n        switch (action.type) {\n          case 'ADD_ITEM':\n            {\n              // Add object to items array\n              var newState = [].concat(state, [{\n                id: action.id,\n                choiceId: action.choiceId,\n                groupId: action.groupId,\n                value: action.value,\n                label: action.label,\n                active: true,\n                highlighted: false,\n                customProperties: action.customProperties,\n                placeholder: action.placeholder || false,\n                keyCode: null\n              }]);\n              return newState.map(function (obj) {\n                var item = obj;\n                item.highlighted = false;\n                return item;\n              });\n            }\n\n          case 'REMOVE_ITEM':\n            {\n              // Set item to inactive\n              return state.map(function (obj) {\n                var item = obj;\n\n                if (item.id === action.id) {\n                  item.active = false;\n                }\n\n                return item;\n              });\n            }\n\n          case 'HIGHLIGHT_ITEM':\n            {\n              return state.map(function (obj) {\n                var item = obj;\n\n                if (item.id === action.id) {\n                  item.highlighted = action.highlighted;\n                }\n\n                return item;\n              });\n            }\n\n          default:\n            {\n              return state;\n            }\n        }\n      } // CONCATENATED MODULE: ./src/scripts/reducers/groups.js\n\n\n      var groups_defaultState = [];\n\n      function groups(state, action) {\n        if (state === void 0) {\n          state = groups_defaultState;\n        }\n\n        switch (action.type) {\n          case 'ADD_GROUP':\n            {\n              return [].concat(state, [{\n                id: action.id,\n                value: action.value,\n                active: action.active,\n                disabled: action.disabled\n              }]);\n            }\n\n          case 'CLEAR_CHOICES':\n            {\n              return [];\n            }\n\n          default:\n            {\n              return state;\n            }\n        }\n      } // CONCATENATED MODULE: ./src/scripts/reducers/choices.js\n\n\n      var choices_defaultState = [];\n\n      function choices_choices(state, action) {\n        if (state === void 0) {\n          state = choices_defaultState;\n        }\n\n        switch (action.type) {\n          case 'ADD_CHOICE':\n            {\n              /*\n                  A disabled choice appears in the choice dropdown but cannot be selected\n                  A selected choice has been added to the passed input's value (added as an item)\n                  An active choice appears within the choice dropdown\n               */\n              return [].concat(state, [{\n                id: action.id,\n                elementId: action.elementId,\n                groupId: action.groupId,\n                value: action.value,\n                label: action.label || action.value,\n                disabled: action.disabled || false,\n                selected: false,\n                active: true,\n                score: 9999,\n                customProperties: action.customProperties,\n                placeholder: action.placeholder || false,\n                keyCode: null\n              }]);\n            }\n\n          case 'ADD_ITEM':\n            {\n              // If all choices need to be activated\n              if (action.activateOptions) {\n                return state.map(function (obj) {\n                  var choice = obj;\n                  choice.active = action.active;\n                  return choice;\n                });\n              } // When an item is added and it has an associated choice,\n              // we want to disable it so it can't be chosen again\n\n\n              if (action.choiceId > -1) {\n                return state.map(function (obj) {\n                  var choice = obj;\n\n                  if (choice.id === parseInt(action.choiceId, 10)) {\n                    choice.selected = true;\n                  }\n\n                  return choice;\n                });\n              }\n\n              return state;\n            }\n\n          case 'REMOVE_ITEM':\n            {\n              // When an item is removed and it has an associated choice,\n              // we want to re-enable it so it can be chosen again\n              if (action.choiceId > -1) {\n                return state.map(function (obj) {\n                  var choice = obj;\n\n                  if (choice.id === parseInt(action.choiceId, 10)) {\n                    choice.selected = false;\n                  }\n\n                  return choice;\n                });\n              }\n\n              return state;\n            }\n\n          case 'FILTER_CHOICES':\n            {\n              return state.map(function (obj) {\n                var choice = obj; // Set active state based on whether choice is\n                // within filtered results\n\n                choice.active = action.results.some(function (_ref) {\n                  var item = _ref.item,\n                      score = _ref.score;\n\n                  if (item.id === choice.id) {\n                    choice.score = score;\n                    return true;\n                  }\n\n                  return false;\n                });\n                return choice;\n              });\n            }\n\n          case 'ACTIVATE_CHOICES':\n            {\n              return state.map(function (obj) {\n                var choice = obj;\n                choice.active = action.active;\n                return choice;\n              });\n            }\n\n          case 'CLEAR_CHOICES':\n            {\n              return choices_defaultState;\n            }\n\n          default:\n            {\n              return state;\n            }\n        }\n      } // CONCATENATED MODULE: ./src/scripts/reducers/general.js\n\n\n      var general_defaultState = {\n        loading: false\n      };\n\n      var general = function general(state, action) {\n        if (state === void 0) {\n          state = general_defaultState;\n        }\n\n        switch (action.type) {\n          case 'SET_IS_LOADING':\n            {\n              return {\n                loading: action.isLoading\n              };\n            }\n\n          default:\n            {\n              return state;\n            }\n        }\n      };\n      /* harmony default export */\n\n\n      var reducers_general = general; // CONCATENATED MODULE: ./src/scripts/lib/utils.js\n\n      /**\n       * @param {number} min\n       * @param {number} max\n       * @returns {number}\n       */\n\n      var getRandomNumber = function getRandomNumber(min, max) {\n        return Math.floor(Math.random() * (max - min) + min);\n      };\n      /**\n       * @param {number} length\n       * @returns {string}\n       */\n\n\n      var generateChars = function generateChars(length) {\n        return Array.from({\n          length: length\n        }, function () {\n          return getRandomNumber(0, 36).toString(36);\n        }).join('');\n      };\n      /**\n       * @param {HTMLInputElement | HTMLSelectElement} element\n       * @param {string} prefix\n       * @returns {string}\n       */\n\n\n      var generateId = function generateId(element, prefix) {\n        var id = element.id || element.name && element.name + \"-\" + generateChars(2) || generateChars(4);\n        id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n        id = prefix + \"-\" + id;\n        return id;\n      };\n      /**\n       * @param {any} obj\n       * @returns {string}\n       */\n\n\n      var getType = function getType(obj) {\n        return Object.prototype.toString.call(obj).slice(8, -1);\n      };\n      /**\n       * @param {string} type\n       * @param {any} obj\n       * @returns {boolean}\n       */\n\n\n      var isType = function isType(type, obj) {\n        return obj !== undefined && obj !== null && getType(obj) === type;\n      };\n      /**\n       * @param {HTMLElement} element\n       * @param {HTMLElement} [wrapper={HTMLDivElement}]\n       * @returns {HTMLElement}\n       */\n\n\n      var utils_wrap = function wrap(element, wrapper) {\n        if (wrapper === void 0) {\n          wrapper = document.createElement('div');\n        }\n\n        if (element.nextSibling) {\n          element.parentNode.insertBefore(wrapper, element.nextSibling);\n        } else {\n          element.parentNode.appendChild(wrapper);\n        }\n\n        return wrapper.appendChild(element);\n      };\n      /**\n       * @param {Element} startEl\n       * @param {string} selector\n       * @param {1 | -1} direction\n       * @returns {Element | undefined}\n       */\n\n\n      var getAdjacentEl = function getAdjacentEl(startEl, selector, direction) {\n        if (direction === void 0) {\n          direction = 1;\n        }\n\n        if (!(startEl instanceof Element) || typeof selector !== 'string') {\n          return undefined;\n        }\n\n        var prop = (direction > 0 ? 'next' : 'previous') + \"ElementSibling\";\n        var sibling = startEl[prop];\n\n        while (sibling) {\n          if (sibling.matches(selector)) {\n            return sibling;\n          }\n\n          sibling = sibling[prop];\n        }\n\n        return sibling;\n      };\n      /**\n       * @param {Element} element\n       * @param {Element} parent\n       * @param {-1 | 1} direction\n       * @returns {boolean}\n       */\n\n\n      var isScrolledIntoView = function isScrolledIntoView(element, parent, direction) {\n        if (direction === void 0) {\n          direction = 1;\n        }\n\n        if (!element) {\n          return false;\n        }\n\n        var isVisible;\n\n        if (direction > 0) {\n          // In view from bottom\n          isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n        } else {\n          // In view from top\n          isVisible = element.offsetTop >= parent.scrollTop;\n        }\n\n        return isVisible;\n      };\n      /**\n       * @param {any} value\n       * @returns {any}\n       */\n\n\n      var sanitise = function sanitise(value) {\n        if (typeof value !== 'string') {\n          return value;\n        }\n\n        return value.replace(/&/g, '&amp;').replace(/>/g, '&rt;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n      };\n      /**\n       * @returns {() => (str: string) => Element}\n       */\n\n\n      var strToEl = function () {\n        var tmpEl = document.createElement('div');\n        return function (str) {\n          var cleanedInput = str.trim();\n          tmpEl.innerHTML = cleanedInput;\n          var firldChild = tmpEl.children[0];\n\n          while (tmpEl.firstChild) {\n            tmpEl.removeChild(tmpEl.firstChild);\n          }\n\n          return firldChild;\n        };\n      }();\n      /**\n       * @param {{ label?: string, value: string }} a\n       * @param {{ label?: string, value: string }} b\n       * @returns {number}\n       */\n\n\n      var sortByAlpha = function sortByAlpha(_ref, _ref2) {\n        var value = _ref.value,\n            _ref$label = _ref.label,\n            label = _ref$label === void 0 ? value : _ref$label;\n        var value2 = _ref2.value,\n            _ref2$label = _ref2.label,\n            label2 = _ref2$label === void 0 ? value2 : _ref2$label;\n        return label.localeCompare(label2, [], {\n          sensitivity: 'base',\n          ignorePunctuation: true,\n          numeric: true\n        });\n      };\n      /**\n       * @param {{ score: number }} a\n       * @param {{ score: number }} b\n       */\n\n\n      var sortByScore = function sortByScore(a, b) {\n        return a.score - b.score;\n      };\n      /**\n       * @param {HTMLElement} element\n       * @param {string} type\n       * @param {object} customArgs\n       */\n\n\n      var dispatchEvent = function dispatchEvent(element, type, customArgs) {\n        if (customArgs === void 0) {\n          customArgs = null;\n        }\n\n        var event = new CustomEvent(type, {\n          detail: customArgs,\n          bubbles: true,\n          cancelable: true\n        });\n        return element.dispatchEvent(event);\n      };\n      /**\n       * @param {array} array\n       * @param {any} value\n       * @param {string} [key=\"value\"]\n       * @returns {boolean}\n       */\n\n\n      var existsInArray = function existsInArray(array, value, key) {\n        if (key === void 0) {\n          key = 'value';\n        }\n\n        return array.some(function (item) {\n          if (typeof value === 'string') {\n            return item[key] === value.trim();\n          }\n\n          return item[key] === value;\n        });\n      };\n      /**\n       * @param {any} obj\n       * @returns {any}\n       */\n\n\n      var cloneObject = function cloneObject(obj) {\n        return JSON.parse(JSON.stringify(obj));\n      };\n      /**\n       * Returns an array of keys present on the first but missing on the second object\n       * @param {object} a\n       * @param {object} b\n       * @returns {string[]}\n       */\n\n\n      var diff = function diff(a, b) {\n        var aKeys = Object.keys(a).sort();\n        var bKeys = Object.keys(b).sort();\n        return aKeys.filter(function (i) {\n          return bKeys.indexOf(i) < 0;\n        });\n      }; // CONCATENATED MODULE: ./src/scripts/reducers/index.js\n\n\n      var appReducer = combineReducers({\n        items: items_items,\n        groups: groups,\n        choices: choices_choices,\n        general: reducers_general\n      });\n\n      var reducers_rootReducer = function rootReducer(passedState, action) {\n        var state = passedState; // If we are clearing all items, groups and options we reassign\n        // state and then pass that state to our proper reducer. This isn't\n        // mutating our actual state\n        // See: http://stackoverflow.com/a/35641992\n\n        if (action.type === 'CLEAR_ALL') {\n          state = undefined;\n        } else if (action.type === 'RESET_TO') {\n          return cloneObject(action.state);\n        }\n\n        return appReducer(state, action);\n      };\n      /* harmony default export */\n\n\n      var reducers = reducers_rootReducer; // CONCATENATED MODULE: ./src/scripts/store/store.js\n\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * @typedef {import('../../../types/index').Choices.Choice} Choice\n       * @typedef {import('../../../types/index').Choices.Group} Group\n       * @typedef {import('../../../types/index').Choices.Item} Item\n       */\n\n\n      var store_Store = /*#__PURE__*/function () {\n        function Store() {\n          this._store = createStore(reducers, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n        }\n        /**\n         * Subscribe store to function call (wrapped Redux method)\n         * @param  {Function} onChange Function to trigger when state changes\n         * @return\n         */\n\n\n        var _proto = Store.prototype;\n\n        _proto.subscribe = function subscribe(onChange) {\n          this._store.subscribe(onChange);\n        }\n        /**\n         * Dispatch event to store (wrapped Redux method)\n         * @param  {{ type: string, [x: string]: any }} action Action to trigger\n         * @return\n         */\n        ;\n\n        _proto.dispatch = function dispatch(action) {\n          this._store.dispatch(action);\n        }\n        /**\n         * Get store object (wrapping Redux method)\n         * @returns {object} State\n         */\n        ;\n        /**\n         * Get loading state from store\n         * @returns {boolean} Loading State\n         */\n\n\n        _proto.isLoading = function isLoading() {\n          return this.state.general.loading;\n        }\n        /**\n         * Get single choice by it's ID\n         * @param {string} id\n         * @returns {Choice | undefined} Found choice\n         */\n        ;\n\n        _proto.getChoiceById = function getChoiceById(id) {\n          return this.activeChoices.find(function (choice) {\n            return choice.id === parseInt(id, 10);\n          });\n        }\n        /**\n         * Get group by group id\n         * @param  {number} id Group ID\n         * @returns {Group | undefined} Group data\n         */\n        ;\n\n        _proto.getGroupById = function getGroupById(id) {\n          return this.groups.find(function (group) {\n            return group.id === id;\n          });\n        };\n\n        _createClass(Store, [{\n          key: \"state\",\n          get: function get() {\n            return this._store.getState();\n          }\n          /**\n           * Get items from store\n           * @returns {Item[]} Item objects\n           */\n\n        }, {\n          key: \"items\",\n          get: function get() {\n            return this.state.items;\n          }\n          /**\n           * Get active items from store\n           * @returns {Item[]} Item objects\n           */\n\n        }, {\n          key: \"activeItems\",\n          get: function get() {\n            return this.items.filter(function (item) {\n              return item.active === true;\n            });\n          }\n          /**\n           * Get highlighted items from store\n           * @returns {Item[]} Item objects\n           */\n\n        }, {\n          key: \"highlightedActiveItems\",\n          get: function get() {\n            return this.items.filter(function (item) {\n              return item.active && item.highlighted;\n            });\n          }\n          /**\n           * Get choices from store\n           * @returns {Choice[]} Option objects\n           */\n\n        }, {\n          key: \"choices\",\n          get: function get() {\n            return this.state.choices;\n          }\n          /**\n           * Get active choices from store\n           * @returns {Choice[]} Option objects\n           */\n\n        }, {\n          key: \"activeChoices\",\n          get: function get() {\n            return this.choices.filter(function (choice) {\n              return choice.active === true;\n            });\n          }\n          /**\n           * Get selectable choices from store\n           * @returns {Choice[]} Option objects\n           */\n\n        }, {\n          key: \"selectableChoices\",\n          get: function get() {\n            return this.choices.filter(function (choice) {\n              return choice.disabled !== true;\n            });\n          }\n          /**\n           * Get choices that can be searched (excluding placeholders)\n           * @returns {Choice[]} Option objects\n           */\n\n        }, {\n          key: \"searchableChoices\",\n          get: function get() {\n            return this.selectableChoices.filter(function (choice) {\n              return choice.placeholder !== true;\n            });\n          }\n          /**\n           * Get placeholder choice from store\n           * @returns {Choice | undefined} Found placeholder\n           */\n\n        }, {\n          key: \"placeholderChoice\",\n          get: function get() {\n            return [].concat(this.choices).reverse().find(function (choice) {\n              return choice.placeholder === true;\n            });\n          }\n          /**\n           * Get groups from store\n           * @returns {Group[]} Group objects\n           */\n\n        }, {\n          key: \"groups\",\n          get: function get() {\n            return this.state.groups;\n          }\n          /**\n           * Get active groups from store\n           * @returns {Group[]} Group objects\n           */\n\n        }, {\n          key: \"activeGroups\",\n          get: function get() {\n            var groups = this.groups,\n                choices = this.choices;\n            return groups.filter(function (group) {\n              var isActive = group.active === true && group.disabled === false;\n              var hasActiveOptions = choices.some(function (choice) {\n                return choice.active === true && choice.disabled === false;\n              });\n              return isActive && hasActiveOptions;\n            }, []);\n          }\n        }]);\n\n        return Store;\n      }(); // CONCATENATED MODULE: ./src/scripts/components/dropdown.js\n\n\n      function dropdown_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function dropdown_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) dropdown_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) dropdown_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n       * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n       */\n\n\n      var Dropdown = /*#__PURE__*/function () {\n        /**\n         * @param {{\n         *  element: HTMLElement,\n         *  type: passedElement['type'],\n         *  classNames: ClassNames,\n         * }} args\n         */\n        function Dropdown(_ref) {\n          var element = _ref.element,\n              type = _ref.type,\n              classNames = _ref.classNames;\n          this.element = element;\n          this.classNames = classNames;\n          this.type = type;\n          this.isActive = false;\n        }\n        /**\n         * Bottom position of dropdown in viewport coordinates\n         * @returns {number} Vertical position\n         */\n\n\n        var _proto = Dropdown.prototype;\n        /**\n         * Find element that matches passed selector\n         * @param {string} selector\n         * @returns {HTMLElement | null}\n         */\n\n        _proto.getChild = function getChild(selector) {\n          return this.element.querySelector(selector);\n        }\n        /**\n         * Show dropdown to user by adding active state class\n         * @returns {this}\n         */\n        ;\n\n        _proto.show = function show() {\n          this.element.classList.add(this.classNames.activeState);\n          this.element.setAttribute('aria-expanded', 'true');\n          this.isActive = true;\n          return this;\n        }\n        /**\n         * Hide dropdown from user\n         * @returns {this}\n         */\n        ;\n\n        _proto.hide = function hide() {\n          this.element.classList.remove(this.classNames.activeState);\n          this.element.setAttribute('aria-expanded', 'false');\n          this.isActive = false;\n          return this;\n        };\n\n        dropdown_createClass(Dropdown, [{\n          key: \"distanceFromTopWindow\",\n          get: function get() {\n            return this.element.getBoundingClientRect().bottom;\n          }\n        }]);\n        return Dropdown;\n      }(); // CONCATENATED MODULE: ./src/scripts/constants.js\n\n      /**\n       * @typedef {import('../../types/index').Choices.ClassNames} ClassNames\n       * @typedef {import('../../types/index').Choices.Options} Options\n       */\n\n      /** @type {ClassNames} */\n\n\n      var DEFAULT_CLASSNAMES = {\n        containerOuter: 'choices',\n        containerInner: 'choices__inner',\n        input: 'choices__input',\n        inputCloned: 'choices__input--cloned',\n        list: 'choices__list',\n        listItems: 'choices__list--multiple',\n        listSingle: 'choices__list--single',\n        listDropdown: 'choices__list--dropdown',\n        item: 'choices__item',\n        itemSelectable: 'choices__item--selectable',\n        itemDisabled: 'choices__item--disabled',\n        itemChoice: 'choices__item--choice',\n        placeholder: 'choices__placeholder',\n        group: 'choices__group',\n        groupHeading: 'choices__heading',\n        button: 'choices__button',\n        activeState: 'is-active',\n        focusState: 'is-focused',\n        openState: 'is-open',\n        disabledState: 'is-disabled',\n        highlightedState: 'is-highlighted',\n        selectedState: 'is-selected',\n        flippedState: 'is-flipped',\n        loadingState: 'is-loading',\n        noResults: 'has-no-results',\n        noChoices: 'has-no-choices'\n      };\n      /** @type {Options} */\n\n      var DEFAULT_CONFIG = {\n        items: [],\n        choices: [],\n        silent: false,\n        renderChoiceLimit: -1,\n        maxItemCount: -1,\n        addItems: true,\n        addItemFilter: null,\n        removeItems: true,\n        removeItemButton: false,\n        editItems: false,\n        duplicateItemsAllowed: true,\n        delimiter: ',',\n        paste: true,\n        searchEnabled: true,\n        searchChoices: true,\n        searchFloor: 1,\n        searchResultLimit: 4,\n        searchFields: ['label', 'value'],\n        position: 'auto',\n        resetScrollPosition: true,\n        shouldSort: true,\n        shouldSortItems: false,\n        sorter: sortByAlpha,\n        shadowRoot: null,\n        placeholder: true,\n        placeholderValue: null,\n        searchPlaceholderValue: null,\n        prependValue: null,\n        appendValue: null,\n        renderSelectedChoices: 'auto',\n        loadingText: 'Loading...',\n        noResultsText: 'No results found',\n        noChoicesText: 'No choices to choose from',\n        itemSelectText: 'Press to select',\n        uniqueItemText: 'Only unique values can be added',\n        customAddItemText: 'Only values matching specific conditions can be added',\n        addItemText: function addItemText(value) {\n          return \"Press Enter to add <b>\\\"\" + sanitise(value) + \"\\\"</b>\";\n        },\n        maxItemText: function maxItemText(maxItemCount) {\n          return \"Only \" + maxItemCount + \" values can be added\";\n        },\n        valueComparer: function valueComparer(value1, value2) {\n          return value1 === value2;\n        },\n        fuseOptions: {\n          includeScore: true\n        },\n        callbackOnInit: null,\n        callbackOnCreateTemplates: null,\n        classNames: DEFAULT_CLASSNAMES\n      };\n      var EVENTS = {\n        showDropdown: 'showDropdown',\n        hideDropdown: 'hideDropdown',\n        change: 'change',\n        choice: 'choice',\n        search: 'search',\n        addItem: 'addItem',\n        removeItem: 'removeItem',\n        highlightItem: 'highlightItem',\n        highlightChoice: 'highlightChoice'\n      };\n      var ACTION_TYPES = {\n        ADD_CHOICE: 'ADD_CHOICE',\n        FILTER_CHOICES: 'FILTER_CHOICES',\n        ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n        CLEAR_CHOICES: 'CLEAR_CHOICES',\n        ADD_GROUP: 'ADD_GROUP',\n        ADD_ITEM: 'ADD_ITEM',\n        REMOVE_ITEM: 'REMOVE_ITEM',\n        HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n        CLEAR_ALL: 'CLEAR_ALL'\n      };\n      var KEY_CODES = {\n        BACK_KEY: 46,\n        DELETE_KEY: 8,\n        ENTER_KEY: 13,\n        A_KEY: 65,\n        ESC_KEY: 27,\n        UP_KEY: 38,\n        DOWN_KEY: 40,\n        PAGE_UP_KEY: 33,\n        PAGE_DOWN_KEY: 34\n      };\n      var TEXT_TYPE = 'text';\n      var SELECT_ONE_TYPE = 'select-one';\n      var SELECT_MULTIPLE_TYPE = 'select-multiple';\n      var SCROLLING_SPEED = 4; // CONCATENATED MODULE: ./src/scripts/components/container.js\n\n      /**\n       * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n       * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n       */\n\n      var container_Container = /*#__PURE__*/function () {\n        /**\n         * @param {{\n         *  element: HTMLElement,\n         *  type: passedElement['type'],\n         *  classNames: ClassNames,\n         *  position\n         * }} args\n         */\n        function Container(_ref) {\n          var element = _ref.element,\n              type = _ref.type,\n              classNames = _ref.classNames,\n              position = _ref.position;\n          this.element = element;\n          this.classNames = classNames;\n          this.type = type;\n          this.position = position;\n          this.isOpen = false;\n          this.isFlipped = false;\n          this.isFocussed = false;\n          this.isDisabled = false;\n          this.isLoading = false;\n          this._onFocus = this._onFocus.bind(this);\n          this._onBlur = this._onBlur.bind(this);\n        }\n\n        var _proto = Container.prototype;\n\n        _proto.addEventListeners = function addEventListeners() {\n          this.element.addEventListener('focus', this._onFocus);\n          this.element.addEventListener('blur', this._onBlur);\n        };\n\n        _proto.removeEventListeners = function removeEventListeners() {\n          this.element.removeEventListener('focus', this._onFocus);\n          this.element.removeEventListener('blur', this._onBlur);\n        }\n        /**\n         * Determine whether container should be flipped based on passed\n         * dropdown position\n         * @param {number} dropdownPos\n         * @returns {boolean}\n         */\n        ;\n\n        _proto.shouldFlip = function shouldFlip(dropdownPos) {\n          if (typeof dropdownPos !== 'number') {\n            return false;\n          } // If flip is enabled and the dropdown bottom position is\n          // greater than the window height flip the dropdown.\n\n\n          var shouldFlip = false;\n\n          if (this.position === 'auto') {\n            shouldFlip = !window.matchMedia(\"(min-height: \" + (dropdownPos + 1) + \"px)\").matches;\n          } else if (this.position === 'top') {\n            shouldFlip = true;\n          }\n\n          return shouldFlip;\n        }\n        /**\n         * @param {string} activeDescendantID\n         */\n        ;\n\n        _proto.setActiveDescendant = function setActiveDescendant(activeDescendantID) {\n          this.element.setAttribute('aria-activedescendant', activeDescendantID);\n        };\n\n        _proto.removeActiveDescendant = function removeActiveDescendant() {\n          this.element.removeAttribute('aria-activedescendant');\n        }\n        /**\n         * @param {number} dropdownPos\n         */\n        ;\n\n        _proto.open = function open(dropdownPos) {\n          this.element.classList.add(this.classNames.openState);\n          this.element.setAttribute('aria-expanded', 'true');\n          this.isOpen = true;\n\n          if (this.shouldFlip(dropdownPos)) {\n            this.element.classList.add(this.classNames.flippedState);\n            this.isFlipped = true;\n          }\n        };\n\n        _proto.close = function close() {\n          this.element.classList.remove(this.classNames.openState);\n          this.element.setAttribute('aria-expanded', 'false');\n          this.removeActiveDescendant();\n          this.isOpen = false; // A dropdown flips if it does not have space within the page\n\n          if (this.isFlipped) {\n            this.element.classList.remove(this.classNames.flippedState);\n            this.isFlipped = false;\n          }\n        };\n\n        _proto.focus = function focus() {\n          if (!this.isFocussed) {\n            this.element.focus();\n          }\n        };\n\n        _proto.addFocusState = function addFocusState() {\n          this.element.classList.add(this.classNames.focusState);\n        };\n\n        _proto.removeFocusState = function removeFocusState() {\n          this.element.classList.remove(this.classNames.focusState);\n        };\n\n        _proto.enable = function enable() {\n          this.element.classList.remove(this.classNames.disabledState);\n          this.element.removeAttribute('aria-disabled');\n\n          if (this.type === SELECT_ONE_TYPE) {\n            this.element.setAttribute('tabindex', '0');\n          }\n\n          this.isDisabled = false;\n        };\n\n        _proto.disable = function disable() {\n          this.element.classList.add(this.classNames.disabledState);\n          this.element.setAttribute('aria-disabled', 'true');\n\n          if (this.type === SELECT_ONE_TYPE) {\n            this.element.setAttribute('tabindex', '-1');\n          }\n\n          this.isDisabled = true;\n        }\n        /**\n         * @param {HTMLElement} element\n         */\n        ;\n\n        _proto.wrap = function wrap(element) {\n          utils_wrap(element, this.element);\n        }\n        /**\n         * @param {Element} element\n         */\n        ;\n\n        _proto.unwrap = function unwrap(element) {\n          // Move passed element outside this element\n          this.element.parentNode.insertBefore(element, this.element); // Remove this element\n\n          this.element.parentNode.removeChild(this.element);\n        };\n\n        _proto.addLoadingState = function addLoadingState() {\n          this.element.classList.add(this.classNames.loadingState);\n          this.element.setAttribute('aria-busy', 'true');\n          this.isLoading = true;\n        };\n\n        _proto.removeLoadingState = function removeLoadingState() {\n          this.element.classList.remove(this.classNames.loadingState);\n          this.element.removeAttribute('aria-busy');\n          this.isLoading = false;\n        };\n\n        _proto._onFocus = function _onFocus() {\n          this.isFocussed = true;\n        };\n\n        _proto._onBlur = function _onBlur() {\n          this.isFocussed = false;\n        };\n\n        return Container;\n      }(); // CONCATENATED MODULE: ./src/scripts/components/input.js\n\n\n      function input_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function input_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) input_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) input_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n       * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n       */\n\n\n      var input_Input = /*#__PURE__*/function () {\n        /**\n         * @param {{\n         *  element: HTMLInputElement,\n         *  type: passedElement['type'],\n         *  classNames: ClassNames,\n         *  preventPaste: boolean\n         * }} args\n         */\n        function Input(_ref) {\n          var element = _ref.element,\n              type = _ref.type,\n              classNames = _ref.classNames,\n              preventPaste = _ref.preventPaste;\n          this.element = element;\n          this.type = type;\n          this.classNames = classNames;\n          this.preventPaste = preventPaste;\n          this.isFocussed = this.element === document.activeElement;\n          this.isDisabled = element.disabled;\n          this._onPaste = this._onPaste.bind(this);\n          this._onInput = this._onInput.bind(this);\n          this._onFocus = this._onFocus.bind(this);\n          this._onBlur = this._onBlur.bind(this);\n        }\n        /**\n         * @param {string} placeholder\n         */\n\n\n        var _proto = Input.prototype;\n\n        _proto.addEventListeners = function addEventListeners() {\n          this.element.addEventListener('paste', this._onPaste);\n          this.element.addEventListener('input', this._onInput, {\n            passive: true\n          });\n          this.element.addEventListener('focus', this._onFocus, {\n            passive: true\n          });\n          this.element.addEventListener('blur', this._onBlur, {\n            passive: true\n          });\n        };\n\n        _proto.removeEventListeners = function removeEventListeners() {\n          this.element.removeEventListener('input', this._onInput, {\n            passive: true\n          });\n          this.element.removeEventListener('paste', this._onPaste);\n          this.element.removeEventListener('focus', this._onFocus, {\n            passive: true\n          });\n          this.element.removeEventListener('blur', this._onBlur, {\n            passive: true\n          });\n        };\n\n        _proto.enable = function enable() {\n          this.element.removeAttribute('disabled');\n          this.isDisabled = false;\n        };\n\n        _proto.disable = function disable() {\n          this.element.setAttribute('disabled', '');\n          this.isDisabled = true;\n        };\n\n        _proto.focus = function focus() {\n          if (!this.isFocussed) {\n            this.element.focus();\n          }\n        };\n\n        _proto.blur = function blur() {\n          if (this.isFocussed) {\n            this.element.blur();\n          }\n        }\n        /**\n         * Set value of input to blank\n         * @param {boolean} setWidth\n         * @returns {this}\n         */\n        ;\n\n        _proto.clear = function clear(setWidth) {\n          if (setWidth === void 0) {\n            setWidth = true;\n          }\n\n          if (this.element.value) {\n            this.element.value = '';\n          }\n\n          if (setWidth) {\n            this.setWidth();\n          }\n\n          return this;\n        }\n        /**\n         * Set the correct input width based on placeholder\n         * value or input value\n         */\n        ;\n\n        _proto.setWidth = function setWidth() {\n          // Resize input to contents or placeholder\n          var _this$element = this.element,\n              style = _this$element.style,\n              value = _this$element.value,\n              placeholder = _this$element.placeholder;\n          style.minWidth = placeholder.length + 1 + \"ch\";\n          style.width = value.length + 1 + \"ch\";\n        }\n        /**\n         * @param {string} activeDescendantID\n         */\n        ;\n\n        _proto.setActiveDescendant = function setActiveDescendant(activeDescendantID) {\n          this.element.setAttribute('aria-activedescendant', activeDescendantID);\n        };\n\n        _proto.removeActiveDescendant = function removeActiveDescendant() {\n          this.element.removeAttribute('aria-activedescendant');\n        };\n\n        _proto._onInput = function _onInput() {\n          if (this.type !== SELECT_ONE_TYPE) {\n            this.setWidth();\n          }\n        }\n        /**\n         * @param {Event} event\n         */\n        ;\n\n        _proto._onPaste = function _onPaste(event) {\n          if (this.preventPaste) {\n            event.preventDefault();\n          }\n        };\n\n        _proto._onFocus = function _onFocus() {\n          this.isFocussed = true;\n        };\n\n        _proto._onBlur = function _onBlur() {\n          this.isFocussed = false;\n        };\n\n        input_createClass(Input, [{\n          key: \"placeholder\",\n          set: function set(placeholder) {\n            this.element.placeholder = placeholder;\n          }\n          /**\n           * @returns {string}\n           */\n\n        }, {\n          key: \"value\",\n          get: function get() {\n            return sanitise(this.element.value);\n          }\n          /**\n           * @param {string} value\n           */\n          ,\n          set: function set(value) {\n            this.element.value = value;\n          }\n        }]);\n        return Input;\n      }(); // CONCATENATED MODULE: ./src/scripts/components/list.js\n\n      /**\n       * @typedef {import('../../../types/index').Choices.Choice} Choice\n       */\n\n\n      var list_List = /*#__PURE__*/function () {\n        /**\n         * @param {{ element: HTMLElement }} args\n         */\n        function List(_ref) {\n          var element = _ref.element;\n          this.element = element;\n          this.scrollPos = this.element.scrollTop;\n          this.height = this.element.offsetHeight;\n        }\n\n        var _proto = List.prototype;\n\n        _proto.clear = function clear() {\n          this.element.innerHTML = '';\n        }\n        /**\n         * @param {Element | DocumentFragment} node\n         */\n        ;\n\n        _proto.append = function append(node) {\n          this.element.appendChild(node);\n        }\n        /**\n         * @param {string} selector\n         * @returns {Element | null}\n         */\n        ;\n\n        _proto.getChild = function getChild(selector) {\n          return this.element.querySelector(selector);\n        }\n        /**\n         * @returns {boolean}\n         */\n        ;\n\n        _proto.hasChildren = function hasChildren() {\n          return this.element.hasChildNodes();\n        };\n\n        _proto.scrollToTop = function scrollToTop() {\n          this.element.scrollTop = 0;\n        }\n        /**\n         * @param {Element} element\n         * @param {1 | -1} direction\n         */\n        ;\n\n        _proto.scrollToChildElement = function scrollToChildElement(element, direction) {\n          var _this = this;\n\n          if (!element) {\n            return;\n          }\n\n          var listHeight = this.element.offsetHeight; // Scroll position of dropdown\n\n          var listScrollPosition = this.element.scrollTop + listHeight;\n          var elementHeight = element.offsetHeight; // Distance from bottom of element to top of parent\n\n          var elementPos = element.offsetTop + elementHeight; // Difference between the element and scroll position\n\n          var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n          requestAnimationFrame(function () {\n            _this._animateScroll(destination, direction);\n          });\n        }\n        /**\n         * @param {number} scrollPos\n         * @param {number} strength\n         * @param {number} destination\n         */\n        ;\n\n        _proto._scrollDown = function _scrollDown(scrollPos, strength, destination) {\n          var easing = (destination - scrollPos) / strength;\n          var distance = easing > 1 ? easing : 1;\n          this.element.scrollTop = scrollPos + distance;\n        }\n        /**\n         * @param {number} scrollPos\n         * @param {number} strength\n         * @param {number} destination\n         */\n        ;\n\n        _proto._scrollUp = function _scrollUp(scrollPos, strength, destination) {\n          var easing = (scrollPos - destination) / strength;\n          var distance = easing > 1 ? easing : 1;\n          this.element.scrollTop = scrollPos - distance;\n        }\n        /**\n         * @param {*} destination\n         * @param {*} direction\n         */\n        ;\n\n        _proto._animateScroll = function _animateScroll(destination, direction) {\n          var _this2 = this;\n\n          var strength = SCROLLING_SPEED;\n          var choiceListScrollTop = this.element.scrollTop;\n          var continueAnimation = false;\n\n          if (direction > 0) {\n            this._scrollDown(choiceListScrollTop, strength, destination);\n\n            if (choiceListScrollTop < destination) {\n              continueAnimation = true;\n            }\n          } else {\n            this._scrollUp(choiceListScrollTop, strength, destination);\n\n            if (choiceListScrollTop > destination) {\n              continueAnimation = true;\n            }\n          }\n\n          if (continueAnimation) {\n            requestAnimationFrame(function () {\n              _this2._animateScroll(destination, direction);\n            });\n          }\n        };\n\n        return List;\n      }(); // CONCATENATED MODULE: ./src/scripts/components/wrapped-element.js\n\n\n      function wrapped_element_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function wrapped_element_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) wrapped_element_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) wrapped_element_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /**\n       * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n       * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n       */\n\n\n      var wrapped_element_WrappedElement = /*#__PURE__*/function () {\n        /**\n         * @param {{\n         *  element: HTMLInputElement | HTMLSelectElement,\n         *  classNames: ClassNames,\n         * }} args\n         */\n        function WrappedElement(_ref) {\n          var element = _ref.element,\n              classNames = _ref.classNames;\n          this.element = element;\n          this.classNames = classNames;\n\n          if (!(element instanceof HTMLInputElement) && !(element instanceof HTMLSelectElement)) {\n            throw new TypeError('Invalid element passed');\n          }\n\n          this.isDisabled = false;\n        }\n\n        var _proto = WrappedElement.prototype;\n\n        _proto.conceal = function conceal() {\n          // Hide passed input\n          this.element.classList.add(this.classNames.input);\n          this.element.hidden = true; // Remove element from tab index\n\n          this.element.tabIndex = -1; // Backup original styles if any\n\n          var origStyle = this.element.getAttribute('style');\n\n          if (origStyle) {\n            this.element.setAttribute('data-choice-orig-style', origStyle);\n          }\n\n          this.element.setAttribute('data-choice', 'active');\n        };\n\n        _proto.reveal = function reveal() {\n          // Reinstate passed element\n          this.element.classList.remove(this.classNames.input);\n          this.element.hidden = false;\n          this.element.removeAttribute('tabindex'); // Recover original styles if any\n\n          var origStyle = this.element.getAttribute('data-choice-orig-style');\n\n          if (origStyle) {\n            this.element.removeAttribute('data-choice-orig-style');\n            this.element.setAttribute('style', origStyle);\n          } else {\n            this.element.removeAttribute('style');\n          }\n\n          this.element.removeAttribute('data-choice'); // Re-assign values - this is weird, I know\n          // @todo Figure out why we need to do this\n\n          this.element.value = this.element.value; // eslint-disable-line no-self-assign\n        };\n\n        _proto.enable = function enable() {\n          this.element.removeAttribute('disabled');\n          this.element.disabled = false;\n          this.isDisabled = false;\n        };\n\n        _proto.disable = function disable() {\n          this.element.setAttribute('disabled', '');\n          this.element.disabled = true;\n          this.isDisabled = true;\n        };\n\n        _proto.triggerEvent = function triggerEvent(eventType, data) {\n          dispatchEvent(this.element, eventType, data);\n        };\n\n        wrapped_element_createClass(WrappedElement, [{\n          key: \"isActive\",\n          get: function get() {\n            return this.element.dataset.choice === 'active';\n          }\n        }, {\n          key: \"dir\",\n          get: function get() {\n            return this.element.dir;\n          }\n        }, {\n          key: \"value\",\n          get: function get() {\n            return this.element.value;\n          },\n          set: function set(value) {\n            // you must define setter here otherwise it will be readonly property\n            this.element.value = value;\n          }\n        }]);\n        return WrappedElement;\n      }(); // CONCATENATED MODULE: ./src/scripts/components/wrapped-input.js\n\n\n      function wrapped_input_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function wrapped_input_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) wrapped_input_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) wrapped_input_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n       * @typedef {import('../../../types/index').Choices.Item} Item\n       */\n\n\n      var WrappedInput = /*#__PURE__*/function (_WrappedElement) {\n        _inheritsLoose(WrappedInput, _WrappedElement);\n        /**\n         * @param {{\n         *  element: HTMLInputElement,\n         *  classNames: ClassNames,\n         *  delimiter: string\n         * }} args\n         */\n\n\n        function WrappedInput(_ref) {\n          var _this;\n\n          var element = _ref.element,\n              classNames = _ref.classNames,\n              delimiter = _ref.delimiter;\n          _this = _WrappedElement.call(this, {\n            element: element,\n            classNames: classNames\n          }) || this;\n          _this.delimiter = delimiter;\n          return _this;\n        }\n        /**\n         * @returns {string}\n         */\n\n\n        wrapped_input_createClass(WrappedInput, [{\n          key: \"value\",\n          get: function get() {\n            return this.element.value;\n          }\n          /**\n           * @param {Item[]} items\n           */\n          ,\n          set: function set(items) {\n            var itemValues = items.map(function (_ref2) {\n              var value = _ref2.value;\n              return value;\n            });\n            var joinedValues = itemValues.join(this.delimiter);\n            this.element.setAttribute('value', joinedValues);\n            this.element.value = joinedValues;\n          }\n        }]);\n        return WrappedInput;\n      }(wrapped_element_WrappedElement); // CONCATENATED MODULE: ./src/scripts/components/wrapped-select.js\n\n\n      function wrapped_select_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function wrapped_select_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) wrapped_select_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) wrapped_select_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n\n      function wrapped_select_inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n      }\n      /**\n       * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n       * @typedef {import('../../../types/index').Choices.Item} Item\n       * @typedef {import('../../../types/index').Choices.Choice} Choice\n       */\n\n\n      var WrappedSelect = /*#__PURE__*/function (_WrappedElement) {\n        wrapped_select_inheritsLoose(WrappedSelect, _WrappedElement);\n        /**\n         * @param {{\n         *  element: HTMLSelectElement,\n         *  classNames: ClassNames,\n         *  delimiter: string\n         *  template: function\n         * }} args\n         */\n\n        function WrappedSelect(_ref) {\n          var _this;\n\n          var element = _ref.element,\n              classNames = _ref.classNames,\n              template = _ref.template;\n          _this = _WrappedElement.call(this, {\n            element: element,\n            classNames: classNames\n          }) || this;\n          _this.template = template;\n          return _this;\n        }\n\n        var _proto = WrappedSelect.prototype;\n        /**\n         * @param {DocumentFragment} fragment\n         */\n\n        _proto.appendDocFragment = function appendDocFragment(fragment) {\n          this.element.innerHTML = '';\n          this.element.appendChild(fragment);\n        };\n\n        wrapped_select_createClass(WrappedSelect, [{\n          key: \"placeholderOption\",\n          get: function get() {\n            return this.element.querySelector('option[value=\"\"]') || // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n            this.element.querySelector('option[placeholder]');\n          }\n          /**\n           * @returns {Element[]}\n           */\n\n        }, {\n          key: \"optionGroups\",\n          get: function get() {\n            return Array.from(this.element.getElementsByTagName('OPTGROUP'));\n          }\n          /**\n           * @returns {Item[] | Choice[]}\n           */\n\n        }, {\n          key: \"options\",\n          get: function get() {\n            return Array.from(this.element.options);\n          }\n          /**\n           * @param {Item[] | Choice[]} options\n           */\n          ,\n          set: function set(options) {\n            var _this2 = this;\n\n            var fragment = document.createDocumentFragment();\n\n            var addOptionToFragment = function addOptionToFragment(data) {\n              // Create a standard select option\n              var option = _this2.template(data); // Append it to fragment\n\n\n              fragment.appendChild(option);\n            }; // Add each list item to list\n\n\n            options.forEach(function (optionData) {\n              return addOptionToFragment(optionData);\n            });\n            this.appendDocFragment(fragment);\n          }\n        }]);\n        return WrappedSelect;\n      }(wrapped_element_WrappedElement); // CONCATENATED MODULE: ./src/scripts/components/index.js\n      // CONCATENATED MODULE: ./src/scripts/templates.js\n\n      /**\n       * Helpers to create HTML elements used by Choices\n       * Can be overridden by providing `callbackOnCreateTemplates` option\n       * @typedef {import('../../types/index').Choices.Templates} Templates\n       * @typedef {import('../../types/index').Choices.ClassNames} ClassNames\n       * @typedef {import('../../types/index').Choices.Options} Options\n       * @typedef {import('../../types/index').Choices.Item} Item\n       * @typedef {import('../../types/index').Choices.Choice} Choice\n       * @typedef {import('../../types/index').Choices.Group} Group\n       */\n\n\n      var TEMPLATES =\n      /** @type {Templates} */\n      {\n        /**\n         * @param {Partial<ClassNames>} classNames\n         * @param {\"ltr\" | \"rtl\" | \"auto\"} dir\n         * @param {boolean} isSelectElement\n         * @param {boolean} isSelectOneElement\n         * @param {boolean} searchEnabled\n         * @param {\"select-one\" | \"select-multiple\" | \"text\"} passedElementType\n         */\n        containerOuter: function containerOuter(_ref, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType) {\n          var _containerOuter = _ref.containerOuter;\n          var div = Object.assign(document.createElement('div'), {\n            className: _containerOuter\n          });\n          div.dataset.type = passedElementType;\n\n          if (dir) {\n            div.dir = dir;\n          }\n\n          if (isSelectOneElement) {\n            div.tabIndex = 0;\n          }\n\n          if (isSelectElement) {\n            div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n\n            if (searchEnabled) {\n              div.setAttribute('aria-autocomplete', 'list');\n            }\n          }\n\n          div.setAttribute('aria-haspopup', 'true');\n          div.setAttribute('aria-expanded', 'false');\n          return div;\n        },\n\n        /**\n         * @param {Partial<ClassNames>} classNames\n         */\n        containerInner: function containerInner(_ref2) {\n          var _containerInner = _ref2.containerInner;\n          return Object.assign(document.createElement('div'), {\n            className: _containerInner\n          });\n        },\n\n        /**\n         * @param {Partial<ClassNames>} classNames\n         * @param {boolean} isSelectOneElement\n         */\n        itemList: function itemList(_ref3, isSelectOneElement) {\n          var list = _ref3.list,\n              listSingle = _ref3.listSingle,\n              listItems = _ref3.listItems;\n          return Object.assign(document.createElement('div'), {\n            className: list + \" \" + (isSelectOneElement ? listSingle : listItems)\n          });\n        },\n\n        /**\n         * @param {Partial<ClassNames>} classNames\n         * @param {string} value\n         */\n        placeholder: function placeholder(_ref4, value) {\n          var _placeholder = _ref4.placeholder;\n          return Object.assign(document.createElement('div'), {\n            className: _placeholder,\n            innerHTML: value\n          });\n        },\n\n        /**\n         * @param {Partial<ClassNames>} classNames\n         * @param {Item} item\n         * @param {boolean} removeItemButton\n         */\n        item: function item(_ref5, _ref6, removeItemButton) {\n          var _item = _ref5.item,\n              button = _ref5.button,\n              highlightedState = _ref5.highlightedState,\n              itemSelectable = _ref5.itemSelectable,\n              placeholder = _ref5.placeholder;\n          var id = _ref6.id,\n              value = _ref6.value,\n              label = _ref6.label,\n              customProperties = _ref6.customProperties,\n              active = _ref6.active,\n              disabled = _ref6.disabled,\n              highlighted = _ref6.highlighted,\n              isPlaceholder = _ref6.placeholder;\n          var div = Object.assign(document.createElement('div'), {\n            className: _item,\n            innerHTML: label\n          });\n          Object.assign(div.dataset, {\n            item: '',\n            id: id,\n            value: value,\n            customProperties: customProperties\n          });\n\n          if (active) {\n            div.setAttribute('aria-selected', 'true');\n          }\n\n          if (disabled) {\n            div.setAttribute('aria-disabled', 'true');\n          }\n\n          if (isPlaceholder) {\n            div.classList.add(placeholder);\n          }\n\n          div.classList.add(highlighted ? highlightedState : itemSelectable);\n\n          if (removeItemButton) {\n            if (disabled) {\n              div.classList.remove(itemSelectable);\n            }\n\n            div.dataset.deletable = '';\n            /** @todo This MUST be localizable, not hardcoded! */\n\n            var REMOVE_ITEM_TEXT = 'Remove item';\n            var removeButton = Object.assign(document.createElement('button'), {\n              type: 'button',\n              className: button,\n              innerHTML: REMOVE_ITEM_TEXT\n            });\n            removeButton.setAttribute('aria-label', REMOVE_ITEM_TEXT + \": '\" + value + \"'\");\n            removeButton.dataset.button = '';\n            div.appendChild(removeButton);\n          }\n\n          return div;\n        },\n\n        /**\n         * @param {Partial<ClassNames>} classNames\n         * @param {boolean} isSelectOneElement\n         */\n        choiceList: function choiceList(_ref7, isSelectOneElement) {\n          var list = _ref7.list;\n          var div = Object.assign(document.createElement('div'), {\n            className: list\n          });\n\n          if (!isSelectOneElement) {\n            div.setAttribute('aria-multiselectable', 'true');\n          }\n\n          div.setAttribute('role', 'listbox');\n          return div;\n        },\n\n        /**\n         * @param {Partial<ClassNames>} classNames\n         * @param {Group} group\n         */\n        choiceGroup: function choiceGroup(_ref8, _ref9) {\n          var group = _ref8.group,\n              groupHeading = _ref8.groupHeading,\n              itemDisabled = _ref8.itemDisabled;\n          var id = _ref9.id,\n              value = _ref9.value,\n              disabled = _ref9.disabled;\n          var div = Object.assign(document.createElement('div'), {\n            className: group + \" \" + (disabled ? itemDisabled : '')\n          });\n          div.setAttribute('role', 'group');\n          Object.assign(div.dataset, {\n            group: '',\n            id: id,\n            value: value\n          });\n\n          if (disabled) {\n            div.setAttribute('aria-disabled', 'true');\n          }\n\n          div.appendChild(Object.assign(document.createElement('div'), {\n            className: groupHeading,\n            innerHTML: value\n          }));\n          return div;\n        },\n\n        /**\n         * @param {Partial<ClassNames>} classNames\n         * @param {Choice} choice\n         * @param {Options['itemSelectText']} selectText\n         */\n        choice: function choice(_ref10, _ref11, selectText) {\n          var item = _ref10.item,\n              itemChoice = _ref10.itemChoice,\n              itemSelectable = _ref10.itemSelectable,\n              selectedState = _ref10.selectedState,\n              itemDisabled = _ref10.itemDisabled,\n              placeholder = _ref10.placeholder;\n          var id = _ref11.id,\n              value = _ref11.value,\n              label = _ref11.label,\n              groupId = _ref11.groupId,\n              elementId = _ref11.elementId,\n              isDisabled = _ref11.disabled,\n              isSelected = _ref11.selected,\n              isPlaceholder = _ref11.placeholder;\n          var div = Object.assign(document.createElement('div'), {\n            id: elementId,\n            innerHTML: label,\n            className: item + \" \" + itemChoice\n          });\n\n          if (isSelected) {\n            div.classList.add(selectedState);\n          }\n\n          if (isPlaceholder) {\n            div.classList.add(placeholder);\n          }\n\n          div.setAttribute('role', groupId > 0 ? 'treeitem' : 'option');\n          Object.assign(div.dataset, {\n            choice: '',\n            id: id,\n            value: value,\n            selectText: selectText\n          });\n\n          if (isDisabled) {\n            div.classList.add(itemDisabled);\n            div.dataset.choiceDisabled = '';\n            div.setAttribute('aria-disabled', 'true');\n          } else {\n            div.classList.add(itemSelectable);\n            div.dataset.choiceSelectable = '';\n          }\n\n          return div;\n        },\n\n        /**\n         * @param {Partial<ClassNames>} classNames\n         * @param {string} placeholderValue\n         */\n        input: function input(_ref12, placeholderValue) {\n          var _input = _ref12.input,\n              inputCloned = _ref12.inputCloned;\n          var inp = Object.assign(document.createElement('input'), {\n            type: 'text',\n            className: _input + \" \" + inputCloned,\n            autocomplete: 'off',\n            autocapitalize: 'off',\n            spellcheck: false\n          });\n          inp.setAttribute('role', 'textbox');\n          inp.setAttribute('aria-autocomplete', 'list');\n          inp.setAttribute('aria-label', placeholderValue);\n          return inp;\n        },\n\n        /**\n         * @param {Partial<ClassNames>} classNames\n         */\n        dropdown: function dropdown(_ref13) {\n          var list = _ref13.list,\n              listDropdown = _ref13.listDropdown;\n          var div = document.createElement('div');\n          div.classList.add(list, listDropdown);\n          div.setAttribute('aria-expanded', 'false');\n          return div;\n        },\n\n        /**\n         *\n         * @param {Partial<ClassNames>} classNames\n         * @param {string} innerHTML\n         * @param {\"no-choices\" | \"no-results\" | \"\"} type\n         */\n        notice: function notice(_ref14, innerHTML, type) {\n          var item = _ref14.item,\n              itemChoice = _ref14.itemChoice,\n              noResults = _ref14.noResults,\n              noChoices = _ref14.noChoices;\n\n          if (type === void 0) {\n            type = '';\n          }\n\n          var classes = [item, itemChoice];\n\n          if (type === 'no-choices') {\n            classes.push(noChoices);\n          } else if (type === 'no-results') {\n            classes.push(noResults);\n          }\n\n          return Object.assign(document.createElement('div'), {\n            innerHTML: innerHTML,\n            className: classes.join(' ')\n          });\n        },\n\n        /**\n         * @param {Item} option\n         */\n        option: function option(_ref15) {\n          var label = _ref15.label,\n              value = _ref15.value,\n              customProperties = _ref15.customProperties,\n              active = _ref15.active,\n              disabled = _ref15.disabled;\n          var opt = new Option(label, value, false, active);\n\n          if (customProperties) {\n            opt.dataset.customProperties = customProperties;\n          }\n\n          opt.disabled = disabled;\n          return opt;\n        }\n      };\n      /* harmony default export */\n\n      var templates = TEMPLATES; // CONCATENATED MODULE: ./src/scripts/actions/choices.js\n\n      /**\n       * @typedef {import('redux').Action} Action\n       * @typedef {import('../../../types/index').Choices.Choice} Choice\n       */\n\n      /**\n       * @argument {Choice} choice\n       * @returns {Action & Choice}\n       */\n\n      var choices_addChoice = function addChoice(_ref) {\n        var value = _ref.value,\n            label = _ref.label,\n            id = _ref.id,\n            groupId = _ref.groupId,\n            disabled = _ref.disabled,\n            elementId = _ref.elementId,\n            customProperties = _ref.customProperties,\n            placeholder = _ref.placeholder,\n            keyCode = _ref.keyCode;\n        return {\n          type: ACTION_TYPES.ADD_CHOICE,\n          value: value,\n          label: label,\n          id: id,\n          groupId: groupId,\n          disabled: disabled,\n          elementId: elementId,\n          customProperties: customProperties,\n          placeholder: placeholder,\n          keyCode: keyCode\n        };\n      };\n      /**\n       * @argument {Choice[]} results\n       * @returns {Action & { results: Choice[] }}\n       */\n\n\n      var choices_filterChoices = function filterChoices(results) {\n        return {\n          type: ACTION_TYPES.FILTER_CHOICES,\n          results: results\n        };\n      };\n      /**\n       * @argument {boolean} active\n       * @returns {Action & { active: boolean }}\n       */\n\n\n      var choices_activateChoices = function activateChoices(active) {\n        if (active === void 0) {\n          active = true;\n        }\n\n        return {\n          type: ACTION_TYPES.ACTIVATE_CHOICES,\n          active: active\n        };\n      };\n      /**\n       * @returns {Action}\n       */\n\n\n      var choices_clearChoices = function clearChoices() {\n        return {\n          type: ACTION_TYPES.CLEAR_CHOICES\n        };\n      }; // CONCATENATED MODULE: ./src/scripts/actions/items.js\n\n      /**\n       * @typedef {import('redux').Action} Action\n       * @typedef {import('../../../types/index').Choices.Item} Item\n       */\n\n      /**\n       * @param {Item} item\n       * @returns {Action & Item}\n       */\n\n\n      var items_addItem = function addItem(_ref) {\n        var value = _ref.value,\n            label = _ref.label,\n            id = _ref.id,\n            choiceId = _ref.choiceId,\n            groupId = _ref.groupId,\n            customProperties = _ref.customProperties,\n            placeholder = _ref.placeholder,\n            keyCode = _ref.keyCode;\n        return {\n          type: ACTION_TYPES.ADD_ITEM,\n          value: value,\n          label: label,\n          id: id,\n          choiceId: choiceId,\n          groupId: groupId,\n          customProperties: customProperties,\n          placeholder: placeholder,\n          keyCode: keyCode\n        };\n      };\n      /**\n       * @param {string} id\n       * @param {string} choiceId\n       * @returns {Action & { id: string, choiceId: string }}\n       */\n\n\n      var items_removeItem = function removeItem(id, choiceId) {\n        return {\n          type: ACTION_TYPES.REMOVE_ITEM,\n          id: id,\n          choiceId: choiceId\n        };\n      };\n      /**\n       * @param {string} id\n       * @param {boolean} highlighted\n       * @returns {Action & { id: string, highlighted: boolean }}\n       */\n\n\n      var items_highlightItem = function highlightItem(id, highlighted) {\n        return {\n          type: ACTION_TYPES.HIGHLIGHT_ITEM,\n          id: id,\n          highlighted: highlighted\n        };\n      }; // CONCATENATED MODULE: ./src/scripts/actions/groups.js\n\n      /**\n       * @typedef {import('redux').Action} Action\n       * @typedef {import('../../../types/index').Choices.Group} Group\n       */\n\n      /**\n       * @param {Group} group\n       * @returns {Action & Group}\n       */\n\n\n      var groups_addGroup = function addGroup(_ref) {\n        var value = _ref.value,\n            id = _ref.id,\n            active = _ref.active,\n            disabled = _ref.disabled;\n        return {\n          type: ACTION_TYPES.ADD_GROUP,\n          value: value,\n          id: id,\n          active: active,\n          disabled: disabled\n        };\n      }; // CONCATENATED MODULE: ./src/scripts/actions/misc.js\n\n      /**\n       * @typedef {import('redux').Action} Action\n       */\n\n      /**\n       * @returns {Action}\n       */\n\n\n      var clearAll = function clearAll() {\n        return {\n          type: 'CLEAR_ALL'\n        };\n      };\n      /**\n       * @param {any} state\n       * @returns {Action & { state: object }}\n       */\n\n\n      var resetTo = function resetTo(state) {\n        return {\n          type: 'RESET_TO',\n          state: state\n        };\n      };\n      /**\n       * @param {boolean} isLoading\n       * @returns {Action & { isLoading: boolean }}\n       */\n\n\n      var setIsLoading = function setIsLoading(isLoading) {\n        return {\n          type: 'SET_IS_LOADING',\n          isLoading: isLoading\n        };\n      }; // CONCATENATED MODULE: ./src/scripts/choices.js\n\n\n      function choices_defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      function choices_createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) choices_defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) choices_defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      /** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\n\n\n      var IS_IE11 = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style;\n      /**\n       * @typedef {import('../../types/index').Choices.Choice} Choice\n       * @typedef {import('../../types/index').Choices.Item} Item\n       * @typedef {import('../../types/index').Choices.Group} Group\n       * @typedef {import('../../types/index').Choices.Options} Options\n       */\n\n      /** @type {Partial<Options>} */\n\n      var USER_DEFAULTS = {};\n      /**\n       * Choices\n       * @author Josh Johnson<josh@joshuajohnson.co.uk>\n       */\n\n      var choices_Choices = /*#__PURE__*/function () {\n        choices_createClass(Choices, null, [{\n          key: \"defaults\",\n          get: function get() {\n            return Object.preventExtensions({\n              get options() {\n                return USER_DEFAULTS;\n              },\n\n              get templates() {\n                return TEMPLATES;\n              }\n\n            });\n          }\n          /**\n           * @param {string | HTMLInputElement | HTMLSelectElement} element\n           * @param {Partial<Options>} userConfig\n           */\n\n        }]);\n\n        function Choices(element, userConfig) {\n          var _this = this;\n\n          if (element === void 0) {\n            element = '[data-choice]';\n          }\n\n          if (userConfig === void 0) {\n            userConfig = {};\n          }\n          /** @type {Partial<Options>} */\n\n\n          this.config = cjs_default.a.all([DEFAULT_CONFIG, Choices.defaults.options, userConfig], // When merging array configs, replace with a copy of the userConfig array,\n          // instead of concatenating with the default array\n          {\n            arrayMerge: function arrayMerge(_, sourceArray) {\n              return [].concat(sourceArray);\n            }\n          }); // Restore the shadowRoot if provided. deeperge converts it into an empty object.\n\n          if (userConfig.shadowRoot) {\n            this.config.shadowRoot = userConfig.shadowRoot;\n          }\n\n          var invalidConfigOptions = diff(this.config, DEFAULT_CONFIG);\n\n          if (invalidConfigOptions.length) {\n            console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n          }\n\n          var passedElement = typeof element === 'string' ? document.querySelector(element) : element;\n\n          if (!(passedElement instanceof HTMLInputElement || passedElement instanceof HTMLSelectElement)) {\n            throw TypeError('Expected one of the following types text|select-one|select-multiple');\n          }\n\n          this._isTextElement = passedElement.type === TEXT_TYPE;\n          this._isSelectOneElement = passedElement.type === SELECT_ONE_TYPE;\n          this._isSelectMultipleElement = passedElement.type === SELECT_MULTIPLE_TYPE;\n          this._isSelectElement = this._isSelectOneElement || this._isSelectMultipleElement;\n          this.config.searchEnabled = this._isSelectMultipleElement || this.config.searchEnabled;\n\n          if (!['auto', 'always'].includes(this.config.renderSelectedChoices)) {\n            this.config.renderSelectedChoices = 'auto';\n          }\n\n          if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n            var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n            this.config.addItemFilter = re.test.bind(re);\n          }\n\n          if (this._isTextElement) {\n            this.passedElement = new WrappedInput({\n              element: passedElement,\n              classNames: this.config.classNames,\n              delimiter: this.config.delimiter\n            });\n          } else {\n            this.passedElement = new WrappedSelect({\n              element: passedElement,\n              classNames: this.config.classNames,\n              template: function template(data) {\n                return _this._templates.option(data);\n              }\n            });\n          }\n\n          this.initialised = false;\n          this._store = new store_Store();\n          this._initialState = {};\n          this._currentState = {};\n          this._prevState = {};\n          this._currentValue = '';\n          this._canSearch = this.config.searchEnabled;\n          this._isScrollingOnIe = false;\n          this._highlightPosition = 0;\n          this._wasTap = true;\n          this._placeholderValue = this._generatePlaceholderValue();\n          this._baseId = generateId(this.passedElement.element, 'choices-');\n          /**\n           * setting direction in cases where it's explicitly set on passedElement\n           * or when calculated direction is different from the document\n           * @type {HTMLElement['dir']}\n           */\n\n          this._direction = this.passedElement.dir;\n\n          if (!this._direction) {\n            var _window$getComputedSt = window.getComputedStyle(this.passedElement.element),\n                elementDirection = _window$getComputedSt.direction;\n\n            var _window$getComputedSt2 = window.getComputedStyle(document.documentElement),\n                documentDirection = _window$getComputedSt2.direction;\n\n            if (elementDirection !== documentDirection) {\n              this._direction = elementDirection;\n            }\n          }\n\n          this._idNames = {\n            itemChoice: 'item-choice'\n          }; // Assign preset groups from passed element\n\n          this._presetGroups = this.passedElement.optionGroups; // Assign preset options from passed element\n\n          this._presetOptions = this.passedElement.options; // Assign preset choices from passed object\n\n          this._presetChoices = this.config.choices; // Assign preset items from passed object first\n\n          this._presetItems = this.config.items; // Add any values passed from attribute\n\n          if (this.passedElement.value) {\n            this._presetItems = this._presetItems.concat(this.passedElement.value.split(this.config.delimiter));\n          } // Create array of choices from option elements\n\n\n          if (this.passedElement.options) {\n            this.passedElement.options.forEach(function (o) {\n              _this._presetChoices.push({\n                value: o.value,\n                label: o.innerHTML,\n                selected: o.selected,\n                disabled: o.disabled || o.parentNode.disabled,\n                placeholder: o.value === '' || o.hasAttribute('placeholder'),\n                customProperties: o.getAttribute('data-custom-properties')\n              });\n            });\n          }\n\n          this._render = this._render.bind(this);\n          this._onFocus = this._onFocus.bind(this);\n          this._onBlur = this._onBlur.bind(this);\n          this._onKeyUp = this._onKeyUp.bind(this);\n          this._onKeyDown = this._onKeyDown.bind(this);\n          this._onClick = this._onClick.bind(this);\n          this._onTouchMove = this._onTouchMove.bind(this);\n          this._onTouchEnd = this._onTouchEnd.bind(this);\n          this._onMouseDown = this._onMouseDown.bind(this);\n          this._onMouseOver = this._onMouseOver.bind(this);\n          this._onFormReset = this._onFormReset.bind(this);\n          this._onAKey = this._onAKey.bind(this);\n          this._onEnterKey = this._onEnterKey.bind(this);\n          this._onEscapeKey = this._onEscapeKey.bind(this);\n          this._onDirectionKey = this._onDirectionKey.bind(this);\n          this._onDeleteKey = this._onDeleteKey.bind(this); // If element has already been initialised with Choices, fail silently\n\n          if (this.passedElement.isActive) {\n            if (!this.config.silent) {\n              console.warn('Trying to initialise Choices on element already initialised');\n            }\n\n            this.initialised = true;\n            return;\n          } // Let's go\n\n\n          this.init();\n        }\n\n        var _proto = Choices.prototype;\n\n        _proto.init = function init() {\n          if (this.initialised) {\n            return;\n          }\n\n          this._createTemplates();\n\n          this._createElements();\n\n          this._createStructure(); // Set initial state (We need to clone the state because some reducers\n          // modify the inner objects properties in the state) 🤢\n\n\n          this._initialState = cloneObject(this._store.state);\n\n          this._store.subscribe(this._render);\n\n          this._render();\n\n          this._addEventListeners();\n\n          var shouldDisable = !this.config.addItems || this.passedElement.element.hasAttribute('disabled');\n\n          if (shouldDisable) {\n            this.disable();\n          }\n\n          this.initialised = true;\n          var callbackOnInit = this.config.callbackOnInit; // Run callback if it is a function\n\n          if (callbackOnInit && typeof callbackOnInit === 'function') {\n            callbackOnInit.call(this);\n          }\n        };\n\n        _proto.destroy = function destroy() {\n          if (!this.initialised) {\n            return;\n          }\n\n          this._removeEventListeners();\n\n          this.passedElement.reveal();\n          this.containerOuter.unwrap(this.passedElement.element);\n          this.clearStore();\n\n          if (this._isSelectElement) {\n            this.passedElement.options = this._presetOptions;\n          }\n\n          this._templates = null;\n          this.initialised = false;\n        };\n\n        _proto.enable = function enable() {\n          if (this.passedElement.isDisabled) {\n            this.passedElement.enable();\n          }\n\n          if (this.containerOuter.isDisabled) {\n            this._addEventListeners();\n\n            this.input.enable();\n            this.containerOuter.enable();\n          }\n\n          return this;\n        };\n\n        _proto.disable = function disable() {\n          if (!this.passedElement.isDisabled) {\n            this.passedElement.disable();\n          }\n\n          if (!this.containerOuter.isDisabled) {\n            this._removeEventListeners();\n\n            this.input.disable();\n            this.containerOuter.disable();\n          }\n\n          return this;\n        };\n\n        _proto.highlightItem = function highlightItem(item, runEvent) {\n          if (runEvent === void 0) {\n            runEvent = true;\n          }\n\n          if (!item) {\n            return this;\n          }\n\n          var id = item.id,\n              _item$groupId = item.groupId,\n              groupId = _item$groupId === void 0 ? -1 : _item$groupId,\n              _item$value = item.value,\n              value = _item$value === void 0 ? '' : _item$value,\n              _item$label = item.label,\n              label = _item$label === void 0 ? '' : _item$label;\n          var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n          this._store.dispatch(items_highlightItem(id, true));\n\n          if (runEvent) {\n            this.passedElement.triggerEvent(EVENTS.highlightItem, {\n              id: id,\n              value: value,\n              label: label,\n              groupValue: group && group.value ? group.value : null\n            });\n          }\n\n          return this;\n        };\n\n        _proto.unhighlightItem = function unhighlightItem(item) {\n          if (!item) {\n            return this;\n          }\n\n          var id = item.id,\n              _item$groupId2 = item.groupId,\n              groupId = _item$groupId2 === void 0 ? -1 : _item$groupId2,\n              _item$value2 = item.value,\n              value = _item$value2 === void 0 ? '' : _item$value2,\n              _item$label2 = item.label,\n              label = _item$label2 === void 0 ? '' : _item$label2;\n          var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n          this._store.dispatch(items_highlightItem(id, false));\n\n          this.passedElement.triggerEvent(EVENTS.highlightItem, {\n            id: id,\n            value: value,\n            label: label,\n            groupValue: group && group.value ? group.value : null\n          });\n          return this;\n        };\n\n        _proto.highlightAll = function highlightAll() {\n          var _this2 = this;\n\n          this._store.items.forEach(function (item) {\n            return _this2.highlightItem(item);\n          });\n\n          return this;\n        };\n\n        _proto.unhighlightAll = function unhighlightAll() {\n          var _this3 = this;\n\n          this._store.items.forEach(function (item) {\n            return _this3.unhighlightItem(item);\n          });\n\n          return this;\n        };\n\n        _proto.removeActiveItemsByValue = function removeActiveItemsByValue(value) {\n          var _this4 = this;\n\n          this._store.activeItems.filter(function (item) {\n            return item.value === value;\n          }).forEach(function (item) {\n            return _this4._removeItem(item);\n          });\n\n          return this;\n        };\n\n        _proto.removeActiveItems = function removeActiveItems(excludedId) {\n          var _this5 = this;\n\n          this._store.activeItems.filter(function (_ref) {\n            var id = _ref.id;\n            return id !== excludedId;\n          }).forEach(function (item) {\n            return _this5._removeItem(item);\n          });\n\n          return this;\n        };\n\n        _proto.removeHighlightedItems = function removeHighlightedItems(runEvent) {\n          var _this6 = this;\n\n          if (runEvent === void 0) {\n            runEvent = false;\n          }\n\n          this._store.highlightedActiveItems.forEach(function (item) {\n            _this6._removeItem(item); // If this action was performed by the user\n            // trigger the event\n\n\n            if (runEvent) {\n              _this6._triggerChange(item.value);\n            }\n          });\n\n          return this;\n        };\n\n        _proto.showDropdown = function showDropdown(preventInputFocus) {\n          var _this7 = this;\n\n          if (this.dropdown.isActive) {\n            return this;\n          }\n\n          requestAnimationFrame(function () {\n            _this7.dropdown.show();\n\n            _this7.containerOuter.open(_this7.dropdown.distanceFromTopWindow);\n\n            if (!preventInputFocus && _this7._canSearch) {\n              _this7.input.focus();\n            }\n\n            _this7.passedElement.triggerEvent(EVENTS.showDropdown, {});\n          });\n          return this;\n        };\n\n        _proto.hideDropdown = function hideDropdown(preventInputBlur) {\n          var _this8 = this;\n\n          if (!this.dropdown.isActive) {\n            return this;\n          }\n\n          requestAnimationFrame(function () {\n            _this8.dropdown.hide();\n\n            _this8.containerOuter.close();\n\n            if (!preventInputBlur && _this8._canSearch) {\n              _this8.input.removeActiveDescendant();\n\n              _this8.input.blur();\n            }\n\n            _this8.passedElement.triggerEvent(EVENTS.hideDropdown, {});\n          });\n          return this;\n        };\n\n        _proto.getValue = function getValue(valueOnly) {\n          if (valueOnly === void 0) {\n            valueOnly = false;\n          }\n\n          var values = this._store.activeItems.reduce(function (selectedItems, item) {\n            var itemValue = valueOnly ? item.value : item;\n            selectedItems.push(itemValue);\n            return selectedItems;\n          }, []);\n\n          return this._isSelectOneElement ? values[0] : values;\n        }\n        /**\n         * @param {string[] | import('../../types/index').Choices.Item[]} items\n         */\n        ;\n\n        _proto.setValue = function setValue(items) {\n          var _this9 = this;\n\n          if (!this.initialised) {\n            return this;\n          }\n\n          items.forEach(function (value) {\n            return _this9._setChoiceOrItem(value);\n          });\n          return this;\n        };\n\n        _proto.setChoiceByValue = function setChoiceByValue(value) {\n          var _this10 = this;\n\n          if (!this.initialised || this._isTextElement) {\n            return this;\n          } // If only one value has been passed, convert to array\n\n\n          var choiceValue = Array.isArray(value) ? value : [value]; // Loop through each value and\n\n          choiceValue.forEach(function (val) {\n            return _this10._findAndSelectChoiceByValue(val);\n          });\n          return this;\n        }\n        /**\n         * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n         * a value field name and a label field name.\n         * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n         * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n         * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n         *\n         * **Input types affected:** select-one, select-multiple\n         *\n         * @template {Choice[] | ((instance: Choices) => object[] | Promise<object[]>)} T\n         * @param {T} [choicesArrayOrFetcher]\n         * @param {string} [value = 'value'] - name of `value` field\n         * @param {string} [label = 'label'] - name of 'label' field\n         * @param {boolean} [replaceChoices = false] - whether to replace of add choices\n         * @returns {this | Promise<this>}\n         *\n         * @example\n         * ```js\n         * const example = new Choices(element);\n         *\n         * example.setChoices([\n         *   {value: 'One', label: 'Label One', disabled: true},\n         *   {value: 'Two', label: 'Label Two', selected: true},\n         *   {value: 'Three', label: 'Label Three'},\n         * ], 'value', 'label', false);\n         * ```\n         *\n         * @example\n         * ```js\n         * const example = new Choices(element);\n         *\n         * example.setChoices(async () => {\n         *   try {\n         *      const items = await fetch('/items');\n         *      return items.json()\n         *   } catch(err) {\n         *      console.error(err)\n         *   }\n         * });\n         * ```\n         *\n         * @example\n         * ```js\n         * const example = new Choices(element);\n         *\n         * example.setChoices([{\n         *   label: 'Group one',\n         *   id: 1,\n         *   disabled: false,\n         *   choices: [\n         *     {value: 'Child One', label: 'Child One', selected: true},\n         *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n         *     {value: 'Child Three', label: 'Child Three'},\n         *   ]\n         * },\n         * {\n         *   label: 'Group two',\n         *   id: 2,\n         *   disabled: false,\n         *   choices: [\n         *     {value: 'Child Four', label: 'Child Four', disabled: true},\n         *     {value: 'Child Five', label: 'Child Five'},\n         *     {value: 'Child Six', label: 'Child Six', customProperties: {\n         *       description: 'Custom description about child six',\n         *       random: 'Another random custom property'\n         *     }},\n         *   ]\n         * }], 'value', 'label', false);\n         * ```\n         */\n        ;\n\n        _proto.setChoices = function setChoices(choicesArrayOrFetcher, value, label, replaceChoices) {\n          var _this11 = this;\n\n          if (choicesArrayOrFetcher === void 0) {\n            choicesArrayOrFetcher = [];\n          }\n\n          if (value === void 0) {\n            value = 'value';\n          }\n\n          if (label === void 0) {\n            label = 'label';\n          }\n\n          if (replaceChoices === void 0) {\n            replaceChoices = false;\n          }\n\n          if (!this.initialised) {\n            throw new ReferenceError(\"setChoices was called on a non-initialized instance of Choices\");\n          }\n\n          if (!this._isSelectElement) {\n            throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n          }\n\n          if (typeof value !== 'string' || !value) {\n            throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n          } // Clear choices if needed\n\n\n          if (replaceChoices) {\n            this.clearChoices();\n          }\n\n          if (typeof choicesArrayOrFetcher === 'function') {\n            // it's a choices fetcher function\n            var fetcher = choicesArrayOrFetcher(this);\n\n            if (typeof Promise === 'function' && fetcher instanceof Promise) {\n              // that's a promise\n              // eslint-disable-next-line compat/compat\n              return new Promise(function (resolve) {\n                return requestAnimationFrame(resolve);\n              }).then(function () {\n                return _this11._handleLoadingState(true);\n              }).then(function () {\n                return fetcher;\n              }).then(function (data) {\n                return _this11.setChoices(data, value, label, replaceChoices);\n              }).catch(function (err) {\n                if (!_this11.config.silent) {\n                  console.error(err);\n                }\n              }).then(function () {\n                return _this11._handleLoadingState(false);\n              }).then(function () {\n                return _this11;\n              });\n            } // function returned something else than promise, let's check if it's an array of choices\n\n\n            if (!Array.isArray(fetcher)) {\n              throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \" + typeof fetcher);\n            } // recursion with results, it's sync and choices were cleared already\n\n\n            return this.setChoices(fetcher, value, label, false);\n          }\n\n          if (!Array.isArray(choicesArrayOrFetcher)) {\n            throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n          }\n\n          this.containerOuter.removeLoadingState();\n\n          this._startLoading();\n\n          choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n            if (groupOrChoice.choices) {\n              _this11._addGroup({\n                id: parseInt(groupOrChoice.id, 10) || null,\n                group: groupOrChoice,\n                valueKey: value,\n                labelKey: label\n              });\n            } else {\n              _this11._addChoice({\n                value: groupOrChoice[value],\n                label: groupOrChoice[label],\n                isSelected: groupOrChoice.selected,\n                isDisabled: groupOrChoice.disabled,\n                customProperties: groupOrChoice.customProperties,\n                placeholder: groupOrChoice.placeholder\n              });\n            }\n          });\n\n          this._stopLoading();\n\n          return this;\n        };\n\n        _proto.clearChoices = function clearChoices() {\n          this._store.dispatch(choices_clearChoices());\n\n          return this;\n        };\n\n        _proto.clearStore = function clearStore() {\n          this._store.dispatch(clearAll());\n\n          return this;\n        };\n\n        _proto.clearInput = function clearInput() {\n          var shouldSetInputWidth = !this._isSelectOneElement;\n          this.input.clear(shouldSetInputWidth);\n\n          if (!this._isTextElement && this._canSearch) {\n            this._isSearching = false;\n\n            this._store.dispatch(choices_activateChoices(true));\n          }\n\n          return this;\n        };\n\n        _proto._render = function _render() {\n          if (this._store.isLoading()) {\n            return;\n          }\n\n          this._currentState = this._store.state;\n          var stateChanged = this._currentState.choices !== this._prevState.choices || this._currentState.groups !== this._prevState.groups || this._currentState.items !== this._prevState.items;\n          var shouldRenderChoices = this._isSelectElement;\n          var shouldRenderItems = this._currentState.items !== this._prevState.items;\n\n          if (!stateChanged) {\n            return;\n          }\n\n          if (shouldRenderChoices) {\n            this._renderChoices();\n          }\n\n          if (shouldRenderItems) {\n            this._renderItems();\n          }\n\n          this._prevState = this._currentState;\n        };\n\n        _proto._renderChoices = function _renderChoices() {\n          var _this12 = this;\n\n          var _this$_store = this._store,\n              activeGroups = _this$_store.activeGroups,\n              activeChoices = _this$_store.activeChoices;\n          var choiceListFragment = document.createDocumentFragment();\n          this.choiceList.clear();\n\n          if (this.config.resetScrollPosition) {\n            requestAnimationFrame(function () {\n              return _this12.choiceList.scrollToTop();\n            });\n          } // If we have grouped options\n\n\n          if (activeGroups.length >= 1 && !this._isSearching) {\n            // If we have a placeholder choice along with groups\n            var activePlaceholders = activeChoices.filter(function (activeChoice) {\n              return activeChoice.placeholder === true && activeChoice.groupId === -1;\n            });\n\n            if (activePlaceholders.length >= 1) {\n              choiceListFragment = this._createChoicesFragment(activePlaceholders, choiceListFragment);\n            }\n\n            choiceListFragment = this._createGroupsFragment(activeGroups, activeChoices, choiceListFragment);\n          } else if (activeChoices.length >= 1) {\n            choiceListFragment = this._createChoicesFragment(activeChoices, choiceListFragment);\n          } // If we have choices to show\n\n\n          if (choiceListFragment.childNodes && choiceListFragment.childNodes.length > 0) {\n            var activeItems = this._store.activeItems;\n\n            var canAddItem = this._canAddItem(activeItems, this.input.value); // ...and we can select them\n\n\n            if (canAddItem.response) {\n              // ...append them and highlight the first choice\n              this.choiceList.append(choiceListFragment);\n\n              this._highlightChoice();\n            } else {\n              // ...otherwise show a notice\n              this.choiceList.append(this._getTemplate('notice', canAddItem.notice));\n            }\n          } else {\n            // Otherwise show a notice\n            var dropdownItem;\n            var notice;\n\n            if (this._isSearching) {\n              notice = typeof this.config.noResultsText === 'function' ? this.config.noResultsText() : this.config.noResultsText;\n              dropdownItem = this._getTemplate('notice', notice, 'no-results');\n            } else {\n              notice = typeof this.config.noChoicesText === 'function' ? this.config.noChoicesText() : this.config.noChoicesText;\n              dropdownItem = this._getTemplate('notice', notice, 'no-choices');\n            }\n\n            this.choiceList.append(dropdownItem);\n          }\n        };\n\n        _proto._renderItems = function _renderItems() {\n          var activeItems = this._store.activeItems || [];\n          this.itemList.clear(); // Create a fragment to store our list items\n          // (so we don't have to update the DOM for each item)\n\n          var itemListFragment = this._createItemsFragment(activeItems); // If we have items to add, append them\n\n\n          if (itemListFragment.childNodes) {\n            this.itemList.append(itemListFragment);\n          }\n        };\n\n        _proto._createGroupsFragment = function _createGroupsFragment(groups, choices, fragment) {\n          var _this13 = this;\n\n          if (fragment === void 0) {\n            fragment = document.createDocumentFragment();\n          }\n\n          var getGroupChoices = function getGroupChoices(group) {\n            return choices.filter(function (choice) {\n              if (_this13._isSelectOneElement) {\n                return choice.groupId === group.id;\n              }\n\n              return choice.groupId === group.id && (_this13.config.renderSelectedChoices === 'always' || !choice.selected);\n            });\n          }; // If sorting is enabled, filter groups\n\n\n          if (this.config.shouldSort) {\n            groups.sort(this.config.sorter);\n          }\n\n          groups.forEach(function (group) {\n            var groupChoices = getGroupChoices(group);\n\n            if (groupChoices.length >= 1) {\n              var dropdownGroup = _this13._getTemplate('choiceGroup', group);\n\n              fragment.appendChild(dropdownGroup);\n\n              _this13._createChoicesFragment(groupChoices, fragment, true);\n            }\n          });\n          return fragment;\n        };\n\n        _proto._createChoicesFragment = function _createChoicesFragment(choices, fragment, withinGroup) {\n          var _this14 = this;\n\n          if (fragment === void 0) {\n            fragment = document.createDocumentFragment();\n          }\n\n          if (withinGroup === void 0) {\n            withinGroup = false;\n          } // Create a fragment to store our list items (so we don't have to update the DOM for each item)\n\n\n          var _this$config = this.config,\n              renderSelectedChoices = _this$config.renderSelectedChoices,\n              searchResultLimit = _this$config.searchResultLimit,\n              renderChoiceLimit = _this$config.renderChoiceLimit;\n          var filter = this._isSearching ? sortByScore : this.config.sorter;\n\n          var appendChoice = function appendChoice(choice) {\n            var shouldRender = renderSelectedChoices === 'auto' ? _this14._isSelectOneElement || !choice.selected : true;\n\n            if (shouldRender) {\n              var dropdownItem = _this14._getTemplate('choice', choice, _this14.config.itemSelectText);\n\n              fragment.appendChild(dropdownItem);\n            }\n          };\n\n          var rendererableChoices = choices;\n\n          if (renderSelectedChoices === 'auto' && !this._isSelectOneElement) {\n            rendererableChoices = choices.filter(function (choice) {\n              return !choice.selected;\n            });\n          } // Split array into placeholders and \"normal\" choices\n\n\n          var _rendererableChoices$ = rendererableChoices.reduce(function (acc, choice) {\n            if (choice.placeholder) {\n              acc.placeholderChoices.push(choice);\n            } else {\n              acc.normalChoices.push(choice);\n            }\n\n            return acc;\n          }, {\n            placeholderChoices: [],\n            normalChoices: []\n          }),\n              placeholderChoices = _rendererableChoices$.placeholderChoices,\n              normalChoices = _rendererableChoices$.normalChoices; // If sorting is enabled or the user is searching, filter choices\n\n\n          if (this.config.shouldSort || this._isSearching) {\n            normalChoices.sort(filter);\n          }\n\n          var choiceLimit = rendererableChoices.length; // Prepend placeholeder\n\n          var sortedChoices = this._isSelectOneElement ? [].concat(placeholderChoices, normalChoices) : normalChoices;\n\n          if (this._isSearching) {\n            choiceLimit = searchResultLimit;\n          } else if (renderChoiceLimit && renderChoiceLimit > 0 && !withinGroup) {\n            choiceLimit = renderChoiceLimit;\n          } // Add each choice to dropdown within range\n\n\n          for (var i = 0; i < choiceLimit; i += 1) {\n            if (sortedChoices[i]) {\n              appendChoice(sortedChoices[i]);\n            }\n          }\n\n          return fragment;\n        };\n\n        _proto._createItemsFragment = function _createItemsFragment(items, fragment) {\n          var _this15 = this;\n\n          if (fragment === void 0) {\n            fragment = document.createDocumentFragment();\n          } // Create fragment to add elements to\n\n\n          var _this$config2 = this.config,\n              shouldSortItems = _this$config2.shouldSortItems,\n              sorter = _this$config2.sorter,\n              removeItemButton = _this$config2.removeItemButton; // If sorting is enabled, filter items\n\n          if (shouldSortItems && !this._isSelectOneElement) {\n            items.sort(sorter);\n          }\n\n          if (this._isTextElement) {\n            // Update the value of the hidden input\n            this.passedElement.value = items;\n          } else {\n            // Update the options of the hidden input\n            this.passedElement.options = items;\n          }\n\n          var addItemToFragment = function addItemToFragment(item) {\n            // Create new list element\n            var listItem = _this15._getTemplate('item', item, removeItemButton); // Append it to list\n\n\n            fragment.appendChild(listItem);\n          }; // Add each list item to list\n\n\n          items.forEach(addItemToFragment);\n          return fragment;\n        };\n\n        _proto._triggerChange = function _triggerChange(value) {\n          if (value === undefined || value === null) {\n            return;\n          }\n\n          this.passedElement.triggerEvent(EVENTS.change, {\n            value: value\n          });\n        };\n\n        _proto._selectPlaceholderChoice = function _selectPlaceholderChoice() {\n          var placeholderChoice = this._store.placeholderChoice;\n\n          if (placeholderChoice) {\n            this._addItem({\n              value: placeholderChoice.value,\n              label: placeholderChoice.label,\n              choiceId: placeholderChoice.id,\n              groupId: placeholderChoice.groupId,\n              placeholder: placeholderChoice.placeholder\n            });\n\n            this._triggerChange(placeholderChoice.value);\n          }\n        };\n\n        _proto._handleButtonAction = function _handleButtonAction(activeItems, element) {\n          if (!activeItems || !element || !this.config.removeItems || !this.config.removeItemButton) {\n            return;\n          }\n\n          var itemId = element.parentNode.getAttribute('data-id');\n          var itemToRemove = activeItems.find(function (item) {\n            return item.id === parseInt(itemId, 10);\n          }); // Remove item associated with button\n\n          this._removeItem(itemToRemove);\n\n          this._triggerChange(itemToRemove.value);\n\n          if (this._isSelectOneElement) {\n            this._selectPlaceholderChoice();\n          }\n        };\n\n        _proto._handleItemAction = function _handleItemAction(activeItems, element, hasShiftKey) {\n          var _this16 = this;\n\n          if (hasShiftKey === void 0) {\n            hasShiftKey = false;\n          }\n\n          if (!activeItems || !element || !this.config.removeItems || this._isSelectOneElement) {\n            return;\n          }\n\n          var passedId = element.getAttribute('data-id'); // We only want to select one item with a click\n          // so we deselect any items that aren't the target\n          // unless shift is being pressed\n\n          activeItems.forEach(function (item) {\n            if (item.id === parseInt(passedId, 10) && !item.highlighted) {\n              _this16.highlightItem(item);\n            } else if (!hasShiftKey && item.highlighted) {\n              _this16.unhighlightItem(item);\n            }\n          }); // Focus input as without focus, a user cannot do anything with a\n          // highlighted item\n\n          this.input.focus();\n        };\n\n        _proto._handleChoiceAction = function _handleChoiceAction(activeItems, element) {\n          if (!activeItems || !element) {\n            return;\n          } // If we are clicking on an option\n\n\n          var id = element.dataset.id;\n\n          var choice = this._store.getChoiceById(id);\n\n          if (!choice) {\n            return;\n          }\n\n          var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : null;\n          var hasActiveDropdown = this.dropdown.isActive; // Update choice keyCode\n\n          choice.keyCode = passedKeyCode;\n          this.passedElement.triggerEvent(EVENTS.choice, {\n            choice: choice\n          });\n\n          if (!choice.selected && !choice.disabled) {\n            var canAddItem = this._canAddItem(activeItems, choice.value);\n\n            if (canAddItem.response) {\n              this._addItem({\n                value: choice.value,\n                label: choice.label,\n                choiceId: choice.id,\n                groupId: choice.groupId,\n                customProperties: choice.customProperties,\n                placeholder: choice.placeholder,\n                keyCode: choice.keyCode\n              });\n\n              this._triggerChange(choice.value);\n            }\n          }\n\n          this.clearInput(); // We want to close the dropdown if we are dealing with a single select box\n\n          if (hasActiveDropdown && this._isSelectOneElement) {\n            this.hideDropdown(true);\n            this.containerOuter.focus();\n          }\n        };\n\n        _proto._handleBackspace = function _handleBackspace(activeItems) {\n          if (!this.config.removeItems || !activeItems) {\n            return;\n          }\n\n          var lastItem = activeItems[activeItems.length - 1];\n          var hasHighlightedItems = activeItems.some(function (item) {\n            return item.highlighted;\n          }); // If editing the last item is allowed and there are not other selected items,\n          // we can edit the item value. Otherwise if we can remove items, remove all selected items\n\n          if (this.config.editItems && !hasHighlightedItems && lastItem) {\n            this.input.value = lastItem.value;\n            this.input.setWidth();\n\n            this._removeItem(lastItem);\n\n            this._triggerChange(lastItem.value);\n          } else {\n            if (!hasHighlightedItems) {\n              // Highlight last item if none already highlighted\n              this.highlightItem(lastItem, false);\n            }\n\n            this.removeHighlightedItems(true);\n          }\n        };\n\n        _proto._startLoading = function _startLoading() {\n          this._store.dispatch(setIsLoading(true));\n        };\n\n        _proto._stopLoading = function _stopLoading() {\n          this._store.dispatch(setIsLoading(false));\n        };\n\n        _proto._handleLoadingState = function _handleLoadingState(setLoading) {\n          if (setLoading === void 0) {\n            setLoading = true;\n          }\n\n          var placeholderItem = this.itemList.getChild(\".\" + this.config.classNames.placeholder);\n\n          if (setLoading) {\n            this.disable();\n            this.containerOuter.addLoadingState();\n\n            if (this._isSelectOneElement) {\n              if (!placeholderItem) {\n                placeholderItem = this._getTemplate('placeholder', this.config.loadingText);\n                this.itemList.append(placeholderItem);\n              } else {\n                placeholderItem.innerHTML = this.config.loadingText;\n              }\n            } else {\n              this.input.placeholder = this.config.loadingText;\n            }\n          } else {\n            this.enable();\n            this.containerOuter.removeLoadingState();\n\n            if (this._isSelectOneElement) {\n              placeholderItem.innerHTML = this._placeholderValue || '';\n            } else {\n              this.input.placeholder = this._placeholderValue || '';\n            }\n          }\n        };\n\n        _proto._handleSearch = function _handleSearch(value) {\n          if (!value || !this.input.isFocussed) {\n            return;\n          }\n\n          var choices = this._store.choices;\n          var _this$config3 = this.config,\n              searchFloor = _this$config3.searchFloor,\n              searchChoices = _this$config3.searchChoices;\n          var hasUnactiveChoices = choices.some(function (option) {\n            return !option.active;\n          }); // Check that we have a value to search and the input was an alphanumeric character\n\n          if (value && value.length >= searchFloor) {\n            var resultCount = searchChoices ? this._searchChoices(value) : 0; // Trigger search event\n\n            this.passedElement.triggerEvent(EVENTS.search, {\n              value: value,\n              resultCount: resultCount\n            });\n          } else if (hasUnactiveChoices) {\n            // Otherwise reset choices to active\n            this._isSearching = false;\n\n            this._store.dispatch(choices_activateChoices(true));\n          }\n        };\n\n        _proto._canAddItem = function _canAddItem(activeItems, value) {\n          var canAddItem = true;\n          var notice = typeof this.config.addItemText === 'function' ? this.config.addItemText(value) : this.config.addItemText;\n\n          if (!this._isSelectOneElement) {\n            var isDuplicateValue = existsInArray(activeItems, value);\n\n            if (this.config.maxItemCount > 0 && this.config.maxItemCount <= activeItems.length) {\n              // If there is a max entry limit and we have reached that limit\n              // don't update\n              canAddItem = false;\n              notice = typeof this.config.maxItemText === 'function' ? this.config.maxItemText(this.config.maxItemCount) : this.config.maxItemText;\n            }\n\n            if (!this.config.duplicateItemsAllowed && isDuplicateValue && canAddItem) {\n              canAddItem = false;\n              notice = typeof this.config.uniqueItemText === 'function' ? this.config.uniqueItemText(value) : this.config.uniqueItemText;\n            }\n\n            if (this._isTextElement && this.config.addItems && canAddItem && typeof this.config.addItemFilter === 'function' && !this.config.addItemFilter(value)) {\n              canAddItem = false;\n              notice = typeof this.config.customAddItemText === 'function' ? this.config.customAddItemText(value) : this.config.customAddItemText;\n            }\n          }\n\n          return {\n            response: canAddItem,\n            notice: notice\n          };\n        };\n\n        _proto._searchChoices = function _searchChoices(value) {\n          var newValue = typeof value === 'string' ? value.trim() : value;\n          var currentValue = typeof this._currentValue === 'string' ? this._currentValue.trim() : this._currentValue;\n\n          if (newValue.length < 1 && newValue === currentValue + \" \") {\n            return 0;\n          } // If new value matches the desired length and is not the same as the current value with a space\n\n\n          var haystack = this._store.searchableChoices;\n          var needle = newValue;\n          var keys = [].concat(this.config.searchFields);\n          var options = Object.assign(this.config.fuseOptions, {\n            keys: keys\n          });\n          var fuse = new fuse_default.a(haystack, options);\n          var results = fuse.search(needle);\n          this._currentValue = newValue;\n          this._highlightPosition = 0;\n          this._isSearching = true;\n\n          this._store.dispatch(choices_filterChoices(results));\n\n          return results.length;\n        };\n\n        _proto._addEventListeners = function _addEventListeners() {\n          var documentElement = this.config.shadowRoot || document.documentElement; // capture events - can cancel event processing or propagation\n\n          documentElement.addEventListener('touchend', this._onTouchEnd, true);\n          this.containerOuter.element.addEventListener('keydown', this._onKeyDown, true);\n          this.containerOuter.element.addEventListener('mousedown', this._onMouseDown, true); // passive events - doesn't call `preventDefault` or `stopPropagation`\n\n          documentElement.addEventListener('click', this._onClick, {\n            passive: true\n          });\n          documentElement.addEventListener('touchmove', this._onTouchMove, {\n            passive: true\n          });\n          this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n            passive: true\n          });\n\n          if (this._isSelectOneElement) {\n            this.containerOuter.element.addEventListener('focus', this._onFocus, {\n              passive: true\n            });\n            this.containerOuter.element.addEventListener('blur', this._onBlur, {\n              passive: true\n            });\n          }\n\n          this.input.element.addEventListener('keyup', this._onKeyUp, {\n            passive: true\n          });\n          this.input.element.addEventListener('focus', this._onFocus, {\n            passive: true\n          });\n          this.input.element.addEventListener('blur', this._onBlur, {\n            passive: true\n          });\n\n          if (this.input.element.form) {\n            this.input.element.form.addEventListener('reset', this._onFormReset, {\n              passive: true\n            });\n          }\n\n          this.input.addEventListeners();\n        };\n\n        _proto._removeEventListeners = function _removeEventListeners() {\n          var documentElement = this.config.shadowRoot || document.documentElement;\n          documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n          this.containerOuter.element.removeEventListener('keydown', this._onKeyDown, true);\n          this.containerOuter.element.removeEventListener('mousedown', this._onMouseDown, true);\n          documentElement.removeEventListener('click', this._onClick);\n          documentElement.removeEventListener('touchmove', this._onTouchMove);\n          this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n\n          if (this._isSelectOneElement) {\n            this.containerOuter.element.removeEventListener('focus', this._onFocus);\n            this.containerOuter.element.removeEventListener('blur', this._onBlur);\n          }\n\n          this.input.element.removeEventListener('keyup', this._onKeyUp);\n          this.input.element.removeEventListener('focus', this._onFocus);\n          this.input.element.removeEventListener('blur', this._onBlur);\n\n          if (this.input.element.form) {\n            this.input.element.form.removeEventListener('reset', this._onFormReset);\n          }\n\n          this.input.removeEventListeners();\n        }\n        /**\n         * @param {KeyboardEvent} event\n         */\n        ;\n\n        _proto._onKeyDown = function _onKeyDown(event) {\n          var _keyDownActions;\n\n          var target = event.target,\n              keyCode = event.keyCode,\n              ctrlKey = event.ctrlKey,\n              metaKey = event.metaKey;\n          var activeItems = this._store.activeItems;\n          var hasFocusedInput = this.input.isFocussed;\n          var hasActiveDropdown = this.dropdown.isActive;\n          var hasItems = this.itemList.hasChildren();\n          var keyString = String.fromCharCode(keyCode);\n          var BACK_KEY = KEY_CODES.BACK_KEY,\n              DELETE_KEY = KEY_CODES.DELETE_KEY,\n              ENTER_KEY = KEY_CODES.ENTER_KEY,\n              A_KEY = KEY_CODES.A_KEY,\n              ESC_KEY = KEY_CODES.ESC_KEY,\n              UP_KEY = KEY_CODES.UP_KEY,\n              DOWN_KEY = KEY_CODES.DOWN_KEY,\n              PAGE_UP_KEY = KEY_CODES.PAGE_UP_KEY,\n              PAGE_DOWN_KEY = KEY_CODES.PAGE_DOWN_KEY;\n          var hasCtrlDownKeyPressed = ctrlKey || metaKey; // If a user is typing and the dropdown is not active\n\n          if (!this._isTextElement && /[a-zA-Z0-9-_ ]/.test(keyString)) {\n            this.showDropdown();\n          } // Map keys to key actions\n\n\n          var keyDownActions = (_keyDownActions = {}, _keyDownActions[A_KEY] = this._onAKey, _keyDownActions[ENTER_KEY] = this._onEnterKey, _keyDownActions[ESC_KEY] = this._onEscapeKey, _keyDownActions[UP_KEY] = this._onDirectionKey, _keyDownActions[PAGE_UP_KEY] = this._onDirectionKey, _keyDownActions[DOWN_KEY] = this._onDirectionKey, _keyDownActions[PAGE_DOWN_KEY] = this._onDirectionKey, _keyDownActions[DELETE_KEY] = this._onDeleteKey, _keyDownActions[BACK_KEY] = this._onDeleteKey, _keyDownActions); // If keycode has a function, run it\n\n          if (keyDownActions[keyCode]) {\n            keyDownActions[keyCode]({\n              event: event,\n              target: target,\n              keyCode: keyCode,\n              metaKey: metaKey,\n              activeItems: activeItems,\n              hasFocusedInput: hasFocusedInput,\n              hasActiveDropdown: hasActiveDropdown,\n              hasItems: hasItems,\n              hasCtrlDownKeyPressed: hasCtrlDownKeyPressed\n            });\n          }\n        };\n\n        _proto._onKeyUp = function _onKeyUp(_ref2) {\n          var target = _ref2.target,\n              keyCode = _ref2.keyCode;\n          var value = this.input.value;\n          var activeItems = this._store.activeItems;\n\n          var canAddItem = this._canAddItem(activeItems, value);\n\n          var backKey = KEY_CODES.BACK_KEY,\n              deleteKey = KEY_CODES.DELETE_KEY; // We are typing into a text input and have a value, we want to show a dropdown\n          // notice. Otherwise hide the dropdown\n\n          if (this._isTextElement) {\n            var canShowDropdownNotice = canAddItem.notice && value;\n\n            if (canShowDropdownNotice) {\n              var dropdownItem = this._getTemplate('notice', canAddItem.notice);\n\n              this.dropdown.element.innerHTML = dropdownItem.outerHTML;\n              this.showDropdown(true);\n            } else {\n              this.hideDropdown(true);\n            }\n          } else {\n            var userHasRemovedValue = (keyCode === backKey || keyCode === deleteKey) && !target.value;\n            var canReactivateChoices = !this._isTextElement && this._isSearching;\n            var canSearch = this._canSearch && canAddItem.response;\n\n            if (userHasRemovedValue && canReactivateChoices) {\n              this._isSearching = false;\n\n              this._store.dispatch(choices_activateChoices(true));\n            } else if (canSearch) {\n              this._handleSearch(this.input.value);\n            }\n          }\n\n          this._canSearch = this.config.searchEnabled;\n        };\n\n        _proto._onAKey = function _onAKey(_ref3) {\n          var hasItems = _ref3.hasItems,\n              hasCtrlDownKeyPressed = _ref3.hasCtrlDownKeyPressed; // If CTRL + A or CMD + A have been pressed and there are items to select\n\n          if (hasCtrlDownKeyPressed && hasItems) {\n            this._canSearch = false;\n            var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n\n            if (shouldHightlightAll) {\n              this.highlightAll();\n            }\n          }\n        };\n\n        _proto._onEnterKey = function _onEnterKey(_ref4) {\n          var event = _ref4.event,\n              target = _ref4.target,\n              activeItems = _ref4.activeItems,\n              hasActiveDropdown = _ref4.hasActiveDropdown;\n          var enterKey = KEY_CODES.ENTER_KEY;\n          var targetWasButton = target.hasAttribute('data-button');\n\n          if (this._isTextElement && target.value) {\n            var value = this.input.value;\n\n            var canAddItem = this._canAddItem(activeItems, value);\n\n            if (canAddItem.response) {\n              this.hideDropdown(true);\n\n              this._addItem({\n                value: value\n              });\n\n              this._triggerChange(value);\n\n              this.clearInput();\n            }\n          }\n\n          if (targetWasButton) {\n            this._handleButtonAction(activeItems, target);\n\n            event.preventDefault();\n          }\n\n          if (hasActiveDropdown) {\n            var highlightedChoice = this.dropdown.getChild(\".\" + this.config.classNames.highlightedState);\n\n            if (highlightedChoice) {\n              // add enter keyCode value\n              if (activeItems[0]) {\n                activeItems[0].keyCode = enterKey; // eslint-disable-line no-param-reassign\n              }\n\n              this._handleChoiceAction(activeItems, highlightedChoice);\n            }\n\n            event.preventDefault();\n          } else if (this._isSelectOneElement) {\n            this.showDropdown();\n            event.preventDefault();\n          }\n        };\n\n        _proto._onEscapeKey = function _onEscapeKey(_ref5) {\n          var hasActiveDropdown = _ref5.hasActiveDropdown;\n\n          if (hasActiveDropdown) {\n            this.hideDropdown(true);\n            this.containerOuter.focus();\n          }\n        };\n\n        _proto._onDirectionKey = function _onDirectionKey(_ref6) {\n          var event = _ref6.event,\n              hasActiveDropdown = _ref6.hasActiveDropdown,\n              keyCode = _ref6.keyCode,\n              metaKey = _ref6.metaKey;\n          var downKey = KEY_CODES.DOWN_KEY,\n              pageUpKey = KEY_CODES.PAGE_UP_KEY,\n              pageDownKey = KEY_CODES.PAGE_DOWN_KEY; // If up or down key is pressed, traverse through options\n\n          if (hasActiveDropdown || this._isSelectOneElement) {\n            this.showDropdown();\n            this._canSearch = false;\n            var directionInt = keyCode === downKey || keyCode === pageDownKey ? 1 : -1;\n            var skipKey = metaKey || keyCode === pageDownKey || keyCode === pageUpKey;\n            var selectableChoiceIdentifier = '[data-choice-selectable]';\n            var nextEl;\n\n            if (skipKey) {\n              if (directionInt > 0) {\n                nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier + \":last-of-type\");\n              } else {\n                nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n              }\n            } else {\n              var currentEl = this.dropdown.element.querySelector(\".\" + this.config.classNames.highlightedState);\n\n              if (currentEl) {\n                nextEl = getAdjacentEl(currentEl, selectableChoiceIdentifier, directionInt);\n              } else {\n                nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n              }\n            }\n\n            if (nextEl) {\n              // We prevent default to stop the cursor moving\n              // when pressing the arrow\n              if (!isScrolledIntoView(nextEl, this.choiceList.element, directionInt)) {\n                this.choiceList.scrollToChildElement(nextEl, directionInt);\n              }\n\n              this._highlightChoice(nextEl);\n            } // Prevent default to maintain cursor position whilst\n            // traversing dropdown options\n\n\n            event.preventDefault();\n          }\n        };\n\n        _proto._onDeleteKey = function _onDeleteKey(_ref7) {\n          var event = _ref7.event,\n              target = _ref7.target,\n              hasFocusedInput = _ref7.hasFocusedInput,\n              activeItems = _ref7.activeItems; // If backspace or delete key is pressed and the input has no value\n\n          if (hasFocusedInput && !target.value && !this._isSelectOneElement) {\n            this._handleBackspace(activeItems);\n\n            event.preventDefault();\n          }\n        };\n\n        _proto._onTouchMove = function _onTouchMove() {\n          if (this._wasTap) {\n            this._wasTap = false;\n          }\n        };\n\n        _proto._onTouchEnd = function _onTouchEnd(event) {\n          var _ref8 = event || event.touches[0],\n              target = _ref8.target;\n\n          var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n\n          if (touchWasWithinContainer) {\n            var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n\n            if (containerWasExactTarget) {\n              if (this._isTextElement) {\n                this.input.focus();\n              } else if (this._isSelectMultipleElement) {\n                this.showDropdown();\n              }\n            } // Prevents focus event firing\n\n\n            event.stopPropagation();\n          }\n\n          this._wasTap = true;\n        }\n        /**\n         * Handles mousedown event in capture mode for containetOuter.element\n         * @param {MouseEvent} event\n         */\n        ;\n\n        _proto._onMouseDown = function _onMouseDown(event) {\n          var target = event.target;\n\n          if (!(target instanceof HTMLElement)) {\n            return;\n          } // If we have our mouse down on the scrollbar and are on IE11...\n\n\n          if (IS_IE11 && this.choiceList.element.contains(target)) {\n            // check if click was on a scrollbar area\n            var firstChoice =\n            /** @type {HTMLElement} */\n            this.choiceList.element.firstElementChild;\n            var isOnScrollbar = this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n            this._isScrollingOnIe = isOnScrollbar;\n          }\n\n          if (target === this.input.element) {\n            return;\n          }\n\n          var item = target.closest('[data-button],[data-item],[data-choice]');\n\n          if (item instanceof HTMLElement) {\n            var hasShiftKey = event.shiftKey;\n            var activeItems = this._store.activeItems;\n            var dataset = item.dataset;\n\n            if ('button' in dataset) {\n              this._handleButtonAction(activeItems, item);\n            } else if ('item' in dataset) {\n              this._handleItemAction(activeItems, item, hasShiftKey);\n            } else if ('choice' in dataset) {\n              this._handleChoiceAction(activeItems, item);\n            }\n          }\n\n          event.preventDefault();\n        }\n        /**\n         * Handles mouseover event over this.dropdown\n         * @param {MouseEvent} event\n         */\n        ;\n\n        _proto._onMouseOver = function _onMouseOver(_ref9) {\n          var target = _ref9.target;\n\n          if (target instanceof HTMLElement && 'choice' in target.dataset) {\n            this._highlightChoice(target);\n          }\n        };\n\n        _proto._onClick = function _onClick(_ref10) {\n          var target = _ref10.target;\n          var clickWasWithinContainer = this.containerOuter.element.contains(target);\n\n          if (clickWasWithinContainer) {\n            if (!this.dropdown.isActive && !this.containerOuter.isDisabled) {\n              if (this._isTextElement) {\n                if (document.activeElement !== this.input.element) {\n                  this.input.focus();\n                }\n              } else {\n                this.showDropdown();\n                this.containerOuter.focus();\n              }\n            } else if (this._isSelectOneElement && target !== this.input.element && !this.dropdown.element.contains(target)) {\n              this.hideDropdown();\n            }\n          } else {\n            var hasHighlightedItems = this._store.highlightedActiveItems.length > 0;\n\n            if (hasHighlightedItems) {\n              this.unhighlightAll();\n            }\n\n            this.containerOuter.removeFocusState();\n            this.hideDropdown(true);\n          }\n        };\n\n        _proto._onFocus = function _onFocus(_ref11) {\n          var _this17 = this,\n              _focusActions;\n\n          var target = _ref11.target;\n          var focusWasWithinContainer = this.containerOuter.element.contains(target);\n\n          if (!focusWasWithinContainer) {\n            return;\n          }\n\n          var focusActions = (_focusActions = {}, _focusActions[TEXT_TYPE] = function () {\n            if (target === _this17.input.element) {\n              _this17.containerOuter.addFocusState();\n            }\n          }, _focusActions[SELECT_ONE_TYPE] = function () {\n            _this17.containerOuter.addFocusState();\n\n            if (target === _this17.input.element) {\n              _this17.showDropdown(true);\n            }\n          }, _focusActions[SELECT_MULTIPLE_TYPE] = function () {\n            if (target === _this17.input.element) {\n              _this17.showDropdown(true); // If element is a select box, the focused element is the container and the dropdown\n              // isn't already open, focus and show dropdown\n\n\n              _this17.containerOuter.addFocusState();\n            }\n          }, _focusActions);\n          focusActions[this.passedElement.element.type]();\n        };\n\n        _proto._onBlur = function _onBlur(_ref12) {\n          var _this18 = this;\n\n          var target = _ref12.target;\n          var blurWasWithinContainer = this.containerOuter.element.contains(target);\n\n          if (blurWasWithinContainer && !this._isScrollingOnIe) {\n            var _blurActions;\n\n            var activeItems = this._store.activeItems;\n            var hasHighlightedItems = activeItems.some(function (item) {\n              return item.highlighted;\n            });\n            var blurActions = (_blurActions = {}, _blurActions[TEXT_TYPE] = function () {\n              if (target === _this18.input.element) {\n                _this18.containerOuter.removeFocusState();\n\n                if (hasHighlightedItems) {\n                  _this18.unhighlightAll();\n                }\n\n                _this18.hideDropdown(true);\n              }\n            }, _blurActions[SELECT_ONE_TYPE] = function () {\n              _this18.containerOuter.removeFocusState();\n\n              if (target === _this18.input.element || target === _this18.containerOuter.element && !_this18._canSearch) {\n                _this18.hideDropdown(true);\n              }\n            }, _blurActions[SELECT_MULTIPLE_TYPE] = function () {\n              if (target === _this18.input.element) {\n                _this18.containerOuter.removeFocusState();\n\n                _this18.hideDropdown(true);\n\n                if (hasHighlightedItems) {\n                  _this18.unhighlightAll();\n                }\n              }\n            }, _blurActions);\n            blurActions[this.passedElement.element.type]();\n          } else {\n            // On IE11, clicking the scollbar blurs our input and thus\n            // closes the dropdown. To stop this, we refocus our input\n            // if we know we are on IE *and* are scrolling.\n            this._isScrollingOnIe = false;\n            this.input.element.focus();\n          }\n        };\n\n        _proto._onFormReset = function _onFormReset() {\n          this._store.dispatch(resetTo(this._initialState));\n        };\n\n        _proto._highlightChoice = function _highlightChoice(el) {\n          var _this19 = this;\n\n          if (el === void 0) {\n            el = null;\n          }\n\n          var choices = Array.from(this.dropdown.element.querySelectorAll('[data-choice-selectable]'));\n\n          if (!choices.length) {\n            return;\n          }\n\n          var passedEl = el;\n          var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(\".\" + this.config.classNames.highlightedState)); // Remove any highlighted choices\n\n          highlightedChoices.forEach(function (choice) {\n            choice.classList.remove(_this19.config.classNames.highlightedState);\n            choice.setAttribute('aria-selected', 'false');\n          });\n\n          if (passedEl) {\n            this._highlightPosition = choices.indexOf(passedEl);\n          } else {\n            // Highlight choice based on last known highlight location\n            if (choices.length > this._highlightPosition) {\n              // If we have an option to highlight\n              passedEl = choices[this._highlightPosition];\n            } else {\n              // Otherwise highlight the option before\n              passedEl = choices[choices.length - 1];\n            }\n\n            if (!passedEl) {\n              passedEl = choices[0];\n            }\n          }\n\n          passedEl.classList.add(this.config.classNames.highlightedState);\n          passedEl.setAttribute('aria-selected', 'true');\n          this.passedElement.triggerEvent(EVENTS.highlightChoice, {\n            el: passedEl\n          });\n\n          if (this.dropdown.isActive) {\n            // IE11 ignores aria-label and blocks virtual keyboard\n            // if aria-activedescendant is set without a dropdown\n            this.input.setActiveDescendant(passedEl.id);\n            this.containerOuter.setActiveDescendant(passedEl.id);\n          }\n        };\n\n        _proto._addItem = function _addItem(_ref13) {\n          var value = _ref13.value,\n              _ref13$label = _ref13.label,\n              label = _ref13$label === void 0 ? null : _ref13$label,\n              _ref13$choiceId = _ref13.choiceId,\n              choiceId = _ref13$choiceId === void 0 ? -1 : _ref13$choiceId,\n              _ref13$groupId = _ref13.groupId,\n              groupId = _ref13$groupId === void 0 ? -1 : _ref13$groupId,\n              _ref13$customProperti = _ref13.customProperties,\n              customProperties = _ref13$customProperti === void 0 ? null : _ref13$customProperti,\n              _ref13$placeholder = _ref13.placeholder,\n              placeholder = _ref13$placeholder === void 0 ? false : _ref13$placeholder,\n              _ref13$keyCode = _ref13.keyCode,\n              keyCode = _ref13$keyCode === void 0 ? null : _ref13$keyCode;\n          var passedValue = typeof value === 'string' ? value.trim() : value;\n          var passedKeyCode = keyCode;\n          var passedCustomProperties = customProperties;\n          var items = this._store.items;\n          var passedLabel = label || passedValue;\n          var passedOptionId = choiceId || -1;\n          var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n          var id = items ? items.length + 1 : 1; // If a prepended value has been passed, prepend it\n\n          if (this.config.prependValue) {\n            passedValue = this.config.prependValue + passedValue.toString();\n          } // If an appended value has been passed, append it\n\n\n          if (this.config.appendValue) {\n            passedValue += this.config.appendValue.toString();\n          }\n\n          this._store.dispatch(items_addItem({\n            value: passedValue,\n            label: passedLabel,\n            id: id,\n            choiceId: passedOptionId,\n            groupId: groupId,\n            customProperties: customProperties,\n            placeholder: placeholder,\n            keyCode: passedKeyCode\n          }));\n\n          if (this._isSelectOneElement) {\n            this.removeActiveItems(id);\n          } // Trigger change event\n\n\n          this.passedElement.triggerEvent(EVENTS.addItem, {\n            id: id,\n            value: passedValue,\n            label: passedLabel,\n            customProperties: passedCustomProperties,\n            groupValue: group && group.value ? group.value : undefined,\n            keyCode: passedKeyCode\n          });\n          return this;\n        };\n\n        _proto._removeItem = function _removeItem(item) {\n          if (!item || !isType('Object', item)) {\n            return this;\n          }\n\n          var id = item.id,\n              value = item.value,\n              label = item.label,\n              choiceId = item.choiceId,\n              groupId = item.groupId;\n          var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n          this._store.dispatch(items_removeItem(id, choiceId));\n\n          if (group && group.value) {\n            this.passedElement.triggerEvent(EVENTS.removeItem, {\n              id: id,\n              value: value,\n              label: label,\n              groupValue: group.value\n            });\n          } else {\n            this.passedElement.triggerEvent(EVENTS.removeItem, {\n              id: id,\n              value: value,\n              label: label\n            });\n          }\n\n          return this;\n        };\n\n        _proto._addChoice = function _addChoice(_ref14) {\n          var value = _ref14.value,\n              _ref14$label = _ref14.label,\n              label = _ref14$label === void 0 ? null : _ref14$label,\n              _ref14$isSelected = _ref14.isSelected,\n              isSelected = _ref14$isSelected === void 0 ? false : _ref14$isSelected,\n              _ref14$isDisabled = _ref14.isDisabled,\n              isDisabled = _ref14$isDisabled === void 0 ? false : _ref14$isDisabled,\n              _ref14$groupId = _ref14.groupId,\n              groupId = _ref14$groupId === void 0 ? -1 : _ref14$groupId,\n              _ref14$customProperti = _ref14.customProperties,\n              customProperties = _ref14$customProperti === void 0 ? null : _ref14$customProperti,\n              _ref14$placeholder = _ref14.placeholder,\n              placeholder = _ref14$placeholder === void 0 ? false : _ref14$placeholder,\n              _ref14$keyCode = _ref14.keyCode,\n              keyCode = _ref14$keyCode === void 0 ? null : _ref14$keyCode;\n\n          if (typeof value === 'undefined' || value === null) {\n            return;\n          } // Generate unique id\n\n\n          var choices = this._store.choices;\n          var choiceLabel = label || value;\n          var choiceId = choices ? choices.length + 1 : 1;\n          var choiceElementId = this._baseId + \"-\" + this._idNames.itemChoice + \"-\" + choiceId;\n\n          this._store.dispatch(choices_addChoice({\n            id: choiceId,\n            groupId: groupId,\n            elementId: choiceElementId,\n            value: value,\n            label: choiceLabel,\n            disabled: isDisabled,\n            customProperties: customProperties,\n            placeholder: placeholder,\n            keyCode: keyCode\n          }));\n\n          if (isSelected) {\n            this._addItem({\n              value: value,\n              label: choiceLabel,\n              choiceId: choiceId,\n              customProperties: customProperties,\n              placeholder: placeholder,\n              keyCode: keyCode\n            });\n          }\n        };\n\n        _proto._addGroup = function _addGroup(_ref15) {\n          var _this20 = this;\n\n          var group = _ref15.group,\n              id = _ref15.id,\n              _ref15$valueKey = _ref15.valueKey,\n              valueKey = _ref15$valueKey === void 0 ? 'value' : _ref15$valueKey,\n              _ref15$labelKey = _ref15.labelKey,\n              labelKey = _ref15$labelKey === void 0 ? 'label' : _ref15$labelKey;\n          var groupChoices = isType('Object', group) ? group.choices : Array.from(group.getElementsByTagName('OPTION'));\n          var groupId = id || Math.floor(new Date().valueOf() * Math.random());\n          var isDisabled = group.disabled ? group.disabled : false;\n\n          if (groupChoices) {\n            this._store.dispatch(groups_addGroup({\n              value: group.label,\n              id: groupId,\n              active: true,\n              disabled: isDisabled\n            }));\n\n            var addGroupChoices = function addGroupChoices(choice) {\n              var isOptDisabled = choice.disabled || choice.parentNode && choice.parentNode.disabled;\n\n              _this20._addChoice({\n                value: choice[valueKey],\n                label: isType('Object', choice) ? choice[labelKey] : choice.innerHTML,\n                isSelected: choice.selected,\n                isDisabled: isOptDisabled,\n                groupId: groupId,\n                customProperties: choice.customProperties,\n                placeholder: choice.placeholder\n              });\n            };\n\n            groupChoices.forEach(addGroupChoices);\n          } else {\n            this._store.dispatch(groups_addGroup({\n              value: group.label,\n              id: group.id,\n              active: false,\n              disabled: group.disabled\n            }));\n          }\n        };\n\n        _proto._getTemplate = function _getTemplate(template) {\n          var _this$_templates$temp;\n\n          if (!template) {\n            return null;\n          }\n\n          var classNames = this.config.classNames;\n\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          return (_this$_templates$temp = this._templates[template]).call.apply(_this$_templates$temp, [this, classNames].concat(args));\n        };\n\n        _proto._createTemplates = function _createTemplates() {\n          var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n          var userTemplates = {};\n\n          if (callbackOnCreateTemplates && typeof callbackOnCreateTemplates === 'function') {\n            userTemplates = callbackOnCreateTemplates.call(this, strToEl);\n          }\n\n          this._templates = cjs_default()(TEMPLATES, userTemplates);\n        };\n\n        _proto._createElements = function _createElements() {\n          this.containerOuter = new container_Container({\n            element: this._getTemplate('containerOuter', this._direction, this._isSelectElement, this._isSelectOneElement, this.config.searchEnabled, this.passedElement.element.type),\n            classNames: this.config.classNames,\n            type: this.passedElement.element.type,\n            position: this.config.position\n          });\n          this.containerInner = new container_Container({\n            element: this._getTemplate('containerInner'),\n            classNames: this.config.classNames,\n            type: this.passedElement.element.type,\n            position: this.config.position\n          });\n          this.input = new input_Input({\n            element: this._getTemplate('input', this._placeholderValue),\n            classNames: this.config.classNames,\n            type: this.passedElement.element.type,\n            preventPaste: !this.config.paste\n          });\n          this.choiceList = new list_List({\n            element: this._getTemplate('choiceList', this._isSelectOneElement)\n          });\n          this.itemList = new list_List({\n            element: this._getTemplate('itemList', this._isSelectOneElement)\n          });\n          this.dropdown = new Dropdown({\n            element: this._getTemplate('dropdown'),\n            classNames: this.config.classNames,\n            type: this.passedElement.element.type\n          });\n        };\n\n        _proto._createStructure = function _createStructure() {\n          // Hide original element\n          this.passedElement.conceal(); // Wrap input in container preserving DOM ordering\n\n          this.containerInner.wrap(this.passedElement.element); // Wrapper inner container with outer container\n\n          this.containerOuter.wrap(this.containerInner.element);\n\n          if (this._isSelectOneElement) {\n            this.input.placeholder = this.config.searchPlaceholderValue || '';\n          } else if (this._placeholderValue) {\n            this.input.placeholder = this._placeholderValue;\n            this.input.setWidth();\n          }\n\n          this.containerOuter.element.appendChild(this.containerInner.element);\n          this.containerOuter.element.appendChild(this.dropdown.element);\n          this.containerInner.element.appendChild(this.itemList.element);\n\n          if (!this._isTextElement) {\n            this.dropdown.element.appendChild(this.choiceList.element);\n          }\n\n          if (!this._isSelectOneElement) {\n            this.containerInner.element.appendChild(this.input.element);\n          } else if (this.config.searchEnabled) {\n            this.dropdown.element.insertBefore(this.input.element, this.dropdown.element.firstChild);\n          }\n\n          if (this._isSelectElement) {\n            this._highlightPosition = 0;\n            this._isSearching = false;\n\n            this._startLoading();\n\n            if (this._presetGroups.length) {\n              this._addPredefinedGroups(this._presetGroups);\n            } else {\n              this._addPredefinedChoices(this._presetChoices);\n            }\n\n            this._stopLoading();\n          }\n\n          if (this._isTextElement) {\n            this._addPredefinedItems(this._presetItems);\n          }\n        };\n\n        _proto._addPredefinedGroups = function _addPredefinedGroups(groups) {\n          var _this21 = this; // If we have a placeholder option\n\n\n          var placeholderChoice = this.passedElement.placeholderOption;\n\n          if (placeholderChoice && placeholderChoice.parentNode.tagName === 'SELECT') {\n            this._addChoice({\n              value: placeholderChoice.value,\n              label: placeholderChoice.innerHTML,\n              isSelected: placeholderChoice.selected,\n              isDisabled: placeholderChoice.disabled,\n              placeholder: true\n            });\n          }\n\n          groups.forEach(function (group) {\n            return _this21._addGroup({\n              group: group,\n              id: group.id || null\n            });\n          });\n        };\n\n        _proto._addPredefinedChoices = function _addPredefinedChoices(choices) {\n          var _this22 = this; // If sorting is enabled or the user is searching, filter choices\n\n\n          if (this.config.shouldSort) {\n            choices.sort(this.config.sorter);\n          }\n\n          var hasSelectedChoice = choices.some(function (choice) {\n            return choice.selected;\n          });\n          var firstEnabledChoiceIndex = choices.findIndex(function (choice) {\n            return choice.disabled === undefined || !choice.disabled;\n          });\n          choices.forEach(function (choice, index) {\n            var value = choice.value,\n                label = choice.label,\n                customProperties = choice.customProperties,\n                placeholder = choice.placeholder;\n\n            if (_this22._isSelectElement) {\n              // If the choice is actually a group\n              if (choice.choices) {\n                _this22._addGroup({\n                  group: choice,\n                  id: choice.id || null\n                });\n              } else {\n                /**\n                 * If there is a selected choice already or the choice is not the first in\n                 * the array, add each choice normally.\n                 *\n                 * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n                 */\n                var shouldPreselect = _this22._isSelectOneElement && !hasSelectedChoice && index === firstEnabledChoiceIndex;\n                var isSelected = shouldPreselect ? true : choice.selected;\n                var isDisabled = choice.disabled;\n\n                _this22._addChoice({\n                  value: value,\n                  label: label,\n                  isSelected: isSelected,\n                  isDisabled: isDisabled,\n                  customProperties: customProperties,\n                  placeholder: placeholder\n                });\n              }\n            } else {\n              _this22._addChoice({\n                value: value,\n                label: label,\n                isSelected: choice.selected,\n                isDisabled: choice.disabled,\n                customProperties: customProperties,\n                placeholder: placeholder\n              });\n            }\n          });\n        }\n        /**\n         * @param {Item[]} items\n         */\n        ;\n\n        _proto._addPredefinedItems = function _addPredefinedItems(items) {\n          var _this23 = this;\n\n          items.forEach(function (item) {\n            if (typeof item === 'object' && item.value) {\n              _this23._addItem({\n                value: item.value,\n                label: item.label,\n                choiceId: item.id,\n                customProperties: item.customProperties,\n                placeholder: item.placeholder\n              });\n            }\n\n            if (typeof item === 'string') {\n              _this23._addItem({\n                value: item\n              });\n            }\n          });\n        };\n\n        _proto._setChoiceOrItem = function _setChoiceOrItem(item) {\n          var _this24 = this;\n\n          var itemType = getType(item).toLowerCase();\n          var handleType = {\n            object: function object() {\n              if (!item.value) {\n                return;\n              } // If we are dealing with a select input, we need to create an option first\n              // that is then selected. For text inputs we can just add items normally.\n\n\n              if (!_this24._isTextElement) {\n                _this24._addChoice({\n                  value: item.value,\n                  label: item.label,\n                  isSelected: true,\n                  isDisabled: false,\n                  customProperties: item.customProperties,\n                  placeholder: item.placeholder\n                });\n              } else {\n                _this24._addItem({\n                  value: item.value,\n                  label: item.label,\n                  choiceId: item.id,\n                  customProperties: item.customProperties,\n                  placeholder: item.placeholder\n                });\n              }\n            },\n            string: function string() {\n              if (!_this24._isTextElement) {\n                _this24._addChoice({\n                  value: item,\n                  label: item,\n                  isSelected: true,\n                  isDisabled: false\n                });\n              } else {\n                _this24._addItem({\n                  value: item\n                });\n              }\n            }\n          };\n          handleType[itemType]();\n        };\n\n        _proto._findAndSelectChoiceByValue = function _findAndSelectChoiceByValue(val) {\n          var _this25 = this;\n\n          var choices = this._store.choices; // Check 'value' property exists and the choice isn't already selected\n\n          var foundChoice = choices.find(function (choice) {\n            return _this25.config.valueComparer(choice.value, val);\n          });\n\n          if (foundChoice && !foundChoice.selected) {\n            this._addItem({\n              value: foundChoice.value,\n              label: foundChoice.label,\n              choiceId: foundChoice.id,\n              groupId: foundChoice.groupId,\n              customProperties: foundChoice.customProperties,\n              placeholder: foundChoice.placeholder,\n              keyCode: foundChoice.keyCode\n            });\n          }\n        };\n\n        _proto._generatePlaceholderValue = function _generatePlaceholderValue() {\n          if (this._isSelectElement) {\n            var placeholderOption = this.passedElement.placeholderOption;\n            return placeholderOption ? placeholderOption.text : false;\n          }\n\n          var _this$config4 = this.config,\n              placeholder = _this$config4.placeholder,\n              placeholderValue = _this$config4.placeholderValue;\n          var dataset = this.passedElement.element.dataset;\n\n          if (placeholder) {\n            if (placeholderValue) {\n              return placeholderValue;\n            }\n\n            if (dataset.placeholder) {\n              return dataset.placeholder;\n            }\n          }\n\n          return false;\n        };\n\n        return Choices;\n      }();\n      /* harmony default export */\n\n\n      var scripts_choices = __webpack_exports__[\"default\"] = choices_Choices;\n      /***/\n    }\n    /******/\n    ])[\"default\"]\n  );\n});","map":{"version":3,"sources":["C:/Users/ShyamLakhani/Desktop/my-app/node_modules/@formio/choices.js/public/assets/scripts/choices.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","isMergeableObject","isNonNullObject","isSpecial","stringValue","toString","isReactElement","canUseSymbol","for","REACT_ELEMENT_TYPE","$$typeof","emptyTarget","val","Array","isArray","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","defaultArrayMerge","target","source","concat","map","element","getMergeFunction","customMerge","getEnumerableOwnPropertySymbols","getOwnPropertySymbols","filter","symbol","propertyIsEnumerable","getKeys","keys","propertyIsUnsafe","unused","mergeObject","destination","forEach","arrayMerge","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","all","deepmergeAll","array","Error","reduce","prev","next","deepmerge_1","__webpack_exports__","global","_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__","self","result","e","undefined","default","iterator","constructor","length","configurable","writable","a","location","distance","threshold","h","maxPatternLength","u","f","caseSensitive","v","tokenSeparator","g","findAllMatches","y","minMatchCharLength","k","S","id","x","b","M","_","shouldSort","L","w","getFn","A","C","sortFn","I","score","O","tokenize","j","P","matchAllTokens","F","T","includeMatches","z","E","includeScore","K","$","verbose","J","TypeError","isCaseSensitive","setCollection","list","arguments","limit","_log","_prepareSearchers","tokenSearchers","fullSearcher","_search","weights","results","_computeScore","_sort","slice","_format","split","push","_analyze","record","index","resultMap","weight","arrayIndex","search","pattern","isMatch","output","matchedIndices","item","Math","min","nScore","sort","JSON","stringify","indexOf","matches","indices","console","log","apply","toLowerCase","patternAlphabet","RegExp","replace","match","errors","currentLocation","expectedLocation","lastIndexOf","floor","max","charAt","abs","symbolObservablePonyfill","observable","Function","originalModule","webpackPolyfill","children","dist_fuse","fuse_default","cjs","cjs_default","es","randomString","random","substring","join","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","unsubscribe","splice","dispatch","action","type","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","warning","message","error","getUndefinedStateErrorMessage","actionType","actionDescription","String","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","argumentName","unexpectedKeys","assertReducerShape","initialState","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","combination","state","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","bindActionCreators","actionCreators","boundActionCreators","_defineProperty","ownKeys","enumerableOnly","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","compose","_len","funcs","arg","applyMiddleware","middlewares","store","_dispatch","middlewareAPI","chain","middleware","isCrushed","defaultState","items_items","newState","choiceId","groupId","label","active","highlighted","customProperties","placeholder","keyCode","groups_defaultState","groups","disabled","choices_defaultState","choices_choices","elementId","selected","activateOptions","choice","parseInt","some","general_defaultState","loading","general","isLoading","reducers_general","getRandomNumber","generateChars","from","generateId","prefix","getType","isType","utils_wrap","wrap","wrapper","document","createElement","nextSibling","parentNode","insertBefore","appendChild","getAdjacentEl","startEl","selector","direction","Element","prop","sibling","isScrolledIntoView","parent","isVisible","scrollTop","offsetHeight","offsetTop","sanitise","strToEl","tmpEl","str","cleanedInput","trim","innerHTML","firldChild","firstChild","removeChild","sortByAlpha","_ref$label","value2","_ref2$label","label2","localeCompare","sensitivity","ignorePunctuation","numeric","sortByScore","dispatchEvent","customArgs","event","CustomEvent","detail","bubbles","cancelable","existsInArray","cloneObject","parse","diff","aKeys","bKeys","appReducer","items","choices","reducers_rootReducer","rootReducer","passedState","_defineProperties","props","descriptor","_createClass","Constructor","protoProps","staticProps","store_Store","Store","_store","__REDUX_DEVTOOLS_EXTENSION__","_proto","onChange","getChoiceById","activeChoices","find","getGroupById","group","selectableChoices","reverse","isActive","hasActiveOptions","dropdown_defineProperties","dropdown_createClass","Dropdown","classNames","getChild","querySelector","show","classList","add","activeState","setAttribute","hide","remove","getBoundingClientRect","bottom","DEFAULT_CLASSNAMES","containerOuter","containerInner","input","inputCloned","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","itemChoice","groupHeading","button","focusState","openState","disabledState","highlightedState","selectedState","flippedState","loadingState","noResults","noChoices","DEFAULT_CONFIG","silent","renderChoiceLimit","maxItemCount","addItems","addItemFilter","removeItems","removeItemButton","editItems","duplicateItemsAllowed","delimiter","paste","searchEnabled","searchChoices","searchFloor","searchResultLimit","searchFields","position","resetScrollPosition","shouldSortItems","sorter","shadowRoot","placeholderValue","searchPlaceholderValue","prependValue","appendValue","renderSelectedChoices","loadingText","noResultsText","noChoicesText","itemSelectText","uniqueItemText","customAddItemText","addItemText","maxItemText","valueComparer","value1","fuseOptions","callbackOnInit","callbackOnCreateTemplates","EVENTS","showDropdown","hideDropdown","change","addItem","removeItem","highlightItem","highlightChoice","ACTION_TYPES","ADD_CHOICE","FILTER_CHOICES","ACTIVATE_CHOICES","CLEAR_CHOICES","ADD_GROUP","ADD_ITEM","REMOVE_ITEM","HIGHLIGHT_ITEM","CLEAR_ALL","KEY_CODES","BACK_KEY","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","TEXT_TYPE","SELECT_ONE_TYPE","SELECT_MULTIPLE_TYPE","SCROLLING_SPEED","container_Container","Container","isOpen","isFlipped","isFocussed","isDisabled","_onFocus","_onBlur","addEventListeners","addEventListener","removeEventListeners","removeEventListener","shouldFlip","dropdownPos","matchMedia","setActiveDescendant","activeDescendantID","removeActiveDescendant","removeAttribute","open","close","focus","addFocusState","removeFocusState","enable","disable","unwrap","addLoadingState","removeLoadingState","input_defineProperties","input_createClass","input_Input","Input","preventPaste","activeElement","_onPaste","_onInput","passive","blur","clear","setWidth","_this$element","style","minWidth","width","preventDefault","set","list_List","List","scrollPos","height","append","node","hasChildren","hasChildNodes","scrollToTop","scrollToChildElement","_this","listHeight","listScrollPosition","elementHeight","elementPos","requestAnimationFrame","_animateScroll","_scrollDown","strength","easing","_scrollUp","_this2","choiceListScrollTop","continueAnimation","wrapped_element_defineProperties","wrapped_element_createClass","wrapped_element_WrappedElement","WrappedElement","HTMLInputElement","HTMLSelectElement","conceal","hidden","tabIndex","origStyle","getAttribute","reveal","triggerEvent","eventType","data","dataset","dir","wrapped_input_defineProperties","wrapped_input_createClass","_inheritsLoose","subClass","superClass","__proto__","WrappedInput","_WrappedElement","itemValues","joinedValues","wrapped_select_defineProperties","wrapped_select_createClass","wrapped_select_inheritsLoose","WrappedSelect","template","appendDocFragment","fragment","getElementsByTagName","createDocumentFragment","addOptionToFragment","option","optionData","TEMPLATES","isSelectElement","isSelectOneElement","passedElementType","_containerOuter","div","assign","className","_containerInner","itemList","_ref3","_ref4","_placeholder","_ref5","_ref6","_item","isPlaceholder","deletable","REMOVE_ITEM_TEXT","removeButton","choiceList","_ref7","choiceGroup","_ref8","_ref9","_ref10","_ref11","selectText","isSelected","choiceDisabled","choiceSelectable","_ref12","_input","inp","autocomplete","autocapitalize","spellcheck","dropdown","_ref13","notice","_ref14","classes","_ref15","opt","Option","templates","choices_addChoice","addChoice","choices_filterChoices","filterChoices","choices_activateChoices","activateChoices","choices_clearChoices","clearChoices","items_addItem","items_removeItem","items_highlightItem","groups_addGroup","addGroup","clearAll","resetTo","setIsLoading","choices_defineProperties","choices_createClass","IS_IE11","documentElement","USER_DEFAULTS","choices_Choices","Choices","preventExtensions","userConfig","config","defaults","sourceArray","invalidConfigOptions","warn","passedElement","_isTextElement","_isSelectOneElement","_isSelectMultipleElement","_isSelectElement","includes","re","test","_templates","initialised","_initialState","_currentState","_prevState","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","_direction","_window$getComputedSt","getComputedStyle","elementDirection","_window$getComputedSt2","documentDirection","_idNames","_presetGroups","optionGroups","_presetOptions","_presetChoices","_presetItems","hasAttribute","_render","_onKeyUp","_onKeyDown","_onClick","_onTouchMove","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onAKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","init","_createTemplates","_createElements","_createStructure","_addEventListeners","shouldDisable","destroy","_removeEventListeners","clearStore","runEvent","_item$groupId","_item$value","_item$label","groupValue","unhighlightItem","_item$groupId2","_item$value2","_item$label2","highlightAll","unhighlightAll","_this3","removeActiveItemsByValue","_this4","activeItems","_removeItem","removeActiveItems","excludedId","_this5","removeHighlightedItems","_this6","highlightedActiveItems","_triggerChange","preventInputFocus","_this7","distanceFromTopWindow","preventInputBlur","_this8","getValue","valueOnly","values","selectedItems","itemValue","setValue","_this9","_setChoiceOrItem","setChoiceByValue","_this10","choiceValue","_findAndSelectChoiceByValue","setChoices","choicesArrayOrFetcher","replaceChoices","_this11","ReferenceError","fetcher","Promise","resolve","then","_handleLoadingState","catch","err","_startLoading","groupOrChoice","_addGroup","valueKey","labelKey","_addChoice","_stopLoading","clearInput","shouldSetInputWidth","_isSearching","stateChanged","shouldRenderChoices","shouldRenderItems","_renderChoices","_renderItems","_this12","_this$_store","activeGroups","choiceListFragment","activePlaceholders","activeChoice","_createChoicesFragment","_createGroupsFragment","childNodes","canAddItem","_canAddItem","response","_highlightChoice","_getTemplate","dropdownItem","itemListFragment","_createItemsFragment","_this13","getGroupChoices","groupChoices","dropdownGroup","withinGroup","_this14","_this$config","appendChoice","shouldRender","rendererableChoices","_rendererableChoices$","acc","placeholderChoices","normalChoices","choiceLimit","sortedChoices","_this15","_this$config2","addItemToFragment","listItem","_selectPlaceholderChoice","placeholderChoice","_addItem","_handleButtonAction","itemId","itemToRemove","_handleItemAction","hasShiftKey","_this16","passedId","_handleChoiceAction","passedKeyCode","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","setLoading","placeholderItem","_handleSearch","_this$config3","hasUnactiveChoices","resultCount","_searchChoices","isDuplicateValue","newValue","currentValue","haystack","searchableChoices","needle","fuse","form","_keyDownActions","ctrlKey","metaKey","hasFocusedInput","hasItems","keyString","fromCharCode","hasCtrlDownKeyPressed","keyDownActions","backKey","deleteKey","canShowDropdownNotice","outerHTML","userHasRemovedValue","canReactivateChoices","canSearch","shouldHightlightAll","enterKey","targetWasButton","highlightedChoice","downKey","pageUpKey","pageDownKey","directionInt","skipKey","selectableChoiceIdentifier","nextEl","currentEl","touches","touchWasWithinContainer","contains","containerWasExactTarget","stopPropagation","HTMLElement","firstChoice","firstElementChild","isOnScrollbar","offsetX","offsetWidth","offsetLeft","closest","shiftKey","clickWasWithinContainer","_this17","_focusActions","focusWasWithinContainer","focusActions","_this18","blurWasWithinContainer","_blurActions","blurActions","el","_this19","querySelectorAll","passedEl","highlightedChoices","_ref13$label","_ref13$choiceId","_ref13$groupId","_ref13$customProperti","_ref13$placeholder","_ref13$keyCode","passedValue","passedCustomProperties","passedLabel","passedOptionId","_ref14$label","_ref14$isSelected","_ref14$isDisabled","_ref14$groupId","_ref14$customProperti","_ref14$placeholder","_ref14$keyCode","choiceLabel","choiceElementId","_this20","_ref15$valueKey","_ref15$labelKey","Date","valueOf","addGroupChoices","isOptDisabled","_this$_templates$temp","args","userTemplates","_addPredefinedGroups","_addPredefinedChoices","_addPredefinedItems","_this21","placeholderOption","tagName","_this22","hasSelectedChoice","firstEnabledChoiceIndex","findIndex","shouldPreselect","_this23","_this24","itemType","handleType","string","_this25","foundChoice","text","_this$config4","scripts_choices"],"mappings":"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","sourcesContent":["/*! @formio/choices.js v9.0.1 | © 2021 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Choices\"] = factory();\n\telse\n\t\troot[\"Choices\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/public/assets/scripts/\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\ttry {\n\t\treturn (key in target) // Properties are safe to merge if they don't exist in the target yet,\n\t\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n\t} catch (unused) {\n\t\t// Counterintuitively, it's safe to merge any property on a target that causes the `in` operator to throw.\n\t\t// This happens when trying to copy an object in the source over a plain string in the target.\n\t\treturn false\n\t}\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!options.isMergeableObject(source[key]) || !target[key]) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _ponyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* global window */\n\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (true) {\n  root = module;\n} else {}\n\nvar result = Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(root);\n/* harmony default export */ __webpack_exports__[\"a\"] = (result);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(5), __webpack_require__(6)(module)))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Fuse.js v3.4.5 - Lightweight fuzzy-search (http://fusejs.io)\n * \n * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n * \n * http://www.apache.org/licenses/LICENSE-2.0\n */\n!function(e,t){ true?module.exports=t():undefined}(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):\"[object Array]\"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(2),a=n(8),s=n(0),c=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,i=n.distance,s=void 0===i?100:i,c=n.threshold,h=void 0===c?.6:c,l=n.maxPatternLength,u=void 0===l?32:l,f=n.caseSensitive,d=void 0!==f&&f,v=n.tokenSeparator,p=void 0===v?/ +/g:v,g=n.findAllMatches,y=void 0!==g&&g,m=n.minMatchCharLength,k=void 0===m?1:m,S=n.id,x=void 0===S?null:S,b=n.keys,M=void 0===b?[]:b,_=n.shouldSort,L=void 0===_||_,w=n.getFn,A=void 0===w?a:w,C=n.sortFn,I=void 0===C?function(e,t){return e.score-t.score}:C,O=n.tokenize,j=void 0!==O&&O,P=n.matchAllTokens,F=void 0!==P&&P,T=n.includeMatches,z=void 0!==T&&T,E=n.includeScore,K=void 0!==E&&E,$=n.verbose,J=void 0!==$&&$;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:d,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k,id:x,keys:M,includeMatches:z,includeScore:K,shouldSort:L,getFn:A,sortFn:I,verbose:J,tokenize:j,matchAllTokens:F},this.setCollection(t)}var t,n,c;return t=e,(n=[{key:\"setCollection\",value:function(e){return this.list=e,e}},{key:\"search\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\\nSearch pattern: \"'.concat(e,'\"'));var n=this._prepareSearchers(e),r=n.tokenSearchers,o=n.fullSearcher,i=this._search(r,o),a=i.weights,s=i.results;return this._computeScore(a,s),this.options.shouldSort&&this._sort(s),t.limit&&\"number\"==typeof t.limit&&(s=s.slice(0,t.limit)),this._format(s)}},{key:\"_prepareSearchers\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,o=n.length;r<o;r+=1)t.push(new i(n[r],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:\"_search\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,r={},o=[];if(\"string\"==typeof n[0]){for(var i=0,a=n.length;i<a;i+=1)this._analyze({key:\"\",value:n[i],record:i,index:i},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}for(var s={},c=0,h=n.length;c<h;c+=1)for(var l=n[c],u=0,f=this.options.keys.length;u<f;u+=1){var d=this.options.keys[u];if(\"string\"!=typeof d){if(s[d.name]={weight:1-d.weight||1},d.weight<=0||d.weight>1)throw new Error(\"Key weight has to be > 0 and <= 1\");d=d.name}else s[d]={weight:1};this._analyze({key:d,value:this.options.getFn(l,d),record:l,index:c},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:o}}},{key:\"_analyze\",value:function(e,t){var n=e.key,r=e.arrayIndex,o=void 0===r?-1:r,i=e.value,a=e.record,c=e.index,h=t.tokenSearchers,l=void 0===h?[]:h,u=t.fullSearcher,f=void 0===u?[]:u,d=t.resultMap,v=void 0===d?{}:d,p=t.results,g=void 0===p?[]:p;if(null!=i){var y=!1,m=-1,k=0;if(\"string\"==typeof i){this._log(\"\\nKey: \".concat(\"\"===n?\"-\":n));var S=f.search(i);if(this._log('Full text: \"'.concat(i,'\", score: ').concat(S.score)),this.options.tokenize){for(var x=i.split(this.options.tokenSeparator),b=[],M=0;M<l.length;M+=1){var _=l[M];this._log('\\nPattern: \"'.concat(_.pattern,'\"'));for(var L=!1,w=0;w<x.length;w+=1){var A=x[w],C=_.search(A),I={};C.isMatch?(I[A]=C.score,y=!0,L=!0,b.push(C.score)):(I[A]=1,this.options.matchAllTokens||b.push(1)),this._log('Token: \"'.concat(A,'\", score: ').concat(I[A]))}L&&(k+=1)}m=b[0];for(var O=b.length,j=1;j<O;j+=1)m+=b[j];m/=O,this._log(\"Token score average:\",m)}var P=S.score;m>-1&&(P=(P+m)/2),this._log(\"Score average:\",P);var F=!this.options.tokenize||!this.options.matchAllTokens||k>=l.length;if(this._log(\"\\nCheck Matches: \".concat(F)),(y||S.isMatch)&&F){var T=v[c];T?T.output.push({key:n,arrayIndex:o,value:i,score:P,matchedIndices:S.matchedIndices}):(v[c]={item:a,output:[{key:n,arrayIndex:o,value:i,score:P,matchedIndices:S.matchedIndices}]},g.push(v[c]))}}else if(s(i))for(var z=0,E=i.length;z<E;z+=1)this._analyze({key:n,arrayIndex:z,value:i[z],record:a,index:c},{resultMap:v,results:g,tokenSearchers:l,fullSearcher:f})}}},{key:\"_computeScore\",value:function(e,t){this._log(\"\\n\\nComputing score:\\n\");for(var n=0,r=t.length;n<r;n+=1){for(var o=t[n].output,i=o.length,a=1,s=1,c=0;c<i;c+=1){var h=e?e[o[c].key].weight:1,l=(1===h?o[c].score:o[c].score||.001)*h;1!==h?s=Math.min(s,l):(o[c].nScore=l,a*=l)}t[n].score=1===s?a:s,this._log(t[n])}}},{key:\"_sort\",value:function(e){this._log(\"\\n\\nSorting....\"),e.sort(this.options.sortFn)}},{key:\"_format\",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log(\"\\n\\nOutput:\\n\\n\",JSON.stringify(e,function(e,t){if(\"object\"===r(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t})),n=null}var o=[];this.options.includeMatches&&o.push(function(e,t){var n=e.output;t.matches=[];for(var r=0,o=n.length;r<o;r+=1){var i=n[r];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty(\"arrayIndex\")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&o.push(function(e,t){t.score=e.score});for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),o.length){for(var c={item:s.item},h=0,l=o.length;h<l;h+=1)o[h](s,c);t.push(c)}else t.push(s.item)}return t}},{key:\"_log\",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&o(t.prototype,n),c&&o(t,c),e}();e.exports=c},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(3),i=n(4),a=n(7),s=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,i=n.distance,s=void 0===i?100:i,c=n.threshold,h=void 0===c?.6:c,l=n.maxPatternLength,u=void 0===l?32:l,f=n.isCaseSensitive,d=void 0!==f&&f,v=n.tokenSeparator,p=void 0===v?/ +/g:v,g=n.findAllMatches,y=void 0!==g&&g,m=n.minMatchCharLength,k=void 0===m?1:m;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:d,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}var t,n,s;return t=e,(n=[{key:\"search\",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,r=t.tokenSeparator;if(this.pattern.length>n)return o(e,this.pattern,r);var a=this.options,s=a.location,c=a.distance,h=a.threshold,l=a.findAllMatches,u=a.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:s,distance:c,threshold:h,findAllMatches:l,minMatchCharLength:u})}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},function(e,t){var n=/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(n,\"\\\\$&\").replace(r,\"|\")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,h=i.length;c<h;c+=1){var l=i[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,n){var r=n(5),o=n(6);e.exports=function(e,t,n,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,h=void 0===c?100:c,l=i.threshold,u=void 0===l?.6:l,f=i.findAllMatches,d=void 0!==f&&f,v=i.minMatchCharLength,p=void 0===v?1:v,g=s,y=e.length,m=u,k=e.indexOf(t,g),S=t.length,x=[],b=0;b<y;b+=1)x[b]=0;if(-1!==k){var M=r(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});if(m=Math.min(M,m),-1!==(k=e.lastIndexOf(t,g+S))){var _=r(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});m=Math.min(_,m)}}k=-1;for(var L=[],w=1,A=S+y,C=1<<S-1,I=0;I<S;I+=1){for(var O=0,j=A;O<j;){r(t,{errors:I,currentLocation:g+j,expectedLocation:g,distance:h})<=m?O=j:A=j,j=Math.floor((A-O)/2+O)}A=j;var P=Math.max(1,g-j+1),F=d?y:Math.min(g+j,y)+S,T=Array(F+2);T[F+1]=(1<<I)-1;for(var z=F;z>=P;z-=1){var E=z-1,K=n[e.charAt(E)];if(K&&(x[E]=1),T[z]=(T[z+1]<<1|1)&K,0!==I&&(T[z]|=(L[z+1]|L[z])<<1|1|L[z+1]),T[z]&C&&(w=r(t,{errors:I,currentLocation:E,expectedLocation:g,distance:h}))<=m){if(m=w,(k=E)<=g)break;P=Math.max(1,2*g-k)}}if(r(t,{errors:I+1,currentLocation:g,expectedLocation:g,distance:h})>m)break;L=T}return{isMatch:k>=0,score:0===w?.001:w,matchedIndices:o(x,p)}}},function(e,t){e.exports=function(e,t){var n=t.errors,r=void 0===n?0:n,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,h=void 0===c?100:c,l=r/e.length,u=Math.abs(s-i);return h?l+u/h:u?1:l}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===r?r=i:s||-1===r||((o=i-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var o=0;o<n;o+=1)t[e.charAt(o)]|=1<<n-o-1;return t}},function(e,t,n){var r=n(0);e.exports=function(e,t){return function e(t,n,o){if(n){var i=n.indexOf(\".\"),a=n,s=null;-1!==i&&(a=n.slice(0,i),s=n.slice(i+1));var c=t[a];if(null!=c)if(s||\"string\"!=typeof c&&\"number\"!=typeof c)if(r(c))for(var h=0,l=c.length;h<l;h+=1)e(c[h],s,o);else s&&e(c,s,o);else o.push(c.toString())}else o.push(t);return o}(e,t,[])}}])});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return symbolObservablePonyfill; });\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(7);\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/fuse.js/dist/fuse.js\nvar dist_fuse = __webpack_require__(2);\nvar fuse_default = /*#__PURE__*/__webpack_require__.n(dist_fuse);\n\n// EXTERNAL MODULE: ./node_modules/deepmerge/dist/cjs.js\nvar cjs = __webpack_require__(0);\nvar cjs_default = /*#__PURE__*/__webpack_require__.n(cjs);\n\n// EXTERNAL MODULE: ./node_modules/symbol-observable/es/index.js\nvar es = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./node_modules/redux/es/redux.js\n\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[es[\"a\" /* default */]] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[es[\"a\" /* default */]] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (false) {}\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (false) {}\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (false) { var warningMessage; }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (false) {}\n\n\n\n// CONCATENATED MODULE: ./src/scripts/reducers/items.js\nvar defaultState = [];\nfunction items_items(state, action) {\n  if (state === void 0) {\n    state = defaultState;\n  }\n\n  switch (action.type) {\n    case 'ADD_ITEM':\n      {\n        // Add object to items array\n        var newState = [].concat(state, [{\n          id: action.id,\n          choiceId: action.choiceId,\n          groupId: action.groupId,\n          value: action.value,\n          label: action.label,\n          active: true,\n          highlighted: false,\n          customProperties: action.customProperties,\n          placeholder: action.placeholder || false,\n          keyCode: null\n        }]);\n        return newState.map(function (obj) {\n          var item = obj;\n          item.highlighted = false;\n          return item;\n        });\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // Set item to inactive\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.active = false;\n          }\n\n          return item;\n        });\n      }\n\n    case 'HIGHLIGHT_ITEM':\n      {\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.highlighted = action.highlighted;\n          }\n\n          return item;\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n// CONCATENATED MODULE: ./src/scripts/reducers/groups.js\nvar groups_defaultState = [];\nfunction groups(state, action) {\n  if (state === void 0) {\n    state = groups_defaultState;\n  }\n\n  switch (action.type) {\n    case 'ADD_GROUP':\n      {\n        return [].concat(state, [{\n          id: action.id,\n          value: action.value,\n          active: action.active,\n          disabled: action.disabled\n        }]);\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return [];\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n// CONCATENATED MODULE: ./src/scripts/reducers/choices.js\nvar choices_defaultState = [];\nfunction choices_choices(state, action) {\n  if (state === void 0) {\n    state = choices_defaultState;\n  }\n\n  switch (action.type) {\n    case 'ADD_CHOICE':\n      {\n        /*\n            A disabled choice appears in the choice dropdown but cannot be selected\n            A selected choice has been added to the passed input's value (added as an item)\n            An active choice appears within the choice dropdown\n         */\n        return [].concat(state, [{\n          id: action.id,\n          elementId: action.elementId,\n          groupId: action.groupId,\n          value: action.value,\n          label: action.label || action.value,\n          disabled: action.disabled || false,\n          selected: false,\n          active: true,\n          score: 9999,\n          customProperties: action.customProperties,\n          placeholder: action.placeholder || false,\n          keyCode: null\n        }]);\n      }\n\n    case 'ADD_ITEM':\n      {\n        // If all choices need to be activated\n        if (action.activateOptions) {\n          return state.map(function (obj) {\n            var choice = obj;\n            choice.active = action.active;\n            return choice;\n          });\n        } // When an item is added and it has an associated choice,\n        // we want to disable it so it can't be chosen again\n\n\n        if (action.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(action.choiceId, 10)) {\n              choice.selected = true;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // When an item is removed and it has an associated choice,\n        // we want to re-enable it so it can be chosen again\n        if (action.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(action.choiceId, 10)) {\n              choice.selected = false;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'FILTER_CHOICES':\n      {\n        return state.map(function (obj) {\n          var choice = obj; // Set active state based on whether choice is\n          // within filtered results\n\n          choice.active = action.results.some(function (_ref) {\n            var item = _ref.item,\n                score = _ref.score;\n\n            if (item.id === choice.id) {\n              choice.score = score;\n              return true;\n            }\n\n            return false;\n          });\n          return choice;\n        });\n      }\n\n    case 'ACTIVATE_CHOICES':\n      {\n        return state.map(function (obj) {\n          var choice = obj;\n          choice.active = action.active;\n          return choice;\n        });\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return choices_defaultState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n// CONCATENATED MODULE: ./src/scripts/reducers/general.js\nvar general_defaultState = {\n  loading: false\n};\n\nvar general = function general(state, action) {\n  if (state === void 0) {\n    state = general_defaultState;\n  }\n\n  switch (action.type) {\n    case 'SET_IS_LOADING':\n      {\n        return {\n          loading: action.isLoading\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\n/* harmony default export */ var reducers_general = (general);\n// CONCATENATED MODULE: ./src/scripts/lib/utils.js\n/**\n * @param {number} min\n * @param {number} max\n * @returns {number}\n */\nvar getRandomNumber = function getRandomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n};\n/**\n * @param {number} length\n * @returns {string}\n */\n\nvar generateChars = function generateChars(length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return getRandomNumber(0, 36).toString(36);\n  }).join('');\n};\n/**\n * @param {HTMLInputElement | HTMLSelectElement} element\n * @param {string} prefix\n * @returns {string}\n */\n\nvar generateId = function generateId(element, prefix) {\n  var id = element.id || element.name && element.name + \"-\" + generateChars(2) || generateChars(4);\n  id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n  id = prefix + \"-\" + id;\n  return id;\n};\n/**\n * @param {any} obj\n * @returns {string}\n */\n\nvar getType = function getType(obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1);\n};\n/**\n * @param {string} type\n * @param {any} obj\n * @returns {boolean}\n */\n\nvar isType = function isType(type, obj) {\n  return obj !== undefined && obj !== null && getType(obj) === type;\n};\n/**\n * @param {HTMLElement} element\n * @param {HTMLElement} [wrapper={HTMLDivElement}]\n * @returns {HTMLElement}\n */\n\nvar utils_wrap = function wrap(element, wrapper) {\n  if (wrapper === void 0) {\n    wrapper = document.createElement('div');\n  }\n\n  if (element.nextSibling) {\n    element.parentNode.insertBefore(wrapper, element.nextSibling);\n  } else {\n    element.parentNode.appendChild(wrapper);\n  }\n\n  return wrapper.appendChild(element);\n};\n/**\n * @param {Element} startEl\n * @param {string} selector\n * @param {1 | -1} direction\n * @returns {Element | undefined}\n */\n\nvar getAdjacentEl = function getAdjacentEl(startEl, selector, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  if (!(startEl instanceof Element) || typeof selector !== 'string') {\n    return undefined;\n  }\n\n  var prop = (direction > 0 ? 'next' : 'previous') + \"ElementSibling\";\n  var sibling = startEl[prop];\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling[prop];\n  }\n\n  return sibling;\n};\n/**\n * @param {Element} element\n * @param {Element} parent\n * @param {-1 | 1} direction\n * @returns {boolean}\n */\n\nvar isScrolledIntoView = function isScrolledIntoView(element, parent, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  if (!element) {\n    return false;\n  }\n\n  var isVisible;\n\n  if (direction > 0) {\n    // In view from bottom\n    isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n  } else {\n    // In view from top\n    isVisible = element.offsetTop >= parent.scrollTop;\n  }\n\n  return isVisible;\n};\n/**\n * @param {any} value\n * @returns {any}\n */\n\nvar sanitise = function sanitise(value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  return value.replace(/&/g, '&amp;').replace(/>/g, '&rt;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n};\n/**\n * @returns {() => (str: string) => Element}\n */\n\nvar strToEl = function () {\n  var tmpEl = document.createElement('div');\n  return function (str) {\n    var cleanedInput = str.trim();\n    tmpEl.innerHTML = cleanedInput;\n    var firldChild = tmpEl.children[0];\n\n    while (tmpEl.firstChild) {\n      tmpEl.removeChild(tmpEl.firstChild);\n    }\n\n    return firldChild;\n  };\n}();\n/**\n * @param {{ label?: string, value: string }} a\n * @param {{ label?: string, value: string }} b\n * @returns {number}\n */\n\nvar sortByAlpha = function sortByAlpha(_ref, _ref2) {\n  var value = _ref.value,\n      _ref$label = _ref.label,\n      label = _ref$label === void 0 ? value : _ref$label;\n  var value2 = _ref2.value,\n      _ref2$label = _ref2.label,\n      label2 = _ref2$label === void 0 ? value2 : _ref2$label;\n  return label.localeCompare(label2, [], {\n    sensitivity: 'base',\n    ignorePunctuation: true,\n    numeric: true\n  });\n};\n/**\n * @param {{ score: number }} a\n * @param {{ score: number }} b\n */\n\nvar sortByScore = function sortByScore(a, b) {\n  return a.score - b.score;\n};\n/**\n * @param {HTMLElement} element\n * @param {string} type\n * @param {object} customArgs\n */\n\nvar dispatchEvent = function dispatchEvent(element, type, customArgs) {\n  if (customArgs === void 0) {\n    customArgs = null;\n  }\n\n  var event = new CustomEvent(type, {\n    detail: customArgs,\n    bubbles: true,\n    cancelable: true\n  });\n  return element.dispatchEvent(event);\n};\n/**\n * @param {array} array\n * @param {any} value\n * @param {string} [key=\"value\"]\n * @returns {boolean}\n */\n\nvar existsInArray = function existsInArray(array, value, key) {\n  if (key === void 0) {\n    key = 'value';\n  }\n\n  return array.some(function (item) {\n    if (typeof value === 'string') {\n      return item[key] === value.trim();\n    }\n\n    return item[key] === value;\n  });\n};\n/**\n * @param {any} obj\n * @returns {any}\n */\n\nvar cloneObject = function cloneObject(obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n/**\n * Returns an array of keys present on the first but missing on the second object\n * @param {object} a\n * @param {object} b\n * @returns {string[]}\n */\n\nvar diff = function diff(a, b) {\n  var aKeys = Object.keys(a).sort();\n  var bKeys = Object.keys(b).sort();\n  return aKeys.filter(function (i) {\n    return bKeys.indexOf(i) < 0;\n  });\n};\n// CONCATENATED MODULE: ./src/scripts/reducers/index.js\n\n\n\n\n\n\nvar appReducer = combineReducers({\n  items: items_items,\n  groups: groups,\n  choices: choices_choices,\n  general: reducers_general\n});\n\nvar reducers_rootReducer = function rootReducer(passedState, action) {\n  var state = passedState; // If we are clearing all items, groups and options we reassign\n  // state and then pass that state to our proper reducer. This isn't\n  // mutating our actual state\n  // See: http://stackoverflow.com/a/35641992\n\n  if (action.type === 'CLEAR_ALL') {\n    state = undefined;\n  } else if (action.type === 'RESET_TO') {\n    return cloneObject(action.state);\n  }\n\n  return appReducer(state, action);\n};\n\n/* harmony default export */ var reducers = (reducers_rootReducer);\n// CONCATENATED MODULE: ./src/scripts/store/store.js\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n/**\n * @typedef {import('../../../types/index').Choices.Choice} Choice\n * @typedef {import('../../../types/index').Choices.Group} Group\n * @typedef {import('../../../types/index').Choices.Item} Item\n */\n\nvar store_Store =\n/*#__PURE__*/\nfunction () {\n  function Store() {\n    this._store = createStore(reducers, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n  }\n  /**\n   * Subscribe store to function call (wrapped Redux method)\n   * @param  {Function} onChange Function to trigger when state changes\n   * @return\n   */\n\n\n  var _proto = Store.prototype;\n\n  _proto.subscribe = function subscribe(onChange) {\n    this._store.subscribe(onChange);\n  }\n  /**\n   * Dispatch event to store (wrapped Redux method)\n   * @param  {{ type: string, [x: string]: any }} action Action to trigger\n   * @return\n   */\n  ;\n\n  _proto.dispatch = function dispatch(action) {\n    this._store.dispatch(action);\n  }\n  /**\n   * Get store object (wrapping Redux method)\n   * @returns {object} State\n   */\n  ;\n\n  /**\n   * Get loading state from store\n   * @returns {boolean} Loading State\n   */\n  _proto.isLoading = function isLoading() {\n    return this.state.general.loading;\n  }\n  /**\n   * Get single choice by it's ID\n   * @param {string} id\n   * @returns {Choice | undefined} Found choice\n   */\n  ;\n\n  _proto.getChoiceById = function getChoiceById(id) {\n    return this.activeChoices.find(function (choice) {\n      return choice.id === parseInt(id, 10);\n    });\n  }\n  /**\n   * Get group by group id\n   * @param  {number} id Group ID\n   * @returns {Group | undefined} Group data\n   */\n  ;\n\n  _proto.getGroupById = function getGroupById(id) {\n    return this.groups.find(function (group) {\n      return group.id === id;\n    });\n  };\n\n  _createClass(Store, [{\n    key: \"state\",\n    get: function get() {\n      return this._store.getState();\n    }\n    /**\n     * Get items from store\n     * @returns {Item[]} Item objects\n     */\n\n  }, {\n    key: \"items\",\n    get: function get() {\n      return this.state.items;\n    }\n    /**\n     * Get active items from store\n     * @returns {Item[]} Item objects\n     */\n\n  }, {\n    key: \"activeItems\",\n    get: function get() {\n      return this.items.filter(function (item) {\n        return item.active === true;\n      });\n    }\n    /**\n     * Get highlighted items from store\n     * @returns {Item[]} Item objects\n     */\n\n  }, {\n    key: \"highlightedActiveItems\",\n    get: function get() {\n      return this.items.filter(function (item) {\n        return item.active && item.highlighted;\n      });\n    }\n    /**\n     * Get choices from store\n     * @returns {Choice[]} Option objects\n     */\n\n  }, {\n    key: \"choices\",\n    get: function get() {\n      return this.state.choices;\n    }\n    /**\n     * Get active choices from store\n     * @returns {Choice[]} Option objects\n     */\n\n  }, {\n    key: \"activeChoices\",\n    get: function get() {\n      return this.choices.filter(function (choice) {\n        return choice.active === true;\n      });\n    }\n    /**\n     * Get selectable choices from store\n     * @returns {Choice[]} Option objects\n     */\n\n  }, {\n    key: \"selectableChoices\",\n    get: function get() {\n      return this.choices.filter(function (choice) {\n        return choice.disabled !== true;\n      });\n    }\n    /**\n     * Get choices that can be searched (excluding placeholders)\n     * @returns {Choice[]} Option objects\n     */\n\n  }, {\n    key: \"searchableChoices\",\n    get: function get() {\n      return this.selectableChoices.filter(function (choice) {\n        return choice.placeholder !== true;\n      });\n    }\n    /**\n     * Get placeholder choice from store\n     * @returns {Choice | undefined} Found placeholder\n     */\n\n  }, {\n    key: \"placeholderChoice\",\n    get: function get() {\n      return [].concat(this.choices).reverse().find(function (choice) {\n        return choice.placeholder === true;\n      });\n    }\n    /**\n     * Get groups from store\n     * @returns {Group[]} Group objects\n     */\n\n  }, {\n    key: \"groups\",\n    get: function get() {\n      return this.state.groups;\n    }\n    /**\n     * Get active groups from store\n     * @returns {Group[]} Group objects\n     */\n\n  }, {\n    key: \"activeGroups\",\n    get: function get() {\n      var groups = this.groups,\n          choices = this.choices;\n      return groups.filter(function (group) {\n        var isActive = group.active === true && group.disabled === false;\n        var hasActiveOptions = choices.some(function (choice) {\n          return choice.active === true && choice.disabled === false;\n        });\n        return isActive && hasActiveOptions;\n      }, []);\n    }\n  }]);\n\n  return Store;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/components/dropdown.js\nfunction dropdown_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction dropdown_createClass(Constructor, protoProps, staticProps) { if (protoProps) dropdown_defineProperties(Constructor.prototype, protoProps); if (staticProps) dropdown_defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n */\nvar Dropdown =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {{\n   *  element: HTMLElement,\n   *  type: passedElement['type'],\n   *  classNames: ClassNames,\n   * }} args\n   */\n  function Dropdown(_ref) {\n    var element = _ref.element,\n        type = _ref.type,\n        classNames = _ref.classNames;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.isActive = false;\n  }\n  /**\n   * Bottom position of dropdown in viewport coordinates\n   * @returns {number} Vertical position\n   */\n\n\n  var _proto = Dropdown.prototype;\n\n  /**\n   * Find element that matches passed selector\n   * @param {string} selector\n   * @returns {HTMLElement | null}\n   */\n  _proto.getChild = function getChild(selector) {\n    return this.element.querySelector(selector);\n  }\n  /**\n   * Show dropdown to user by adding active state class\n   * @returns {this}\n   */\n  ;\n\n  _proto.show = function show() {\n    this.element.classList.add(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isActive = true;\n    return this;\n  }\n  /**\n   * Hide dropdown from user\n   * @returns {this}\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.element.classList.remove(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.isActive = false;\n    return this;\n  };\n\n  dropdown_createClass(Dropdown, [{\n    key: \"distanceFromTopWindow\",\n    get: function get() {\n      return this.element.getBoundingClientRect().bottom;\n    }\n  }]);\n\n  return Dropdown;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/constants.js\n\n/**\n * @typedef {import('../../types/index').Choices.ClassNames} ClassNames\n * @typedef {import('../../types/index').Choices.Options} Options\n */\n\n/** @type {ClassNames} */\n\nvar DEFAULT_CLASSNAMES = {\n  containerOuter: 'choices',\n  containerInner: 'choices__inner',\n  input: 'choices__input',\n  inputCloned: 'choices__input--cloned',\n  list: 'choices__list',\n  listItems: 'choices__list--multiple',\n  listSingle: 'choices__list--single',\n  listDropdown: 'choices__list--dropdown',\n  item: 'choices__item',\n  itemSelectable: 'choices__item--selectable',\n  itemDisabled: 'choices__item--disabled',\n  itemChoice: 'choices__item--choice',\n  placeholder: 'choices__placeholder',\n  group: 'choices__group',\n  groupHeading: 'choices__heading',\n  button: 'choices__button',\n  activeState: 'is-active',\n  focusState: 'is-focused',\n  openState: 'is-open',\n  disabledState: 'is-disabled',\n  highlightedState: 'is-highlighted',\n  selectedState: 'is-selected',\n  flippedState: 'is-flipped',\n  loadingState: 'is-loading',\n  noResults: 'has-no-results',\n  noChoices: 'has-no-choices'\n};\n/** @type {Options} */\n\nvar DEFAULT_CONFIG = {\n  items: [],\n  choices: [],\n  silent: false,\n  renderChoiceLimit: -1,\n  maxItemCount: -1,\n  addItems: true,\n  addItemFilter: null,\n  removeItems: true,\n  removeItemButton: false,\n  editItems: false,\n  duplicateItemsAllowed: true,\n  delimiter: ',',\n  paste: true,\n  searchEnabled: true,\n  searchChoices: true,\n  searchFloor: 1,\n  searchResultLimit: 4,\n  searchFields: ['label', 'value'],\n  position: 'auto',\n  resetScrollPosition: true,\n  shouldSort: true,\n  shouldSortItems: false,\n  sorter: sortByAlpha,\n  shadowRoot: null,\n  placeholder: true,\n  placeholderValue: null,\n  searchPlaceholderValue: null,\n  prependValue: null,\n  appendValue: null,\n  renderSelectedChoices: 'auto',\n  loadingText: 'Loading...',\n  noResultsText: 'No results found',\n  noChoicesText: 'No choices to choose from',\n  itemSelectText: 'Press to select',\n  uniqueItemText: 'Only unique values can be added',\n  customAddItemText: 'Only values matching specific conditions can be added',\n  addItemText: function addItemText(value) {\n    return \"Press Enter to add <b>\\\"\" + sanitise(value) + \"\\\"</b>\";\n  },\n  maxItemText: function maxItemText(maxItemCount) {\n    return \"Only \" + maxItemCount + \" values can be added\";\n  },\n  valueComparer: function valueComparer(value1, value2) {\n    return value1 === value2;\n  },\n  fuseOptions: {\n    includeScore: true\n  },\n  callbackOnInit: null,\n  callbackOnCreateTemplates: null,\n  classNames: DEFAULT_CLASSNAMES\n};\nvar EVENTS = {\n  showDropdown: 'showDropdown',\n  hideDropdown: 'hideDropdown',\n  change: 'change',\n  choice: 'choice',\n  search: 'search',\n  addItem: 'addItem',\n  removeItem: 'removeItem',\n  highlightItem: 'highlightItem',\n  highlightChoice: 'highlightChoice'\n};\nvar ACTION_TYPES = {\n  ADD_CHOICE: 'ADD_CHOICE',\n  FILTER_CHOICES: 'FILTER_CHOICES',\n  ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n  CLEAR_CHOICES: 'CLEAR_CHOICES',\n  ADD_GROUP: 'ADD_GROUP',\n  ADD_ITEM: 'ADD_ITEM',\n  REMOVE_ITEM: 'REMOVE_ITEM',\n  HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n  CLEAR_ALL: 'CLEAR_ALL'\n};\nvar KEY_CODES = {\n  BACK_KEY: 46,\n  DELETE_KEY: 8,\n  ENTER_KEY: 13,\n  A_KEY: 65,\n  ESC_KEY: 27,\n  UP_KEY: 38,\n  DOWN_KEY: 40,\n  PAGE_UP_KEY: 33,\n  PAGE_DOWN_KEY: 34\n};\nvar TEXT_TYPE = 'text';\nvar SELECT_ONE_TYPE = 'select-one';\nvar SELECT_MULTIPLE_TYPE = 'select-multiple';\nvar SCROLLING_SPEED = 4;\n// CONCATENATED MODULE: ./src/scripts/components/container.js\n\n\n/**\n * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n */\n\nvar container_Container =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {{\n   *  element: HTMLElement,\n   *  type: passedElement['type'],\n   *  classNames: ClassNames,\n   *  position\n   * }} args\n   */\n  function Container(_ref) {\n    var element = _ref.element,\n        type = _ref.type,\n        classNames = _ref.classNames,\n        position = _ref.position;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.position = position;\n    this.isOpen = false;\n    this.isFlipped = false;\n    this.isFocussed = false;\n    this.isDisabled = false;\n    this.isLoading = false;\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  var _proto = Container.prototype;\n\n  _proto.addEventListeners = function addEventListeners() {\n    this.element.addEventListener('focus', this._onFocus);\n    this.element.addEventListener('blur', this._onBlur);\n  };\n\n  _proto.removeEventListeners = function removeEventListeners() {\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  }\n  /**\n   * Determine whether container should be flipped based on passed\n   * dropdown position\n   * @param {number} dropdownPos\n   * @returns {boolean}\n   */\n  ;\n\n  _proto.shouldFlip = function shouldFlip(dropdownPos) {\n    if (typeof dropdownPos !== 'number') {\n      return false;\n    } // If flip is enabled and the dropdown bottom position is\n    // greater than the window height flip the dropdown.\n\n\n    var shouldFlip = false;\n\n    if (this.position === 'auto') {\n      shouldFlip = !window.matchMedia(\"(min-height: \" + (dropdownPos + 1) + \"px)\").matches;\n    } else if (this.position === 'top') {\n      shouldFlip = true;\n    }\n\n    return shouldFlip;\n  }\n  /**\n   * @param {string} activeDescendantID\n   */\n  ;\n\n  _proto.setActiveDescendant = function setActiveDescendant(activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  _proto.removeActiveDescendant = function removeActiveDescendant() {\n    this.element.removeAttribute('aria-activedescendant');\n  }\n  /**\n   * @param {number} dropdownPos\n   */\n  ;\n\n  _proto.open = function open(dropdownPos) {\n    this.element.classList.add(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isOpen = true;\n\n    if (this.shouldFlip(dropdownPos)) {\n      this.element.classList.add(this.classNames.flippedState);\n      this.isFlipped = true;\n    }\n  };\n\n  _proto.close = function close() {\n    this.element.classList.remove(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.removeActiveDescendant();\n    this.isOpen = false; // A dropdown flips if it does not have space within the page\n\n    if (this.isFlipped) {\n      this.element.classList.remove(this.classNames.flippedState);\n      this.isFlipped = false;\n    }\n  };\n\n  _proto.focus = function focus() {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  _proto.addFocusState = function addFocusState() {\n    this.element.classList.add(this.classNames.focusState);\n  };\n\n  _proto.removeFocusState = function removeFocusState() {\n    this.element.classList.remove(this.classNames.focusState);\n  };\n\n  _proto.enable = function enable() {\n    this.element.classList.remove(this.classNames.disabledState);\n    this.element.removeAttribute('aria-disabled');\n\n    if (this.type === SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '0');\n    }\n\n    this.isDisabled = false;\n  };\n\n  _proto.disable = function disable() {\n    this.element.classList.add(this.classNames.disabledState);\n    this.element.setAttribute('aria-disabled', 'true');\n\n    if (this.type === SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '-1');\n    }\n\n    this.isDisabled = true;\n  }\n  /**\n   * @param {HTMLElement} element\n   */\n  ;\n\n  _proto.wrap = function wrap(element) {\n    utils_wrap(element, this.element);\n  }\n  /**\n   * @param {Element} element\n   */\n  ;\n\n  _proto.unwrap = function unwrap(element) {\n    // Move passed element outside this element\n    this.element.parentNode.insertBefore(element, this.element); // Remove this element\n\n    this.element.parentNode.removeChild(this.element);\n  };\n\n  _proto.addLoadingState = function addLoadingState() {\n    this.element.classList.add(this.classNames.loadingState);\n    this.element.setAttribute('aria-busy', 'true');\n    this.isLoading = true;\n  };\n\n  _proto.removeLoadingState = function removeLoadingState() {\n    this.element.classList.remove(this.classNames.loadingState);\n    this.element.removeAttribute('aria-busy');\n    this.isLoading = false;\n  };\n\n  _proto._onFocus = function _onFocus() {\n    this.isFocussed = true;\n  };\n\n  _proto._onBlur = function _onBlur() {\n    this.isFocussed = false;\n  };\n\n  return Container;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/components/input.js\nfunction input_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction input_createClass(Constructor, protoProps, staticProps) { if (protoProps) input_defineProperties(Constructor.prototype, protoProps); if (staticProps) input_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n/**\n * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n */\n\nvar input_Input =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {{\n   *  element: HTMLInputElement,\n   *  type: passedElement['type'],\n   *  classNames: ClassNames,\n   *  preventPaste: boolean\n   * }} args\n   */\n  function Input(_ref) {\n    var element = _ref.element,\n        type = _ref.type,\n        classNames = _ref.classNames,\n        preventPaste = _ref.preventPaste;\n    this.element = element;\n    this.type = type;\n    this.classNames = classNames;\n    this.preventPaste = preventPaste;\n    this.isFocussed = this.element === document.activeElement;\n    this.isDisabled = element.disabled;\n    this._onPaste = this._onPaste.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n  /**\n   * @param {string} placeholder\n   */\n\n\n  var _proto = Input.prototype;\n\n  _proto.addEventListeners = function addEventListeners() {\n    this.element.addEventListener('paste', this._onPaste);\n    this.element.addEventListener('input', this._onInput, {\n      passive: true\n    });\n    this.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n  };\n\n  _proto.removeEventListeners = function removeEventListeners() {\n    this.element.removeEventListener('input', this._onInput, {\n      passive: true\n    });\n    this.element.removeEventListener('paste', this._onPaste);\n    this.element.removeEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.element.removeEventListener('blur', this._onBlur, {\n      passive: true\n    });\n  };\n\n  _proto.enable = function enable() {\n    this.element.removeAttribute('disabled');\n    this.isDisabled = false;\n  };\n\n  _proto.disable = function disable() {\n    this.element.setAttribute('disabled', '');\n    this.isDisabled = true;\n  };\n\n  _proto.focus = function focus() {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  _proto.blur = function blur() {\n    if (this.isFocussed) {\n      this.element.blur();\n    }\n  }\n  /**\n   * Set value of input to blank\n   * @param {boolean} setWidth\n   * @returns {this}\n   */\n  ;\n\n  _proto.clear = function clear(setWidth) {\n    if (setWidth === void 0) {\n      setWidth = true;\n    }\n\n    if (this.element.value) {\n      this.element.value = '';\n    }\n\n    if (setWidth) {\n      this.setWidth();\n    }\n\n    return this;\n  }\n  /**\n   * Set the correct input width based on placeholder\n   * value or input value\n   */\n  ;\n\n  _proto.setWidth = function setWidth() {\n    // Resize input to contents or placeholder\n    var _this$element = this.element,\n        style = _this$element.style,\n        value = _this$element.value,\n        placeholder = _this$element.placeholder;\n    style.minWidth = placeholder.length + 1 + \"ch\";\n    style.width = value.length + 1 + \"ch\";\n  }\n  /**\n   * @param {string} activeDescendantID\n   */\n  ;\n\n  _proto.setActiveDescendant = function setActiveDescendant(activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  _proto.removeActiveDescendant = function removeActiveDescendant() {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  _proto._onInput = function _onInput() {\n    if (this.type !== SELECT_ONE_TYPE) {\n      this.setWidth();\n    }\n  }\n  /**\n   * @param {Event} event\n   */\n  ;\n\n  _proto._onPaste = function _onPaste(event) {\n    if (this.preventPaste) {\n      event.preventDefault();\n    }\n  };\n\n  _proto._onFocus = function _onFocus() {\n    this.isFocussed = true;\n  };\n\n  _proto._onBlur = function _onBlur() {\n    this.isFocussed = false;\n  };\n\n  input_createClass(Input, [{\n    key: \"placeholder\",\n    set: function set(placeholder) {\n      this.element.placeholder = placeholder;\n    }\n    /**\n     * @returns {string}\n     */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return sanitise(this.element.value);\n    }\n    /**\n     * @param {string} value\n     */\n    ,\n    set: function set(value) {\n      this.element.value = value;\n    }\n  }]);\n\n  return Input;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/components/list.js\n\n/**\n * @typedef {import('../../../types/index').Choices.Choice} Choice\n */\n\nvar list_List =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {{ element: HTMLElement }} args\n   */\n  function List(_ref) {\n    var element = _ref.element;\n    this.element = element;\n    this.scrollPos = this.element.scrollTop;\n    this.height = this.element.offsetHeight;\n  }\n\n  var _proto = List.prototype;\n\n  _proto.clear = function clear() {\n    this.element.innerHTML = '';\n  }\n  /**\n   * @param {Element | DocumentFragment} node\n   */\n  ;\n\n  _proto.append = function append(node) {\n    this.element.appendChild(node);\n  }\n  /**\n   * @param {string} selector\n   * @returns {Element | null}\n   */\n  ;\n\n  _proto.getChild = function getChild(selector) {\n    return this.element.querySelector(selector);\n  }\n  /**\n   * @returns {boolean}\n   */\n  ;\n\n  _proto.hasChildren = function hasChildren() {\n    return this.element.hasChildNodes();\n  };\n\n  _proto.scrollToTop = function scrollToTop() {\n    this.element.scrollTop = 0;\n  }\n  /**\n   * @param {Element} element\n   * @param {1 | -1} direction\n   */\n  ;\n\n  _proto.scrollToChildElement = function scrollToChildElement(element, direction) {\n    var _this = this;\n\n    if (!element) {\n      return;\n    }\n\n    var listHeight = this.element.offsetHeight; // Scroll position of dropdown\n\n    var listScrollPosition = this.element.scrollTop + listHeight;\n    var elementHeight = element.offsetHeight; // Distance from bottom of element to top of parent\n\n    var elementPos = element.offsetTop + elementHeight; // Difference between the element and scroll position\n\n    var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n    requestAnimationFrame(function () {\n      _this._animateScroll(destination, direction);\n    });\n  }\n  /**\n   * @param {number} scrollPos\n   * @param {number} strength\n   * @param {number} destination\n   */\n  ;\n\n  _proto._scrollDown = function _scrollDown(scrollPos, strength, destination) {\n    var easing = (destination - scrollPos) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos + distance;\n  }\n  /**\n   * @param {number} scrollPos\n   * @param {number} strength\n   * @param {number} destination\n   */\n  ;\n\n  _proto._scrollUp = function _scrollUp(scrollPos, strength, destination) {\n    var easing = (scrollPos - destination) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos - distance;\n  }\n  /**\n   * @param {*} destination\n   * @param {*} direction\n   */\n  ;\n\n  _proto._animateScroll = function _animateScroll(destination, direction) {\n    var _this2 = this;\n\n    var strength = SCROLLING_SPEED;\n    var choiceListScrollTop = this.element.scrollTop;\n    var continueAnimation = false;\n\n    if (direction > 0) {\n      this._scrollDown(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop < destination) {\n        continueAnimation = true;\n      }\n    } else {\n      this._scrollUp(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop > destination) {\n        continueAnimation = true;\n      }\n    }\n\n    if (continueAnimation) {\n      requestAnimationFrame(function () {\n        _this2._animateScroll(destination, direction);\n      });\n    }\n  };\n\n  return List;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/components/wrapped-element.js\nfunction wrapped_element_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction wrapped_element_createClass(Constructor, protoProps, staticProps) { if (protoProps) wrapped_element_defineProperties(Constructor.prototype, protoProps); if (staticProps) wrapped_element_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n/**\n * @typedef {import('../../../types/index').Choices.passedElement} passedElement\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n */\n\nvar wrapped_element_WrappedElement =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {{\n   *  element: HTMLInputElement | HTMLSelectElement,\n   *  classNames: ClassNames,\n   * }} args\n   */\n  function WrappedElement(_ref) {\n    var element = _ref.element,\n        classNames = _ref.classNames;\n    this.element = element;\n    this.classNames = classNames;\n\n    if (!(element instanceof HTMLInputElement) && !(element instanceof HTMLSelectElement)) {\n      throw new TypeError('Invalid element passed');\n    }\n\n    this.isDisabled = false;\n  }\n\n  var _proto = WrappedElement.prototype;\n\n  _proto.conceal = function conceal() {\n    // Hide passed input\n    this.element.classList.add(this.classNames.input);\n    this.element.hidden = true; // Remove element from tab index\n\n    this.element.tabIndex = -1; // Backup original styles if any\n\n    var origStyle = this.element.getAttribute('style');\n\n    if (origStyle) {\n      this.element.setAttribute('data-choice-orig-style', origStyle);\n    }\n\n    this.element.setAttribute('data-choice', 'active');\n  };\n\n  _proto.reveal = function reveal() {\n    // Reinstate passed element\n    this.element.classList.remove(this.classNames.input);\n    this.element.hidden = false;\n    this.element.removeAttribute('tabindex'); // Recover original styles if any\n\n    var origStyle = this.element.getAttribute('data-choice-orig-style');\n\n    if (origStyle) {\n      this.element.removeAttribute('data-choice-orig-style');\n      this.element.setAttribute('style', origStyle);\n    } else {\n      this.element.removeAttribute('style');\n    }\n\n    this.element.removeAttribute('data-choice'); // Re-assign values - this is weird, I know\n    // @todo Figure out why we need to do this\n\n    this.element.value = this.element.value; // eslint-disable-line no-self-assign\n  };\n\n  _proto.enable = function enable() {\n    this.element.removeAttribute('disabled');\n    this.element.disabled = false;\n    this.isDisabled = false;\n  };\n\n  _proto.disable = function disable() {\n    this.element.setAttribute('disabled', '');\n    this.element.disabled = true;\n    this.isDisabled = true;\n  };\n\n  _proto.triggerEvent = function triggerEvent(eventType, data) {\n    dispatchEvent(this.element, eventType, data);\n  };\n\n  wrapped_element_createClass(WrappedElement, [{\n    key: \"isActive\",\n    get: function get() {\n      return this.element.dataset.choice === 'active';\n    }\n  }, {\n    key: \"dir\",\n    get: function get() {\n      return this.element.dir;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.element.value;\n    },\n    set: function set(value) {\n      // you must define setter here otherwise it will be readonly property\n      this.element.value = value;\n    }\n  }]);\n\n  return WrappedElement;\n}();\n\n\n// CONCATENATED MODULE: ./src/scripts/components/wrapped-input.js\nfunction wrapped_input_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction wrapped_input_createClass(Constructor, protoProps, staticProps) { if (protoProps) wrapped_input_defineProperties(Constructor.prototype, protoProps); if (staticProps) wrapped_input_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n\n/**\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n * @typedef {import('../../../types/index').Choices.Item} Item\n */\n\nvar WrappedInput =\n/*#__PURE__*/\nfunction (_WrappedElement) {\n  _inheritsLoose(WrappedInput, _WrappedElement);\n\n  /**\n   * @param {{\n   *  element: HTMLInputElement,\n   *  classNames: ClassNames,\n   *  delimiter: string\n   * }} args\n   */\n  function WrappedInput(_ref) {\n    var _this;\n\n    var element = _ref.element,\n        classNames = _ref.classNames,\n        delimiter = _ref.delimiter;\n    _this = _WrappedElement.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n    _this.delimiter = delimiter;\n    return _this;\n  }\n  /**\n   * @returns {string}\n   */\n\n\n  wrapped_input_createClass(WrappedInput, [{\n    key: \"value\",\n    get: function get() {\n      return this.element.value;\n    }\n    /**\n     * @param {Item[]} items\n     */\n    ,\n    set: function set(items) {\n      var itemValues = items.map(function (_ref2) {\n        var value = _ref2.value;\n        return value;\n      });\n      var joinedValues = itemValues.join(this.delimiter);\n      this.element.setAttribute('value', joinedValues);\n      this.element.value = joinedValues;\n    }\n  }]);\n\n  return WrappedInput;\n}(wrapped_element_WrappedElement);\n\n\n// CONCATENATED MODULE: ./src/scripts/components/wrapped-select.js\nfunction wrapped_select_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction wrapped_select_createClass(Constructor, protoProps, staticProps) { if (protoProps) wrapped_select_defineProperties(Constructor.prototype, protoProps); if (staticProps) wrapped_select_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction wrapped_select_inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n\n/**\n * @typedef {import('../../../types/index').Choices.ClassNames} ClassNames\n * @typedef {import('../../../types/index').Choices.Item} Item\n * @typedef {import('../../../types/index').Choices.Choice} Choice\n */\n\nvar WrappedSelect =\n/*#__PURE__*/\nfunction (_WrappedElement) {\n  wrapped_select_inheritsLoose(WrappedSelect, _WrappedElement);\n\n  /**\n   * @param {{\n   *  element: HTMLSelectElement,\n   *  classNames: ClassNames,\n   *  delimiter: string\n   *  template: function\n   * }} args\n   */\n  function WrappedSelect(_ref) {\n    var _this;\n\n    var element = _ref.element,\n        classNames = _ref.classNames,\n        template = _ref.template;\n    _this = _WrappedElement.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n    _this.template = template;\n    return _this;\n  }\n\n  var _proto = WrappedSelect.prototype;\n\n  /**\n   * @param {DocumentFragment} fragment\n   */\n  _proto.appendDocFragment = function appendDocFragment(fragment) {\n    this.element.innerHTML = '';\n    this.element.appendChild(fragment);\n  };\n\n  wrapped_select_createClass(WrappedSelect, [{\n    key: \"placeholderOption\",\n    get: function get() {\n      return this.element.querySelector('option[value=\"\"]') || // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n      this.element.querySelector('option[placeholder]');\n    }\n    /**\n     * @returns {Element[]}\n     */\n\n  }, {\n    key: \"optionGroups\",\n    get: function get() {\n      return Array.from(this.element.getElementsByTagName('OPTGROUP'));\n    }\n    /**\n     * @returns {Item[] | Choice[]}\n     */\n\n  }, {\n    key: \"options\",\n    get: function get() {\n      return Array.from(this.element.options);\n    }\n    /**\n     * @param {Item[] | Choice[]} options\n     */\n    ,\n    set: function set(options) {\n      var _this2 = this;\n\n      var fragment = document.createDocumentFragment();\n\n      var addOptionToFragment = function addOptionToFragment(data) {\n        // Create a standard select option\n        var option = _this2.template(data); // Append it to fragment\n\n\n        fragment.appendChild(option);\n      }; // Add each list item to list\n\n\n      options.forEach(function (optionData) {\n        return addOptionToFragment(optionData);\n      });\n      this.appendDocFragment(fragment);\n    }\n  }]);\n\n  return WrappedSelect;\n}(wrapped_element_WrappedElement);\n\n\n// CONCATENATED MODULE: ./src/scripts/components/index.js\n\n\n\n\n\n\n\n// CONCATENATED MODULE: ./src/scripts/templates.js\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option\n * @typedef {import('../../types/index').Choices.Templates} Templates\n * @typedef {import('../../types/index').Choices.ClassNames} ClassNames\n * @typedef {import('../../types/index').Choices.Options} Options\n * @typedef {import('../../types/index').Choices.Item} Item\n * @typedef {import('../../types/index').Choices.Choice} Choice\n * @typedef {import('../../types/index').Choices.Group} Group\n */\nvar TEMPLATES =\n/** @type {Templates} */\n{\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {\"ltr\" | \"rtl\" | \"auto\"} dir\n   * @param {boolean} isSelectElement\n   * @param {boolean} isSelectOneElement\n   * @param {boolean} searchEnabled\n   * @param {\"select-one\" | \"select-multiple\" | \"text\"} passedElementType\n   */\n  containerOuter: function containerOuter(_ref, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType) {\n    var _containerOuter = _ref.containerOuter;\n    var div = Object.assign(document.createElement('div'), {\n      className: _containerOuter\n    });\n    div.dataset.type = passedElementType;\n\n    if (dir) {\n      div.dir = dir;\n    }\n\n    if (isSelectOneElement) {\n      div.tabIndex = 0;\n    }\n\n    if (isSelectElement) {\n      div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n\n      if (searchEnabled) {\n        div.setAttribute('aria-autocomplete', 'list');\n      }\n    }\n\n    div.setAttribute('aria-haspopup', 'true');\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   */\n  containerInner: function containerInner(_ref2) {\n    var _containerInner = _ref2.containerInner;\n    return Object.assign(document.createElement('div'), {\n      className: _containerInner\n    });\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {boolean} isSelectOneElement\n   */\n  itemList: function itemList(_ref3, isSelectOneElement) {\n    var list = _ref3.list,\n        listSingle = _ref3.listSingle,\n        listItems = _ref3.listItems;\n    return Object.assign(document.createElement('div'), {\n      className: list + \" \" + (isSelectOneElement ? listSingle : listItems)\n    });\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {string} value\n   */\n  placeholder: function placeholder(_ref4, value) {\n    var _placeholder = _ref4.placeholder;\n    return Object.assign(document.createElement('div'), {\n      className: _placeholder,\n      innerHTML: value\n    });\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {Item} item\n   * @param {boolean} removeItemButton\n   */\n  item: function item(_ref5, _ref6, removeItemButton) {\n    var _item = _ref5.item,\n        button = _ref5.button,\n        highlightedState = _ref5.highlightedState,\n        itemSelectable = _ref5.itemSelectable,\n        placeholder = _ref5.placeholder;\n    var id = _ref6.id,\n        value = _ref6.value,\n        label = _ref6.label,\n        customProperties = _ref6.customProperties,\n        active = _ref6.active,\n        disabled = _ref6.disabled,\n        highlighted = _ref6.highlighted,\n        isPlaceholder = _ref6.placeholder;\n    var div = Object.assign(document.createElement('div'), {\n      className: _item,\n      innerHTML: label\n    });\n    Object.assign(div.dataset, {\n      item: '',\n      id: id,\n      value: value,\n      customProperties: customProperties\n    });\n\n    if (active) {\n      div.setAttribute('aria-selected', 'true');\n    }\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.classList.add(highlighted ? highlightedState : itemSelectable);\n\n    if (removeItemButton) {\n      if (disabled) {\n        div.classList.remove(itemSelectable);\n      }\n\n      div.dataset.deletable = '';\n      /** @todo This MUST be localizable, not hardcoded! */\n\n      var REMOVE_ITEM_TEXT = 'Remove item';\n      var removeButton = Object.assign(document.createElement('button'), {\n        type: 'button',\n        className: button,\n        innerHTML: REMOVE_ITEM_TEXT\n      });\n      removeButton.setAttribute('aria-label', REMOVE_ITEM_TEXT + \": '\" + value + \"'\");\n      removeButton.dataset.button = '';\n      div.appendChild(removeButton);\n    }\n\n    return div;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {boolean} isSelectOneElement\n   */\n  choiceList: function choiceList(_ref7, isSelectOneElement) {\n    var list = _ref7.list;\n    var div = Object.assign(document.createElement('div'), {\n      className: list\n    });\n\n    if (!isSelectOneElement) {\n      div.setAttribute('aria-multiselectable', 'true');\n    }\n\n    div.setAttribute('role', 'listbox');\n    return div;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {Group} group\n   */\n  choiceGroup: function choiceGroup(_ref8, _ref9) {\n    var group = _ref8.group,\n        groupHeading = _ref8.groupHeading,\n        itemDisabled = _ref8.itemDisabled;\n    var id = _ref9.id,\n        value = _ref9.value,\n        disabled = _ref9.disabled;\n    var div = Object.assign(document.createElement('div'), {\n      className: group + \" \" + (disabled ? itemDisabled : '')\n    });\n    div.setAttribute('role', 'group');\n    Object.assign(div.dataset, {\n      group: '',\n      id: id,\n      value: value\n    });\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    div.appendChild(Object.assign(document.createElement('div'), {\n      className: groupHeading,\n      innerHTML: value\n    }));\n    return div;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {Choice} choice\n   * @param {Options['itemSelectText']} selectText\n   */\n  choice: function choice(_ref10, _ref11, selectText) {\n    var item = _ref10.item,\n        itemChoice = _ref10.itemChoice,\n        itemSelectable = _ref10.itemSelectable,\n        selectedState = _ref10.selectedState,\n        itemDisabled = _ref10.itemDisabled,\n        placeholder = _ref10.placeholder;\n    var id = _ref11.id,\n        value = _ref11.value,\n        label = _ref11.label,\n        groupId = _ref11.groupId,\n        elementId = _ref11.elementId,\n        isDisabled = _ref11.disabled,\n        isSelected = _ref11.selected,\n        isPlaceholder = _ref11.placeholder;\n    var div = Object.assign(document.createElement('div'), {\n      id: elementId,\n      innerHTML: label,\n      className: item + \" \" + itemChoice\n    });\n\n    if (isSelected) {\n      div.classList.add(selectedState);\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.setAttribute('role', groupId > 0 ? 'treeitem' : 'option');\n    Object.assign(div.dataset, {\n      choice: '',\n      id: id,\n      value: value,\n      selectText: selectText\n    });\n\n    if (isDisabled) {\n      div.classList.add(itemDisabled);\n      div.dataset.choiceDisabled = '';\n      div.setAttribute('aria-disabled', 'true');\n    } else {\n      div.classList.add(itemSelectable);\n      div.dataset.choiceSelectable = '';\n    }\n\n    return div;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   * @param {string} placeholderValue\n   */\n  input: function input(_ref12, placeholderValue) {\n    var _input = _ref12.input,\n        inputCloned = _ref12.inputCloned;\n    var inp = Object.assign(document.createElement('input'), {\n      type: 'text',\n      className: _input + \" \" + inputCloned,\n      autocomplete: 'off',\n      autocapitalize: 'off',\n      spellcheck: false\n    });\n    inp.setAttribute('role', 'textbox');\n    inp.setAttribute('aria-autocomplete', 'list');\n    inp.setAttribute('aria-label', placeholderValue);\n    return inp;\n  },\n\n  /**\n   * @param {Partial<ClassNames>} classNames\n   */\n  dropdown: function dropdown(_ref13) {\n    var list = _ref13.list,\n        listDropdown = _ref13.listDropdown;\n    var div = document.createElement('div');\n    div.classList.add(list, listDropdown);\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n\n  /**\n   *\n   * @param {Partial<ClassNames>} classNames\n   * @param {string} innerHTML\n   * @param {\"no-choices\" | \"no-results\" | \"\"} type\n   */\n  notice: function notice(_ref14, innerHTML, type) {\n    var item = _ref14.item,\n        itemChoice = _ref14.itemChoice,\n        noResults = _ref14.noResults,\n        noChoices = _ref14.noChoices;\n\n    if (type === void 0) {\n      type = '';\n    }\n\n    var classes = [item, itemChoice];\n\n    if (type === 'no-choices') {\n      classes.push(noChoices);\n    } else if (type === 'no-results') {\n      classes.push(noResults);\n    }\n\n    return Object.assign(document.createElement('div'), {\n      innerHTML: innerHTML,\n      className: classes.join(' ')\n    });\n  },\n\n  /**\n   * @param {Item} option\n   */\n  option: function option(_ref15) {\n    var label = _ref15.label,\n        value = _ref15.value,\n        customProperties = _ref15.customProperties,\n        active = _ref15.active,\n        disabled = _ref15.disabled;\n    var opt = new Option(label, value, false, active);\n\n    if (customProperties) {\n      opt.dataset.customProperties = customProperties;\n    }\n\n    opt.disabled = disabled;\n    return opt;\n  }\n};\n/* harmony default export */ var templates = (TEMPLATES);\n// CONCATENATED MODULE: ./src/scripts/actions/choices.js\n/**\n * @typedef {import('redux').Action} Action\n * @typedef {import('../../../types/index').Choices.Choice} Choice\n */\n\n/**\n * @argument {Choice} choice\n * @returns {Action & Choice}\n */\n\nvar choices_addChoice = function addChoice(_ref) {\n  var value = _ref.value,\n      label = _ref.label,\n      id = _ref.id,\n      groupId = _ref.groupId,\n      disabled = _ref.disabled,\n      elementId = _ref.elementId,\n      customProperties = _ref.customProperties,\n      placeholder = _ref.placeholder,\n      keyCode = _ref.keyCode;\n  return {\n    type: ACTION_TYPES.ADD_CHOICE,\n    value: value,\n    label: label,\n    id: id,\n    groupId: groupId,\n    disabled: disabled,\n    elementId: elementId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n/**\n * @argument {Choice[]} results\n * @returns {Action & { results: Choice[] }}\n */\n\nvar choices_filterChoices = function filterChoices(results) {\n  return {\n    type: ACTION_TYPES.FILTER_CHOICES,\n    results: results\n  };\n};\n/**\n * @argument {boolean} active\n * @returns {Action & { active: boolean }}\n */\n\nvar choices_activateChoices = function activateChoices(active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  return {\n    type: ACTION_TYPES.ACTIVATE_CHOICES,\n    active: active\n  };\n};\n/**\n * @returns {Action}\n */\n\nvar choices_clearChoices = function clearChoices() {\n  return {\n    type: ACTION_TYPES.CLEAR_CHOICES\n  };\n};\n// CONCATENATED MODULE: ./src/scripts/actions/items.js\n\n/**\n * @typedef {import('redux').Action} Action\n * @typedef {import('../../../types/index').Choices.Item} Item\n */\n\n/**\n * @param {Item} item\n * @returns {Action & Item}\n */\n\nvar items_addItem = function addItem(_ref) {\n  var value = _ref.value,\n      label = _ref.label,\n      id = _ref.id,\n      choiceId = _ref.choiceId,\n      groupId = _ref.groupId,\n      customProperties = _ref.customProperties,\n      placeholder = _ref.placeholder,\n      keyCode = _ref.keyCode;\n  return {\n    type: ACTION_TYPES.ADD_ITEM,\n    value: value,\n    label: label,\n    id: id,\n    choiceId: choiceId,\n    groupId: groupId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n/**\n * @param {string} id\n * @param {string} choiceId\n * @returns {Action & { id: string, choiceId: string }}\n */\n\nvar items_removeItem = function removeItem(id, choiceId) {\n  return {\n    type: ACTION_TYPES.REMOVE_ITEM,\n    id: id,\n    choiceId: choiceId\n  };\n};\n/**\n * @param {string} id\n * @param {boolean} highlighted\n * @returns {Action & { id: string, highlighted: boolean }}\n */\n\nvar items_highlightItem = function highlightItem(id, highlighted) {\n  return {\n    type: ACTION_TYPES.HIGHLIGHT_ITEM,\n    id: id,\n    highlighted: highlighted\n  };\n};\n// CONCATENATED MODULE: ./src/scripts/actions/groups.js\n\n/**\n * @typedef {import('redux').Action} Action\n * @typedef {import('../../../types/index').Choices.Group} Group\n */\n\n/**\n * @param {Group} group\n * @returns {Action & Group}\n */\n\nvar groups_addGroup = function addGroup(_ref) {\n  var value = _ref.value,\n      id = _ref.id,\n      active = _ref.active,\n      disabled = _ref.disabled;\n  return {\n    type: ACTION_TYPES.ADD_GROUP,\n    value: value,\n    id: id,\n    active: active,\n    disabled: disabled\n  };\n};\n// CONCATENATED MODULE: ./src/scripts/actions/misc.js\n/**\n * @typedef {import('redux').Action} Action\n */\n\n/**\n * @returns {Action}\n */\nvar clearAll = function clearAll() {\n  return {\n    type: 'CLEAR_ALL'\n  };\n};\n/**\n * @param {any} state\n * @returns {Action & { state: object }}\n */\n\nvar resetTo = function resetTo(state) {\n  return {\n    type: 'RESET_TO',\n    state: state\n  };\n};\n/**\n * @param {boolean} isLoading\n * @returns {Action & { isLoading: boolean }}\n */\n\nvar setIsLoading = function setIsLoading(isLoading) {\n  return {\n    type: 'SET_IS_LOADING',\n    isLoading: isLoading\n  };\n};\n// CONCATENATED MODULE: ./src/scripts/choices.js\nfunction choices_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction choices_createClass(Constructor, protoProps, staticProps) { if (protoProps) choices_defineProperties(Constructor.prototype, protoProps); if (staticProps) choices_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\n\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style;\n/**\n * @typedef {import('../../types/index').Choices.Choice} Choice\n * @typedef {import('../../types/index').Choices.Item} Item\n * @typedef {import('../../types/index').Choices.Group} Group\n * @typedef {import('../../types/index').Choices.Options} Options\n */\n\n/** @type {Partial<Options>} */\n\nvar USER_DEFAULTS = {};\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\n\nvar choices_Choices =\n/*#__PURE__*/\nfunction () {\n  choices_createClass(Choices, null, [{\n    key: \"defaults\",\n    get: function get() {\n      return Object.preventExtensions({\n        get options() {\n          return USER_DEFAULTS;\n        },\n\n        get templates() {\n          return TEMPLATES;\n        }\n\n      });\n    }\n    /**\n     * @param {string | HTMLInputElement | HTMLSelectElement} element\n     * @param {Partial<Options>} userConfig\n     */\n\n  }]);\n\n  function Choices(element, userConfig) {\n    var _this = this;\n\n    if (element === void 0) {\n      element = '[data-choice]';\n    }\n\n    if (userConfig === void 0) {\n      userConfig = {};\n    }\n\n    /** @type {Partial<Options>} */\n    this.config = cjs_default.a.all([DEFAULT_CONFIG, Choices.defaults.options, userConfig], // When merging array configs, replace with a copy of the userConfig array,\n    // instead of concatenating with the default array\n    {\n      arrayMerge: function arrayMerge(_, sourceArray) {\n        return [].concat(sourceArray);\n      }\n    }); // Restore the shadowRoot if provided. deeperge converts it into an empty object.\n\n    if (userConfig.shadowRoot) {\n      this.config.shadowRoot = userConfig.shadowRoot;\n    }\n\n    var invalidConfigOptions = diff(this.config, DEFAULT_CONFIG);\n\n    if (invalidConfigOptions.length) {\n      console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n    }\n\n    var passedElement = typeof element === 'string' ? document.querySelector(element) : element;\n\n    if (!(passedElement instanceof HTMLInputElement || passedElement instanceof HTMLSelectElement)) {\n      throw TypeError('Expected one of the following types text|select-one|select-multiple');\n    }\n\n    this._isTextElement = passedElement.type === TEXT_TYPE;\n    this._isSelectOneElement = passedElement.type === SELECT_ONE_TYPE;\n    this._isSelectMultipleElement = passedElement.type === SELECT_MULTIPLE_TYPE;\n    this._isSelectElement = this._isSelectOneElement || this._isSelectMultipleElement;\n    this.config.searchEnabled = this._isSelectMultipleElement || this.config.searchEnabled;\n\n    if (!['auto', 'always'].includes(this.config.renderSelectedChoices)) {\n      this.config.renderSelectedChoices = 'auto';\n    }\n\n    if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n      var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n      this.config.addItemFilter = re.test.bind(re);\n    }\n\n    if (this._isTextElement) {\n      this.passedElement = new WrappedInput({\n        element: passedElement,\n        classNames: this.config.classNames,\n        delimiter: this.config.delimiter\n      });\n    } else {\n      this.passedElement = new WrappedSelect({\n        element: passedElement,\n        classNames: this.config.classNames,\n        template: function template(data) {\n          return _this._templates.option(data);\n        }\n      });\n    }\n\n    this.initialised = false;\n    this._store = new store_Store();\n    this._initialState = {};\n    this._currentState = {};\n    this._prevState = {};\n    this._currentValue = '';\n    this._canSearch = this.config.searchEnabled;\n    this._isScrollingOnIe = false;\n    this._highlightPosition = 0;\n    this._wasTap = true;\n    this._placeholderValue = this._generatePlaceholderValue();\n    this._baseId = generateId(this.passedElement.element, 'choices-');\n    /**\n     * setting direction in cases where it's explicitly set on passedElement\n     * or when calculated direction is different from the document\n     * @type {HTMLElement['dir']}\n     */\n\n    this._direction = this.passedElement.dir;\n\n    if (!this._direction) {\n      var _window$getComputedSt = window.getComputedStyle(this.passedElement.element),\n          elementDirection = _window$getComputedSt.direction;\n\n      var _window$getComputedSt2 = window.getComputedStyle(document.documentElement),\n          documentDirection = _window$getComputedSt2.direction;\n\n      if (elementDirection !== documentDirection) {\n        this._direction = elementDirection;\n      }\n    }\n\n    this._idNames = {\n      itemChoice: 'item-choice'\n    }; // Assign preset groups from passed element\n\n    this._presetGroups = this.passedElement.optionGroups; // Assign preset options from passed element\n\n    this._presetOptions = this.passedElement.options; // Assign preset choices from passed object\n\n    this._presetChoices = this.config.choices; // Assign preset items from passed object first\n\n    this._presetItems = this.config.items; // Add any values passed from attribute\n\n    if (this.passedElement.value) {\n      this._presetItems = this._presetItems.concat(this.passedElement.value.split(this.config.delimiter));\n    } // Create array of choices from option elements\n\n\n    if (this.passedElement.options) {\n      this.passedElement.options.forEach(function (o) {\n        _this._presetChoices.push({\n          value: o.value,\n          label: o.innerHTML,\n          selected: o.selected,\n          disabled: o.disabled || o.parentNode.disabled,\n          placeholder: o.value === '' || o.hasAttribute('placeholder'),\n          customProperties: o.getAttribute('data-custom-properties')\n        });\n      });\n    }\n\n    this._render = this._render.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._onKeyUp = this._onKeyUp.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this._onTouchMove = this._onTouchMove.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this._onMouseDown = this._onMouseDown.bind(this);\n    this._onMouseOver = this._onMouseOver.bind(this);\n    this._onFormReset = this._onFormReset.bind(this);\n    this._onAKey = this._onAKey.bind(this);\n    this._onEnterKey = this._onEnterKey.bind(this);\n    this._onEscapeKey = this._onEscapeKey.bind(this);\n    this._onDirectionKey = this._onDirectionKey.bind(this);\n    this._onDeleteKey = this._onDeleteKey.bind(this); // If element has already been initialised with Choices, fail silently\n\n    if (this.passedElement.isActive) {\n      if (!this.config.silent) {\n        console.warn('Trying to initialise Choices on element already initialised');\n      }\n\n      this.initialised = true;\n      return;\n    } // Let's go\n\n\n    this.init();\n  }\n\n  var _proto = Choices.prototype;\n\n  _proto.init = function init() {\n    if (this.initialised) {\n      return;\n    }\n\n    this._createTemplates();\n\n    this._createElements();\n\n    this._createStructure(); // Set initial state (We need to clone the state because some reducers\n    // modify the inner objects properties in the state) 🤢\n\n\n    this._initialState = cloneObject(this._store.state);\n\n    this._store.subscribe(this._render);\n\n    this._render();\n\n    this._addEventListeners();\n\n    var shouldDisable = !this.config.addItems || this.passedElement.element.hasAttribute('disabled');\n\n    if (shouldDisable) {\n      this.disable();\n    }\n\n    this.initialised = true;\n    var callbackOnInit = this.config.callbackOnInit; // Run callback if it is a function\n\n    if (callbackOnInit && typeof callbackOnInit === 'function') {\n      callbackOnInit.call(this);\n    }\n  };\n\n  _proto.destroy = function destroy() {\n    if (!this.initialised) {\n      return;\n    }\n\n    this._removeEventListeners();\n\n    this.passedElement.reveal();\n    this.containerOuter.unwrap(this.passedElement.element);\n    this.clearStore();\n\n    if (this._isSelectElement) {\n      this.passedElement.options = this._presetOptions;\n    }\n\n    this._templates = null;\n    this.initialised = false;\n  };\n\n  _proto.enable = function enable() {\n    if (this.passedElement.isDisabled) {\n      this.passedElement.enable();\n    }\n\n    if (this.containerOuter.isDisabled) {\n      this._addEventListeners();\n\n      this.input.enable();\n      this.containerOuter.enable();\n    }\n\n    return this;\n  };\n\n  _proto.disable = function disable() {\n    if (!this.passedElement.isDisabled) {\n      this.passedElement.disable();\n    }\n\n    if (!this.containerOuter.isDisabled) {\n      this._removeEventListeners();\n\n      this.input.disable();\n      this.containerOuter.disable();\n    }\n\n    return this;\n  };\n\n  _proto.highlightItem = function highlightItem(item, runEvent) {\n    if (runEvent === void 0) {\n      runEvent = true;\n    }\n\n    if (!item) {\n      return this;\n    }\n\n    var id = item.id,\n        _item$groupId = item.groupId,\n        groupId = _item$groupId === void 0 ? -1 : _item$groupId,\n        _item$value = item.value,\n        value = _item$value === void 0 ? '' : _item$value,\n        _item$label = item.label,\n        label = _item$label === void 0 ? '' : _item$label;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch(items_highlightItem(id, true));\n\n    if (runEvent) {\n      this.passedElement.triggerEvent(EVENTS.highlightItem, {\n        id: id,\n        value: value,\n        label: label,\n        groupValue: group && group.value ? group.value : null\n      });\n    }\n\n    return this;\n  };\n\n  _proto.unhighlightItem = function unhighlightItem(item) {\n    if (!item) {\n      return this;\n    }\n\n    var id = item.id,\n        _item$groupId2 = item.groupId,\n        groupId = _item$groupId2 === void 0 ? -1 : _item$groupId2,\n        _item$value2 = item.value,\n        value = _item$value2 === void 0 ? '' : _item$value2,\n        _item$label2 = item.label,\n        label = _item$label2 === void 0 ? '' : _item$label2;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch(items_highlightItem(id, false));\n\n    this.passedElement.triggerEvent(EVENTS.highlightItem, {\n      id: id,\n      value: value,\n      label: label,\n      groupValue: group && group.value ? group.value : null\n    });\n    return this;\n  };\n\n  _proto.highlightAll = function highlightAll() {\n    var _this2 = this;\n\n    this._store.items.forEach(function (item) {\n      return _this2.highlightItem(item);\n    });\n\n    return this;\n  };\n\n  _proto.unhighlightAll = function unhighlightAll() {\n    var _this3 = this;\n\n    this._store.items.forEach(function (item) {\n      return _this3.unhighlightItem(item);\n    });\n\n    return this;\n  };\n\n  _proto.removeActiveItemsByValue = function removeActiveItemsByValue(value) {\n    var _this4 = this;\n\n    this._store.activeItems.filter(function (item) {\n      return item.value === value;\n    }).forEach(function (item) {\n      return _this4._removeItem(item);\n    });\n\n    return this;\n  };\n\n  _proto.removeActiveItems = function removeActiveItems(excludedId) {\n    var _this5 = this;\n\n    this._store.activeItems.filter(function (_ref) {\n      var id = _ref.id;\n      return id !== excludedId;\n    }).forEach(function (item) {\n      return _this5._removeItem(item);\n    });\n\n    return this;\n  };\n\n  _proto.removeHighlightedItems = function removeHighlightedItems(runEvent) {\n    var _this6 = this;\n\n    if (runEvent === void 0) {\n      runEvent = false;\n    }\n\n    this._store.highlightedActiveItems.forEach(function (item) {\n      _this6._removeItem(item); // If this action was performed by the user\n      // trigger the event\n\n\n      if (runEvent) {\n        _this6._triggerChange(item.value);\n      }\n    });\n\n    return this;\n  };\n\n  _proto.showDropdown = function showDropdown(preventInputFocus) {\n    var _this7 = this;\n\n    if (this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this7.dropdown.show();\n\n      _this7.containerOuter.open(_this7.dropdown.distanceFromTopWindow);\n\n      if (!preventInputFocus && _this7._canSearch) {\n        _this7.input.focus();\n      }\n\n      _this7.passedElement.triggerEvent(EVENTS.showDropdown, {});\n    });\n    return this;\n  };\n\n  _proto.hideDropdown = function hideDropdown(preventInputBlur) {\n    var _this8 = this;\n\n    if (!this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this8.dropdown.hide();\n\n      _this8.containerOuter.close();\n\n      if (!preventInputBlur && _this8._canSearch) {\n        _this8.input.removeActiveDescendant();\n\n        _this8.input.blur();\n      }\n\n      _this8.passedElement.triggerEvent(EVENTS.hideDropdown, {});\n    });\n    return this;\n  };\n\n  _proto.getValue = function getValue(valueOnly) {\n    if (valueOnly === void 0) {\n      valueOnly = false;\n    }\n\n    var values = this._store.activeItems.reduce(function (selectedItems, item) {\n      var itemValue = valueOnly ? item.value : item;\n      selectedItems.push(itemValue);\n      return selectedItems;\n    }, []);\n\n    return this._isSelectOneElement ? values[0] : values;\n  }\n  /**\n   * @param {string[] | import('../../types/index').Choices.Item[]} items\n   */\n  ;\n\n  _proto.setValue = function setValue(items) {\n    var _this9 = this;\n\n    if (!this.initialised) {\n      return this;\n    }\n\n    items.forEach(function (value) {\n      return _this9._setChoiceOrItem(value);\n    });\n    return this;\n  };\n\n  _proto.setChoiceByValue = function setChoiceByValue(value) {\n    var _this10 = this;\n\n    if (!this.initialised || this._isTextElement) {\n      return this;\n    } // If only one value has been passed, convert to array\n\n\n    var choiceValue = Array.isArray(value) ? value : [value]; // Loop through each value and\n\n    choiceValue.forEach(function (val) {\n      return _this10._findAndSelectChoiceByValue(val);\n    });\n    return this;\n  }\n  /**\n   * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n   * a value field name and a label field name.\n   * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n   * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n   * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n   *\n   * **Input types affected:** select-one, select-multiple\n   *\n   * @template {Choice[] | ((instance: Choices) => object[] | Promise<object[]>)} T\n   * @param {T} [choicesArrayOrFetcher]\n   * @param {string} [value = 'value'] - name of `value` field\n   * @param {string} [label = 'label'] - name of 'label' field\n   * @param {boolean} [replaceChoices = false] - whether to replace of add choices\n   * @returns {this | Promise<this>}\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([\n   *   {value: 'One', label: 'Label One', disabled: true},\n   *   {value: 'Two', label: 'Label Two', selected: true},\n   *   {value: 'Three', label: 'Label Three'},\n   * ], 'value', 'label', false);\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices(async () => {\n   *   try {\n   *      const items = await fetch('/items');\n   *      return items.json()\n   *   } catch(err) {\n   *      console.error(err)\n   *   }\n   * });\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([{\n   *   label: 'Group one',\n   *   id: 1,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child One', label: 'Child One', selected: true},\n   *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n   *     {value: 'Child Three', label: 'Child Three'},\n   *   ]\n   * },\n   * {\n   *   label: 'Group two',\n   *   id: 2,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child Four', label: 'Child Four', disabled: true},\n   *     {value: 'Child Five', label: 'Child Five'},\n   *     {value: 'Child Six', label: 'Child Six', customProperties: {\n   *       description: 'Custom description about child six',\n   *       random: 'Another random custom property'\n   *     }},\n   *   ]\n   * }], 'value', 'label', false);\n   * ```\n   */\n  ;\n\n  _proto.setChoices = function setChoices(choicesArrayOrFetcher, value, label, replaceChoices) {\n    var _this11 = this;\n\n    if (choicesArrayOrFetcher === void 0) {\n      choicesArrayOrFetcher = [];\n    }\n\n    if (value === void 0) {\n      value = 'value';\n    }\n\n    if (label === void 0) {\n      label = 'label';\n    }\n\n    if (replaceChoices === void 0) {\n      replaceChoices = false;\n    }\n\n    if (!this.initialised) {\n      throw new ReferenceError(\"setChoices was called on a non-initialized instance of Choices\");\n    }\n\n    if (!this._isSelectElement) {\n      throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n    }\n\n    if (typeof value !== 'string' || !value) {\n      throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n    } // Clear choices if needed\n\n\n    if (replaceChoices) {\n      this.clearChoices();\n    }\n\n    if (typeof choicesArrayOrFetcher === 'function') {\n      // it's a choices fetcher function\n      var fetcher = choicesArrayOrFetcher(this);\n\n      if (typeof Promise === 'function' && fetcher instanceof Promise) {\n        // that's a promise\n        // eslint-disable-next-line compat/compat\n        return new Promise(function (resolve) {\n          return requestAnimationFrame(resolve);\n        }).then(function () {\n          return _this11._handleLoadingState(true);\n        }).then(function () {\n          return fetcher;\n        }).then(function (data) {\n          return _this11.setChoices(data, value, label, replaceChoices);\n        }).catch(function (err) {\n          if (!_this11.config.silent) {\n            console.error(err);\n          }\n        }).then(function () {\n          return _this11._handleLoadingState(false);\n        }).then(function () {\n          return _this11;\n        });\n      } // function returned something else than promise, let's check if it's an array of choices\n\n\n      if (!Array.isArray(fetcher)) {\n        throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \" + typeof fetcher);\n      } // recursion with results, it's sync and choices were cleared already\n\n\n      return this.setChoices(fetcher, value, label, false);\n    }\n\n    if (!Array.isArray(choicesArrayOrFetcher)) {\n      throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n    }\n\n    this.containerOuter.removeLoadingState();\n\n    this._startLoading();\n\n    choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n      if (groupOrChoice.choices) {\n        _this11._addGroup({\n          id: parseInt(groupOrChoice.id, 10) || null,\n          group: groupOrChoice,\n          valueKey: value,\n          labelKey: label\n        });\n      } else {\n        _this11._addChoice({\n          value: groupOrChoice[value],\n          label: groupOrChoice[label],\n          isSelected: groupOrChoice.selected,\n          isDisabled: groupOrChoice.disabled,\n          customProperties: groupOrChoice.customProperties,\n          placeholder: groupOrChoice.placeholder\n        });\n      }\n    });\n\n    this._stopLoading();\n\n    return this;\n  };\n\n  _proto.clearChoices = function clearChoices() {\n    this._store.dispatch(choices_clearChoices());\n\n    return this;\n  };\n\n  _proto.clearStore = function clearStore() {\n    this._store.dispatch(clearAll());\n\n    return this;\n  };\n\n  _proto.clearInput = function clearInput() {\n    var shouldSetInputWidth = !this._isSelectOneElement;\n    this.input.clear(shouldSetInputWidth);\n\n    if (!this._isTextElement && this._canSearch) {\n      this._isSearching = false;\n\n      this._store.dispatch(choices_activateChoices(true));\n    }\n\n    return this;\n  };\n\n  _proto._render = function _render() {\n    if (this._store.isLoading()) {\n      return;\n    }\n\n    this._currentState = this._store.state;\n    var stateChanged = this._currentState.choices !== this._prevState.choices || this._currentState.groups !== this._prevState.groups || this._currentState.items !== this._prevState.items;\n    var shouldRenderChoices = this._isSelectElement;\n    var shouldRenderItems = this._currentState.items !== this._prevState.items;\n\n    if (!stateChanged) {\n      return;\n    }\n\n    if (shouldRenderChoices) {\n      this._renderChoices();\n    }\n\n    if (shouldRenderItems) {\n      this._renderItems();\n    }\n\n    this._prevState = this._currentState;\n  };\n\n  _proto._renderChoices = function _renderChoices() {\n    var _this12 = this;\n\n    var _this$_store = this._store,\n        activeGroups = _this$_store.activeGroups,\n        activeChoices = _this$_store.activeChoices;\n    var choiceListFragment = document.createDocumentFragment();\n    this.choiceList.clear();\n\n    if (this.config.resetScrollPosition) {\n      requestAnimationFrame(function () {\n        return _this12.choiceList.scrollToTop();\n      });\n    } // If we have grouped options\n\n\n    if (activeGroups.length >= 1 && !this._isSearching) {\n      // If we have a placeholder choice along with groups\n      var activePlaceholders = activeChoices.filter(function (activeChoice) {\n        return activeChoice.placeholder === true && activeChoice.groupId === -1;\n      });\n\n      if (activePlaceholders.length >= 1) {\n        choiceListFragment = this._createChoicesFragment(activePlaceholders, choiceListFragment);\n      }\n\n      choiceListFragment = this._createGroupsFragment(activeGroups, activeChoices, choiceListFragment);\n    } else if (activeChoices.length >= 1) {\n      choiceListFragment = this._createChoicesFragment(activeChoices, choiceListFragment);\n    } // If we have choices to show\n\n\n    if (choiceListFragment.childNodes && choiceListFragment.childNodes.length > 0) {\n      var activeItems = this._store.activeItems;\n\n      var canAddItem = this._canAddItem(activeItems, this.input.value); // ...and we can select them\n\n\n      if (canAddItem.response) {\n        // ...append them and highlight the first choice\n        this.choiceList.append(choiceListFragment);\n\n        this._highlightChoice();\n      } else {\n        // ...otherwise show a notice\n        this.choiceList.append(this._getTemplate('notice', canAddItem.notice));\n      }\n    } else {\n      // Otherwise show a notice\n      var dropdownItem;\n      var notice;\n\n      if (this._isSearching) {\n        notice = typeof this.config.noResultsText === 'function' ? this.config.noResultsText() : this.config.noResultsText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-results');\n      } else {\n        notice = typeof this.config.noChoicesText === 'function' ? this.config.noChoicesText() : this.config.noChoicesText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-choices');\n      }\n\n      this.choiceList.append(dropdownItem);\n    }\n  };\n\n  _proto._renderItems = function _renderItems() {\n    var activeItems = this._store.activeItems || [];\n    this.itemList.clear(); // Create a fragment to store our list items\n    // (so we don't have to update the DOM for each item)\n\n    var itemListFragment = this._createItemsFragment(activeItems); // If we have items to add, append them\n\n\n    if (itemListFragment.childNodes) {\n      this.itemList.append(itemListFragment);\n    }\n  };\n\n  _proto._createGroupsFragment = function _createGroupsFragment(groups, choices, fragment) {\n    var _this13 = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    var getGroupChoices = function getGroupChoices(group) {\n      return choices.filter(function (choice) {\n        if (_this13._isSelectOneElement) {\n          return choice.groupId === group.id;\n        }\n\n        return choice.groupId === group.id && (_this13.config.renderSelectedChoices === 'always' || !choice.selected);\n      });\n    }; // If sorting is enabled, filter groups\n\n\n    if (this.config.shouldSort) {\n      groups.sort(this.config.sorter);\n    }\n\n    groups.forEach(function (group) {\n      var groupChoices = getGroupChoices(group);\n\n      if (groupChoices.length >= 1) {\n        var dropdownGroup = _this13._getTemplate('choiceGroup', group);\n\n        fragment.appendChild(dropdownGroup);\n\n        _this13._createChoicesFragment(groupChoices, fragment, true);\n      }\n    });\n    return fragment;\n  };\n\n  _proto._createChoicesFragment = function _createChoicesFragment(choices, fragment, withinGroup) {\n    var _this14 = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    if (withinGroup === void 0) {\n      withinGroup = false;\n    }\n\n    // Create a fragment to store our list items (so we don't have to update the DOM for each item)\n    var _this$config = this.config,\n        renderSelectedChoices = _this$config.renderSelectedChoices,\n        searchResultLimit = _this$config.searchResultLimit,\n        renderChoiceLimit = _this$config.renderChoiceLimit;\n    var filter = this._isSearching ? sortByScore : this.config.sorter;\n\n    var appendChoice = function appendChoice(choice) {\n      var shouldRender = renderSelectedChoices === 'auto' ? _this14._isSelectOneElement || !choice.selected : true;\n\n      if (shouldRender) {\n        var dropdownItem = _this14._getTemplate('choice', choice, _this14.config.itemSelectText);\n\n        fragment.appendChild(dropdownItem);\n      }\n    };\n\n    var rendererableChoices = choices;\n\n    if (renderSelectedChoices === 'auto' && !this._isSelectOneElement) {\n      rendererableChoices = choices.filter(function (choice) {\n        return !choice.selected;\n      });\n    } // Split array into placeholders and \"normal\" choices\n\n\n    var _rendererableChoices$ = rendererableChoices.reduce(function (acc, choice) {\n      if (choice.placeholder) {\n        acc.placeholderChoices.push(choice);\n      } else {\n        acc.normalChoices.push(choice);\n      }\n\n      return acc;\n    }, {\n      placeholderChoices: [],\n      normalChoices: []\n    }),\n        placeholderChoices = _rendererableChoices$.placeholderChoices,\n        normalChoices = _rendererableChoices$.normalChoices; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort || this._isSearching) {\n      normalChoices.sort(filter);\n    }\n\n    var choiceLimit = rendererableChoices.length; // Prepend placeholeder\n\n    var sortedChoices = this._isSelectOneElement ? [].concat(placeholderChoices, normalChoices) : normalChoices;\n\n    if (this._isSearching) {\n      choiceLimit = searchResultLimit;\n    } else if (renderChoiceLimit && renderChoiceLimit > 0 && !withinGroup) {\n      choiceLimit = renderChoiceLimit;\n    } // Add each choice to dropdown within range\n\n\n    for (var i = 0; i < choiceLimit; i += 1) {\n      if (sortedChoices[i]) {\n        appendChoice(sortedChoices[i]);\n      }\n    }\n\n    return fragment;\n  };\n\n  _proto._createItemsFragment = function _createItemsFragment(items, fragment) {\n    var _this15 = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    // Create fragment to add elements to\n    var _this$config2 = this.config,\n        shouldSortItems = _this$config2.shouldSortItems,\n        sorter = _this$config2.sorter,\n        removeItemButton = _this$config2.removeItemButton; // If sorting is enabled, filter items\n\n    if (shouldSortItems && !this._isSelectOneElement) {\n      items.sort(sorter);\n    }\n\n    if (this._isTextElement) {\n      // Update the value of the hidden input\n      this.passedElement.value = items;\n    } else {\n      // Update the options of the hidden input\n      this.passedElement.options = items;\n    }\n\n    var addItemToFragment = function addItemToFragment(item) {\n      // Create new list element\n      var listItem = _this15._getTemplate('item', item, removeItemButton); // Append it to list\n\n\n      fragment.appendChild(listItem);\n    }; // Add each list item to list\n\n\n    items.forEach(addItemToFragment);\n    return fragment;\n  };\n\n  _proto._triggerChange = function _triggerChange(value) {\n    if (value === undefined || value === null) {\n      return;\n    }\n\n    this.passedElement.triggerEvent(EVENTS.change, {\n      value: value\n    });\n  };\n\n  _proto._selectPlaceholderChoice = function _selectPlaceholderChoice() {\n    var placeholderChoice = this._store.placeholderChoice;\n\n    if (placeholderChoice) {\n      this._addItem({\n        value: placeholderChoice.value,\n        label: placeholderChoice.label,\n        choiceId: placeholderChoice.id,\n        groupId: placeholderChoice.groupId,\n        placeholder: placeholderChoice.placeholder\n      });\n\n      this._triggerChange(placeholderChoice.value);\n    }\n  };\n\n  _proto._handleButtonAction = function _handleButtonAction(activeItems, element) {\n    if (!activeItems || !element || !this.config.removeItems || !this.config.removeItemButton) {\n      return;\n    }\n\n    var itemId = element.parentNode.getAttribute('data-id');\n    var itemToRemove = activeItems.find(function (item) {\n      return item.id === parseInt(itemId, 10);\n    }); // Remove item associated with button\n\n    this._removeItem(itemToRemove);\n\n    this._triggerChange(itemToRemove.value);\n\n    if (this._isSelectOneElement) {\n      this._selectPlaceholderChoice();\n    }\n  };\n\n  _proto._handleItemAction = function _handleItemAction(activeItems, element, hasShiftKey) {\n    var _this16 = this;\n\n    if (hasShiftKey === void 0) {\n      hasShiftKey = false;\n    }\n\n    if (!activeItems || !element || !this.config.removeItems || this._isSelectOneElement) {\n      return;\n    }\n\n    var passedId = element.getAttribute('data-id'); // We only want to select one item with a click\n    // so we deselect any items that aren't the target\n    // unless shift is being pressed\n\n    activeItems.forEach(function (item) {\n      if (item.id === parseInt(passedId, 10) && !item.highlighted) {\n        _this16.highlightItem(item);\n      } else if (!hasShiftKey && item.highlighted) {\n        _this16.unhighlightItem(item);\n      }\n    }); // Focus input as without focus, a user cannot do anything with a\n    // highlighted item\n\n    this.input.focus();\n  };\n\n  _proto._handleChoiceAction = function _handleChoiceAction(activeItems, element) {\n    if (!activeItems || !element) {\n      return;\n    } // If we are clicking on an option\n\n\n    var id = element.dataset.id;\n\n    var choice = this._store.getChoiceById(id);\n\n    if (!choice) {\n      return;\n    }\n\n    var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : null;\n    var hasActiveDropdown = this.dropdown.isActive; // Update choice keyCode\n\n    choice.keyCode = passedKeyCode;\n    this.passedElement.triggerEvent(EVENTS.choice, {\n      choice: choice\n    });\n\n    if (!choice.selected && !choice.disabled) {\n      var canAddItem = this._canAddItem(activeItems, choice.value);\n\n      if (canAddItem.response) {\n        this._addItem({\n          value: choice.value,\n          label: choice.label,\n          choiceId: choice.id,\n          groupId: choice.groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder,\n          keyCode: choice.keyCode\n        });\n\n        this._triggerChange(choice.value);\n      }\n    }\n\n    this.clearInput(); // We want to close the dropdown if we are dealing with a single select box\n\n    if (hasActiveDropdown && this._isSelectOneElement) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  _proto._handleBackspace = function _handleBackspace(activeItems) {\n    if (!this.config.removeItems || !activeItems) {\n      return;\n    }\n\n    var lastItem = activeItems[activeItems.length - 1];\n    var hasHighlightedItems = activeItems.some(function (item) {\n      return item.highlighted;\n    }); // If editing the last item is allowed and there are not other selected items,\n    // we can edit the item value. Otherwise if we can remove items, remove all selected items\n\n    if (this.config.editItems && !hasHighlightedItems && lastItem) {\n      this.input.value = lastItem.value;\n      this.input.setWidth();\n\n      this._removeItem(lastItem);\n\n      this._triggerChange(lastItem.value);\n    } else {\n      if (!hasHighlightedItems) {\n        // Highlight last item if none already highlighted\n        this.highlightItem(lastItem, false);\n      }\n\n      this.removeHighlightedItems(true);\n    }\n  };\n\n  _proto._startLoading = function _startLoading() {\n    this._store.dispatch(setIsLoading(true));\n  };\n\n  _proto._stopLoading = function _stopLoading() {\n    this._store.dispatch(setIsLoading(false));\n  };\n\n  _proto._handleLoadingState = function _handleLoadingState(setLoading) {\n    if (setLoading === void 0) {\n      setLoading = true;\n    }\n\n    var placeholderItem = this.itemList.getChild(\".\" + this.config.classNames.placeholder);\n\n    if (setLoading) {\n      this.disable();\n      this.containerOuter.addLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (!placeholderItem) {\n          placeholderItem = this._getTemplate('placeholder', this.config.loadingText);\n          this.itemList.append(placeholderItem);\n        } else {\n          placeholderItem.innerHTML = this.config.loadingText;\n        }\n      } else {\n        this.input.placeholder = this.config.loadingText;\n      }\n    } else {\n      this.enable();\n      this.containerOuter.removeLoadingState();\n\n      if (this._isSelectOneElement) {\n        placeholderItem.innerHTML = this._placeholderValue || '';\n      } else {\n        this.input.placeholder = this._placeholderValue || '';\n      }\n    }\n  };\n\n  _proto._handleSearch = function _handleSearch(value) {\n    if (!value || !this.input.isFocussed) {\n      return;\n    }\n\n    var choices = this._store.choices;\n    var _this$config3 = this.config,\n        searchFloor = _this$config3.searchFloor,\n        searchChoices = _this$config3.searchChoices;\n    var hasUnactiveChoices = choices.some(function (option) {\n      return !option.active;\n    }); // Check that we have a value to search and the input was an alphanumeric character\n\n    if (value && value.length >= searchFloor) {\n      var resultCount = searchChoices ? this._searchChoices(value) : 0; // Trigger search event\n\n      this.passedElement.triggerEvent(EVENTS.search, {\n        value: value,\n        resultCount: resultCount\n      });\n    } else if (hasUnactiveChoices) {\n      // Otherwise reset choices to active\n      this._isSearching = false;\n\n      this._store.dispatch(choices_activateChoices(true));\n    }\n  };\n\n  _proto._canAddItem = function _canAddItem(activeItems, value) {\n    var canAddItem = true;\n    var notice = typeof this.config.addItemText === 'function' ? this.config.addItemText(value) : this.config.addItemText;\n\n    if (!this._isSelectOneElement) {\n      var isDuplicateValue = existsInArray(activeItems, value);\n\n      if (this.config.maxItemCount > 0 && this.config.maxItemCount <= activeItems.length) {\n        // If there is a max entry limit and we have reached that limit\n        // don't update\n        canAddItem = false;\n        notice = typeof this.config.maxItemText === 'function' ? this.config.maxItemText(this.config.maxItemCount) : this.config.maxItemText;\n      }\n\n      if (!this.config.duplicateItemsAllowed && isDuplicateValue && canAddItem) {\n        canAddItem = false;\n        notice = typeof this.config.uniqueItemText === 'function' ? this.config.uniqueItemText(value) : this.config.uniqueItemText;\n      }\n\n      if (this._isTextElement && this.config.addItems && canAddItem && typeof this.config.addItemFilter === 'function' && !this.config.addItemFilter(value)) {\n        canAddItem = false;\n        notice = typeof this.config.customAddItemText === 'function' ? this.config.customAddItemText(value) : this.config.customAddItemText;\n      }\n    }\n\n    return {\n      response: canAddItem,\n      notice: notice\n    };\n  };\n\n  _proto._searchChoices = function _searchChoices(value) {\n    var newValue = typeof value === 'string' ? value.trim() : value;\n    var currentValue = typeof this._currentValue === 'string' ? this._currentValue.trim() : this._currentValue;\n\n    if (newValue.length < 1 && newValue === currentValue + \" \") {\n      return 0;\n    } // If new value matches the desired length and is not the same as the current value with a space\n\n\n    var haystack = this._store.searchableChoices;\n    var needle = newValue;\n    var keys = [].concat(this.config.searchFields);\n    var options = Object.assign(this.config.fuseOptions, {\n      keys: keys\n    });\n    var fuse = new fuse_default.a(haystack, options);\n    var results = fuse.search(needle);\n    this._currentValue = newValue;\n    this._highlightPosition = 0;\n    this._isSearching = true;\n\n    this._store.dispatch(choices_filterChoices(results));\n\n    return results.length;\n  };\n\n  _proto._addEventListeners = function _addEventListeners() {\n    var documentElement = this.config.shadowRoot || document.documentElement; // capture events - can cancel event processing or propagation\n\n    documentElement.addEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.addEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.addEventListener('mousedown', this._onMouseDown, true); // passive events - doesn't call `preventDefault` or `stopPropagation`\n\n    documentElement.addEventListener('click', this._onClick, {\n      passive: true\n    });\n    documentElement.addEventListener('touchmove', this._onTouchMove, {\n      passive: true\n    });\n    this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n      passive: true\n    });\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.addEventListener('focus', this._onFocus, {\n        passive: true\n      });\n      this.containerOuter.element.addEventListener('blur', this._onBlur, {\n        passive: true\n      });\n    }\n\n    this.input.element.addEventListener('keyup', this._onKeyUp, {\n      passive: true\n    });\n    this.input.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.input.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n\n    if (this.input.element.form) {\n      this.input.element.form.addEventListener('reset', this._onFormReset, {\n        passive: true\n      });\n    }\n\n    this.input.addEventListeners();\n  };\n\n  _proto._removeEventListeners = function _removeEventListeners() {\n    var documentElement = this.config.shadowRoot || document.documentElement;\n    documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.removeEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.removeEventListener('mousedown', this._onMouseDown, true);\n    documentElement.removeEventListener('click', this._onClick);\n    documentElement.removeEventListener('touchmove', this._onTouchMove);\n    this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.removeEventListener('focus', this._onFocus);\n      this.containerOuter.element.removeEventListener('blur', this._onBlur);\n    }\n\n    this.input.element.removeEventListener('keyup', this._onKeyUp);\n    this.input.element.removeEventListener('focus', this._onFocus);\n    this.input.element.removeEventListener('blur', this._onBlur);\n\n    if (this.input.element.form) {\n      this.input.element.form.removeEventListener('reset', this._onFormReset);\n    }\n\n    this.input.removeEventListeners();\n  }\n  /**\n   * @param {KeyboardEvent} event\n   */\n  ;\n\n  _proto._onKeyDown = function _onKeyDown(event) {\n    var _keyDownActions;\n\n    var target = event.target,\n        keyCode = event.keyCode,\n        ctrlKey = event.ctrlKey,\n        metaKey = event.metaKey;\n    var activeItems = this._store.activeItems;\n    var hasFocusedInput = this.input.isFocussed;\n    var hasActiveDropdown = this.dropdown.isActive;\n    var hasItems = this.itemList.hasChildren();\n    var keyString = String.fromCharCode(keyCode);\n    var BACK_KEY = KEY_CODES.BACK_KEY,\n        DELETE_KEY = KEY_CODES.DELETE_KEY,\n        ENTER_KEY = KEY_CODES.ENTER_KEY,\n        A_KEY = KEY_CODES.A_KEY,\n        ESC_KEY = KEY_CODES.ESC_KEY,\n        UP_KEY = KEY_CODES.UP_KEY,\n        DOWN_KEY = KEY_CODES.DOWN_KEY,\n        PAGE_UP_KEY = KEY_CODES.PAGE_UP_KEY,\n        PAGE_DOWN_KEY = KEY_CODES.PAGE_DOWN_KEY;\n    var hasCtrlDownKeyPressed = ctrlKey || metaKey; // If a user is typing and the dropdown is not active\n\n    if (!this._isTextElement && /[a-zA-Z0-9-_ ]/.test(keyString)) {\n      this.showDropdown();\n    } // Map keys to key actions\n\n\n    var keyDownActions = (_keyDownActions = {}, _keyDownActions[A_KEY] = this._onAKey, _keyDownActions[ENTER_KEY] = this._onEnterKey, _keyDownActions[ESC_KEY] = this._onEscapeKey, _keyDownActions[UP_KEY] = this._onDirectionKey, _keyDownActions[PAGE_UP_KEY] = this._onDirectionKey, _keyDownActions[DOWN_KEY] = this._onDirectionKey, _keyDownActions[PAGE_DOWN_KEY] = this._onDirectionKey, _keyDownActions[DELETE_KEY] = this._onDeleteKey, _keyDownActions[BACK_KEY] = this._onDeleteKey, _keyDownActions); // If keycode has a function, run it\n\n    if (keyDownActions[keyCode]) {\n      keyDownActions[keyCode]({\n        event: event,\n        target: target,\n        keyCode: keyCode,\n        metaKey: metaKey,\n        activeItems: activeItems,\n        hasFocusedInput: hasFocusedInput,\n        hasActiveDropdown: hasActiveDropdown,\n        hasItems: hasItems,\n        hasCtrlDownKeyPressed: hasCtrlDownKeyPressed\n      });\n    }\n  };\n\n  _proto._onKeyUp = function _onKeyUp(_ref2) {\n    var target = _ref2.target,\n        keyCode = _ref2.keyCode;\n    var value = this.input.value;\n    var activeItems = this._store.activeItems;\n\n    var canAddItem = this._canAddItem(activeItems, value);\n\n    var backKey = KEY_CODES.BACK_KEY,\n        deleteKey = KEY_CODES.DELETE_KEY; // We are typing into a text input and have a value, we want to show a dropdown\n    // notice. Otherwise hide the dropdown\n\n    if (this._isTextElement) {\n      var canShowDropdownNotice = canAddItem.notice && value;\n\n      if (canShowDropdownNotice) {\n        var dropdownItem = this._getTemplate('notice', canAddItem.notice);\n\n        this.dropdown.element.innerHTML = dropdownItem.outerHTML;\n        this.showDropdown(true);\n      } else {\n        this.hideDropdown(true);\n      }\n    } else {\n      var userHasRemovedValue = (keyCode === backKey || keyCode === deleteKey) && !target.value;\n      var canReactivateChoices = !this._isTextElement && this._isSearching;\n      var canSearch = this._canSearch && canAddItem.response;\n\n      if (userHasRemovedValue && canReactivateChoices) {\n        this._isSearching = false;\n\n        this._store.dispatch(choices_activateChoices(true));\n      } else if (canSearch) {\n        this._handleSearch(this.input.value);\n      }\n    }\n\n    this._canSearch = this.config.searchEnabled;\n  };\n\n  _proto._onAKey = function _onAKey(_ref3) {\n    var hasItems = _ref3.hasItems,\n        hasCtrlDownKeyPressed = _ref3.hasCtrlDownKeyPressed;\n\n    // If CTRL + A or CMD + A have been pressed and there are items to select\n    if (hasCtrlDownKeyPressed && hasItems) {\n      this._canSearch = false;\n      var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n\n      if (shouldHightlightAll) {\n        this.highlightAll();\n      }\n    }\n  };\n\n  _proto._onEnterKey = function _onEnterKey(_ref4) {\n    var event = _ref4.event,\n        target = _ref4.target,\n        activeItems = _ref4.activeItems,\n        hasActiveDropdown = _ref4.hasActiveDropdown;\n    var enterKey = KEY_CODES.ENTER_KEY;\n    var targetWasButton = target.hasAttribute('data-button');\n\n    if (this._isTextElement && target.value) {\n      var value = this.input.value;\n\n      var canAddItem = this._canAddItem(activeItems, value);\n\n      if (canAddItem.response) {\n        this.hideDropdown(true);\n\n        this._addItem({\n          value: value\n        });\n\n        this._triggerChange(value);\n\n        this.clearInput();\n      }\n    }\n\n    if (targetWasButton) {\n      this._handleButtonAction(activeItems, target);\n\n      event.preventDefault();\n    }\n\n    if (hasActiveDropdown) {\n      var highlightedChoice = this.dropdown.getChild(\".\" + this.config.classNames.highlightedState);\n\n      if (highlightedChoice) {\n        // add enter keyCode value\n        if (activeItems[0]) {\n          activeItems[0].keyCode = enterKey; // eslint-disable-line no-param-reassign\n        }\n\n        this._handleChoiceAction(activeItems, highlightedChoice);\n      }\n\n      event.preventDefault();\n    } else if (this._isSelectOneElement) {\n      this.showDropdown();\n      event.preventDefault();\n    }\n  };\n\n  _proto._onEscapeKey = function _onEscapeKey(_ref5) {\n    var hasActiveDropdown = _ref5.hasActiveDropdown;\n\n    if (hasActiveDropdown) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  _proto._onDirectionKey = function _onDirectionKey(_ref6) {\n    var event = _ref6.event,\n        hasActiveDropdown = _ref6.hasActiveDropdown,\n        keyCode = _ref6.keyCode,\n        metaKey = _ref6.metaKey;\n    var downKey = KEY_CODES.DOWN_KEY,\n        pageUpKey = KEY_CODES.PAGE_UP_KEY,\n        pageDownKey = KEY_CODES.PAGE_DOWN_KEY; // If up or down key is pressed, traverse through options\n\n    if (hasActiveDropdown || this._isSelectOneElement) {\n      this.showDropdown();\n      this._canSearch = false;\n      var directionInt = keyCode === downKey || keyCode === pageDownKey ? 1 : -1;\n      var skipKey = metaKey || keyCode === pageDownKey || keyCode === pageUpKey;\n      var selectableChoiceIdentifier = '[data-choice-selectable]';\n      var nextEl;\n\n      if (skipKey) {\n        if (directionInt > 0) {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier + \":last-of-type\");\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      } else {\n        var currentEl = this.dropdown.element.querySelector(\".\" + this.config.classNames.highlightedState);\n\n        if (currentEl) {\n          nextEl = getAdjacentEl(currentEl, selectableChoiceIdentifier, directionInt);\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      }\n\n      if (nextEl) {\n        // We prevent default to stop the cursor moving\n        // when pressing the arrow\n        if (!isScrolledIntoView(nextEl, this.choiceList.element, directionInt)) {\n          this.choiceList.scrollToChildElement(nextEl, directionInt);\n        }\n\n        this._highlightChoice(nextEl);\n      } // Prevent default to maintain cursor position whilst\n      // traversing dropdown options\n\n\n      event.preventDefault();\n    }\n  };\n\n  _proto._onDeleteKey = function _onDeleteKey(_ref7) {\n    var event = _ref7.event,\n        target = _ref7.target,\n        hasFocusedInput = _ref7.hasFocusedInput,\n        activeItems = _ref7.activeItems;\n\n    // If backspace or delete key is pressed and the input has no value\n    if (hasFocusedInput && !target.value && !this._isSelectOneElement) {\n      this._handleBackspace(activeItems);\n\n      event.preventDefault();\n    }\n  };\n\n  _proto._onTouchMove = function _onTouchMove() {\n    if (this._wasTap) {\n      this._wasTap = false;\n    }\n  };\n\n  _proto._onTouchEnd = function _onTouchEnd(event) {\n    var _ref8 = event || event.touches[0],\n        target = _ref8.target;\n\n    var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n\n    if (touchWasWithinContainer) {\n      var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n\n      if (containerWasExactTarget) {\n        if (this._isTextElement) {\n          this.input.focus();\n        } else if (this._isSelectMultipleElement) {\n          this.showDropdown();\n        }\n      } // Prevents focus event firing\n\n\n      event.stopPropagation();\n    }\n\n    this._wasTap = true;\n  }\n  /**\n   * Handles mousedown event in capture mode for containetOuter.element\n   * @param {MouseEvent} event\n   */\n  ;\n\n  _proto._onMouseDown = function _onMouseDown(event) {\n    var target = event.target;\n\n    if (!(target instanceof HTMLElement)) {\n      return;\n    } // If we have our mouse down on the scrollbar and are on IE11...\n\n\n    if (IS_IE11 && this.choiceList.element.contains(target)) {\n      // check if click was on a scrollbar area\n      var firstChoice =\n      /** @type {HTMLElement} */\n      this.choiceList.element.firstElementChild;\n      var isOnScrollbar = this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n      this._isScrollingOnIe = isOnScrollbar;\n    }\n\n    if (target === this.input.element) {\n      return;\n    }\n\n    var item = target.closest('[data-button],[data-item],[data-choice]');\n\n    if (item instanceof HTMLElement) {\n      var hasShiftKey = event.shiftKey;\n      var activeItems = this._store.activeItems;\n      var dataset = item.dataset;\n\n      if ('button' in dataset) {\n        this._handleButtonAction(activeItems, item);\n      } else if ('item' in dataset) {\n        this._handleItemAction(activeItems, item, hasShiftKey);\n      } else if ('choice' in dataset) {\n        this._handleChoiceAction(activeItems, item);\n      }\n    }\n\n    event.preventDefault();\n  }\n  /**\n   * Handles mouseover event over this.dropdown\n   * @param {MouseEvent} event\n   */\n  ;\n\n  _proto._onMouseOver = function _onMouseOver(_ref9) {\n    var target = _ref9.target;\n\n    if (target instanceof HTMLElement && 'choice' in target.dataset) {\n      this._highlightChoice(target);\n    }\n  };\n\n  _proto._onClick = function _onClick(_ref10) {\n    var target = _ref10.target;\n    var clickWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (clickWasWithinContainer) {\n      if (!this.dropdown.isActive && !this.containerOuter.isDisabled) {\n        if (this._isTextElement) {\n          if (document.activeElement !== this.input.element) {\n            this.input.focus();\n          }\n        } else {\n          this.showDropdown();\n          this.containerOuter.focus();\n        }\n      } else if (this._isSelectOneElement && target !== this.input.element && !this.dropdown.element.contains(target)) {\n        this.hideDropdown();\n      }\n    } else {\n      var hasHighlightedItems = this._store.highlightedActiveItems.length > 0;\n\n      if (hasHighlightedItems) {\n        this.unhighlightAll();\n      }\n\n      this.containerOuter.removeFocusState();\n      this.hideDropdown(true);\n    }\n  };\n\n  _proto._onFocus = function _onFocus(_ref11) {\n    var _this17 = this,\n        _focusActions;\n\n    var target = _ref11.target;\n    var focusWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (!focusWasWithinContainer) {\n      return;\n    }\n\n    var focusActions = (_focusActions = {}, _focusActions[TEXT_TYPE] = function () {\n      if (target === _this17.input.element) {\n        _this17.containerOuter.addFocusState();\n      }\n    }, _focusActions[SELECT_ONE_TYPE] = function () {\n      _this17.containerOuter.addFocusState();\n\n      if (target === _this17.input.element) {\n        _this17.showDropdown(true);\n      }\n    }, _focusActions[SELECT_MULTIPLE_TYPE] = function () {\n      if (target === _this17.input.element) {\n        _this17.showDropdown(true); // If element is a select box, the focused element is the container and the dropdown\n        // isn't already open, focus and show dropdown\n\n\n        _this17.containerOuter.addFocusState();\n      }\n    }, _focusActions);\n    focusActions[this.passedElement.element.type]();\n  };\n\n  _proto._onBlur = function _onBlur(_ref12) {\n    var _this18 = this;\n\n    var target = _ref12.target;\n    var blurWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (blurWasWithinContainer && !this._isScrollingOnIe) {\n      var _blurActions;\n\n      var activeItems = this._store.activeItems;\n      var hasHighlightedItems = activeItems.some(function (item) {\n        return item.highlighted;\n      });\n      var blurActions = (_blurActions = {}, _blurActions[TEXT_TYPE] = function () {\n        if (target === _this18.input.element) {\n          _this18.containerOuter.removeFocusState();\n\n          if (hasHighlightedItems) {\n            _this18.unhighlightAll();\n          }\n\n          _this18.hideDropdown(true);\n        }\n      }, _blurActions[SELECT_ONE_TYPE] = function () {\n        _this18.containerOuter.removeFocusState();\n\n        if (target === _this18.input.element || target === _this18.containerOuter.element && !_this18._canSearch) {\n          _this18.hideDropdown(true);\n        }\n      }, _blurActions[SELECT_MULTIPLE_TYPE] = function () {\n        if (target === _this18.input.element) {\n          _this18.containerOuter.removeFocusState();\n\n          _this18.hideDropdown(true);\n\n          if (hasHighlightedItems) {\n            _this18.unhighlightAll();\n          }\n        }\n      }, _blurActions);\n      blurActions[this.passedElement.element.type]();\n    } else {\n      // On IE11, clicking the scollbar blurs our input and thus\n      // closes the dropdown. To stop this, we refocus our input\n      // if we know we are on IE *and* are scrolling.\n      this._isScrollingOnIe = false;\n      this.input.element.focus();\n    }\n  };\n\n  _proto._onFormReset = function _onFormReset() {\n    this._store.dispatch(resetTo(this._initialState));\n  };\n\n  _proto._highlightChoice = function _highlightChoice(el) {\n    var _this19 = this;\n\n    if (el === void 0) {\n      el = null;\n    }\n\n    var choices = Array.from(this.dropdown.element.querySelectorAll('[data-choice-selectable]'));\n\n    if (!choices.length) {\n      return;\n    }\n\n    var passedEl = el;\n    var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(\".\" + this.config.classNames.highlightedState)); // Remove any highlighted choices\n\n    highlightedChoices.forEach(function (choice) {\n      choice.classList.remove(_this19.config.classNames.highlightedState);\n      choice.setAttribute('aria-selected', 'false');\n    });\n\n    if (passedEl) {\n      this._highlightPosition = choices.indexOf(passedEl);\n    } else {\n      // Highlight choice based on last known highlight location\n      if (choices.length > this._highlightPosition) {\n        // If we have an option to highlight\n        passedEl = choices[this._highlightPosition];\n      } else {\n        // Otherwise highlight the option before\n        passedEl = choices[choices.length - 1];\n      }\n\n      if (!passedEl) {\n        passedEl = choices[0];\n      }\n    }\n\n    passedEl.classList.add(this.config.classNames.highlightedState);\n    passedEl.setAttribute('aria-selected', 'true');\n    this.passedElement.triggerEvent(EVENTS.highlightChoice, {\n      el: passedEl\n    });\n\n    if (this.dropdown.isActive) {\n      // IE11 ignores aria-label and blocks virtual keyboard\n      // if aria-activedescendant is set without a dropdown\n      this.input.setActiveDescendant(passedEl.id);\n      this.containerOuter.setActiveDescendant(passedEl.id);\n    }\n  };\n\n  _proto._addItem = function _addItem(_ref13) {\n    var value = _ref13.value,\n        _ref13$label = _ref13.label,\n        label = _ref13$label === void 0 ? null : _ref13$label,\n        _ref13$choiceId = _ref13.choiceId,\n        choiceId = _ref13$choiceId === void 0 ? -1 : _ref13$choiceId,\n        _ref13$groupId = _ref13.groupId,\n        groupId = _ref13$groupId === void 0 ? -1 : _ref13$groupId,\n        _ref13$customProperti = _ref13.customProperties,\n        customProperties = _ref13$customProperti === void 0 ? null : _ref13$customProperti,\n        _ref13$placeholder = _ref13.placeholder,\n        placeholder = _ref13$placeholder === void 0 ? false : _ref13$placeholder,\n        _ref13$keyCode = _ref13.keyCode,\n        keyCode = _ref13$keyCode === void 0 ? null : _ref13$keyCode;\n    var passedValue = typeof value === 'string' ? value.trim() : value;\n    var passedKeyCode = keyCode;\n    var passedCustomProperties = customProperties;\n    var items = this._store.items;\n    var passedLabel = label || passedValue;\n    var passedOptionId = choiceId || -1;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n    var id = items ? items.length + 1 : 1; // If a prepended value has been passed, prepend it\n\n    if (this.config.prependValue) {\n      passedValue = this.config.prependValue + passedValue.toString();\n    } // If an appended value has been passed, append it\n\n\n    if (this.config.appendValue) {\n      passedValue += this.config.appendValue.toString();\n    }\n\n    this._store.dispatch(items_addItem({\n      value: passedValue,\n      label: passedLabel,\n      id: id,\n      choiceId: passedOptionId,\n      groupId: groupId,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: passedKeyCode\n    }));\n\n    if (this._isSelectOneElement) {\n      this.removeActiveItems(id);\n    } // Trigger change event\n\n\n    this.passedElement.triggerEvent(EVENTS.addItem, {\n      id: id,\n      value: passedValue,\n      label: passedLabel,\n      customProperties: passedCustomProperties,\n      groupValue: group && group.value ? group.value : undefined,\n      keyCode: passedKeyCode\n    });\n    return this;\n  };\n\n  _proto._removeItem = function _removeItem(item) {\n    if (!item || !isType('Object', item)) {\n      return this;\n    }\n\n    var id = item.id,\n        value = item.value,\n        label = item.label,\n        choiceId = item.choiceId,\n        groupId = item.groupId;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch(items_removeItem(id, choiceId));\n\n    if (group && group.value) {\n      this.passedElement.triggerEvent(EVENTS.removeItem, {\n        id: id,\n        value: value,\n        label: label,\n        groupValue: group.value\n      });\n    } else {\n      this.passedElement.triggerEvent(EVENTS.removeItem, {\n        id: id,\n        value: value,\n        label: label\n      });\n    }\n\n    return this;\n  };\n\n  _proto._addChoice = function _addChoice(_ref14) {\n    var value = _ref14.value,\n        _ref14$label = _ref14.label,\n        label = _ref14$label === void 0 ? null : _ref14$label,\n        _ref14$isSelected = _ref14.isSelected,\n        isSelected = _ref14$isSelected === void 0 ? false : _ref14$isSelected,\n        _ref14$isDisabled = _ref14.isDisabled,\n        isDisabled = _ref14$isDisabled === void 0 ? false : _ref14$isDisabled,\n        _ref14$groupId = _ref14.groupId,\n        groupId = _ref14$groupId === void 0 ? -1 : _ref14$groupId,\n        _ref14$customProperti = _ref14.customProperties,\n        customProperties = _ref14$customProperti === void 0 ? null : _ref14$customProperti,\n        _ref14$placeholder = _ref14.placeholder,\n        placeholder = _ref14$placeholder === void 0 ? false : _ref14$placeholder,\n        _ref14$keyCode = _ref14.keyCode,\n        keyCode = _ref14$keyCode === void 0 ? null : _ref14$keyCode;\n\n    if (typeof value === 'undefined' || value === null) {\n      return;\n    } // Generate unique id\n\n\n    var choices = this._store.choices;\n    var choiceLabel = label || value;\n    var choiceId = choices ? choices.length + 1 : 1;\n    var choiceElementId = this._baseId + \"-\" + this._idNames.itemChoice + \"-\" + choiceId;\n\n    this._store.dispatch(choices_addChoice({\n      id: choiceId,\n      groupId: groupId,\n      elementId: choiceElementId,\n      value: value,\n      label: choiceLabel,\n      disabled: isDisabled,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (isSelected) {\n      this._addItem({\n        value: value,\n        label: choiceLabel,\n        choiceId: choiceId,\n        customProperties: customProperties,\n        placeholder: placeholder,\n        keyCode: keyCode\n      });\n    }\n  };\n\n  _proto._addGroup = function _addGroup(_ref15) {\n    var _this20 = this;\n\n    var group = _ref15.group,\n        id = _ref15.id,\n        _ref15$valueKey = _ref15.valueKey,\n        valueKey = _ref15$valueKey === void 0 ? 'value' : _ref15$valueKey,\n        _ref15$labelKey = _ref15.labelKey,\n        labelKey = _ref15$labelKey === void 0 ? 'label' : _ref15$labelKey;\n    var groupChoices = isType('Object', group) ? group.choices : Array.from(group.getElementsByTagName('OPTION'));\n    var groupId = id || Math.floor(new Date().valueOf() * Math.random());\n    var isDisabled = group.disabled ? group.disabled : false;\n\n    if (groupChoices) {\n      this._store.dispatch(groups_addGroup({\n        value: group.label,\n        id: groupId,\n        active: true,\n        disabled: isDisabled\n      }));\n\n      var addGroupChoices = function addGroupChoices(choice) {\n        var isOptDisabled = choice.disabled || choice.parentNode && choice.parentNode.disabled;\n\n        _this20._addChoice({\n          value: choice[valueKey],\n          label: isType('Object', choice) ? choice[labelKey] : choice.innerHTML,\n          isSelected: choice.selected,\n          isDisabled: isOptDisabled,\n          groupId: groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder\n        });\n      };\n\n      groupChoices.forEach(addGroupChoices);\n    } else {\n      this._store.dispatch(groups_addGroup({\n        value: group.label,\n        id: group.id,\n        active: false,\n        disabled: group.disabled\n      }));\n    }\n  };\n\n  _proto._getTemplate = function _getTemplate(template) {\n    var _this$_templates$temp;\n\n    if (!template) {\n      return null;\n    }\n\n    var classNames = this.config.classNames;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return (_this$_templates$temp = this._templates[template]).call.apply(_this$_templates$temp, [this, classNames].concat(args));\n  };\n\n  _proto._createTemplates = function _createTemplates() {\n    var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n    var userTemplates = {};\n\n    if (callbackOnCreateTemplates && typeof callbackOnCreateTemplates === 'function') {\n      userTemplates = callbackOnCreateTemplates.call(this, strToEl);\n    }\n\n    this._templates = cjs_default()(TEMPLATES, userTemplates);\n  };\n\n  _proto._createElements = function _createElements() {\n    this.containerOuter = new container_Container({\n      element: this._getTemplate('containerOuter', this._direction, this._isSelectElement, this._isSelectOneElement, this.config.searchEnabled, this.passedElement.element.type),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.containerInner = new container_Container({\n      element: this._getTemplate('containerInner'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.input = new input_Input({\n      element: this._getTemplate('input', this._placeholderValue),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      preventPaste: !this.config.paste\n    });\n    this.choiceList = new list_List({\n      element: this._getTemplate('choiceList', this._isSelectOneElement)\n    });\n    this.itemList = new list_List({\n      element: this._getTemplate('itemList', this._isSelectOneElement)\n    });\n    this.dropdown = new Dropdown({\n      element: this._getTemplate('dropdown'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type\n    });\n  };\n\n  _proto._createStructure = function _createStructure() {\n    // Hide original element\n    this.passedElement.conceal(); // Wrap input in container preserving DOM ordering\n\n    this.containerInner.wrap(this.passedElement.element); // Wrapper inner container with outer container\n\n    this.containerOuter.wrap(this.containerInner.element);\n\n    if (this._isSelectOneElement) {\n      this.input.placeholder = this.config.searchPlaceholderValue || '';\n    } else if (this._placeholderValue) {\n      this.input.placeholder = this._placeholderValue;\n      this.input.setWidth();\n    }\n\n    this.containerOuter.element.appendChild(this.containerInner.element);\n    this.containerOuter.element.appendChild(this.dropdown.element);\n    this.containerInner.element.appendChild(this.itemList.element);\n\n    if (!this._isTextElement) {\n      this.dropdown.element.appendChild(this.choiceList.element);\n    }\n\n    if (!this._isSelectOneElement) {\n      this.containerInner.element.appendChild(this.input.element);\n    } else if (this.config.searchEnabled) {\n      this.dropdown.element.insertBefore(this.input.element, this.dropdown.element.firstChild);\n    }\n\n    if (this._isSelectElement) {\n      this._highlightPosition = 0;\n      this._isSearching = false;\n\n      this._startLoading();\n\n      if (this._presetGroups.length) {\n        this._addPredefinedGroups(this._presetGroups);\n      } else {\n        this._addPredefinedChoices(this._presetChoices);\n      }\n\n      this._stopLoading();\n    }\n\n    if (this._isTextElement) {\n      this._addPredefinedItems(this._presetItems);\n    }\n  };\n\n  _proto._addPredefinedGroups = function _addPredefinedGroups(groups) {\n    var _this21 = this;\n\n    // If we have a placeholder option\n    var placeholderChoice = this.passedElement.placeholderOption;\n\n    if (placeholderChoice && placeholderChoice.parentNode.tagName === 'SELECT') {\n      this._addChoice({\n        value: placeholderChoice.value,\n        label: placeholderChoice.innerHTML,\n        isSelected: placeholderChoice.selected,\n        isDisabled: placeholderChoice.disabled,\n        placeholder: true\n      });\n    }\n\n    groups.forEach(function (group) {\n      return _this21._addGroup({\n        group: group,\n        id: group.id || null\n      });\n    });\n  };\n\n  _proto._addPredefinedChoices = function _addPredefinedChoices(choices) {\n    var _this22 = this;\n\n    // If sorting is enabled or the user is searching, filter choices\n    if (this.config.shouldSort) {\n      choices.sort(this.config.sorter);\n    }\n\n    var hasSelectedChoice = choices.some(function (choice) {\n      return choice.selected;\n    });\n    var firstEnabledChoiceIndex = choices.findIndex(function (choice) {\n      return choice.disabled === undefined || !choice.disabled;\n    });\n    choices.forEach(function (choice, index) {\n      var value = choice.value,\n          label = choice.label,\n          customProperties = choice.customProperties,\n          placeholder = choice.placeholder;\n\n      if (_this22._isSelectElement) {\n        // If the choice is actually a group\n        if (choice.choices) {\n          _this22._addGroup({\n            group: choice,\n            id: choice.id || null\n          });\n        } else {\n          /**\n           * If there is a selected choice already or the choice is not the first in\n           * the array, add each choice normally.\n           *\n           * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n           */\n          var shouldPreselect = _this22._isSelectOneElement && !hasSelectedChoice && index === firstEnabledChoiceIndex;\n          var isSelected = shouldPreselect ? true : choice.selected;\n          var isDisabled = choice.disabled;\n\n          _this22._addChoice({\n            value: value,\n            label: label,\n            isSelected: isSelected,\n            isDisabled: isDisabled,\n            customProperties: customProperties,\n            placeholder: placeholder\n          });\n        }\n      } else {\n        _this22._addChoice({\n          value: value,\n          label: label,\n          isSelected: choice.selected,\n          isDisabled: choice.disabled,\n          customProperties: customProperties,\n          placeholder: placeholder\n        });\n      }\n    });\n  }\n  /**\n   * @param {Item[]} items\n   */\n  ;\n\n  _proto._addPredefinedItems = function _addPredefinedItems(items) {\n    var _this23 = this;\n\n    items.forEach(function (item) {\n      if (typeof item === 'object' && item.value) {\n        _this23._addItem({\n          value: item.value,\n          label: item.label,\n          choiceId: item.id,\n          customProperties: item.customProperties,\n          placeholder: item.placeholder\n        });\n      }\n\n      if (typeof item === 'string') {\n        _this23._addItem({\n          value: item\n        });\n      }\n    });\n  };\n\n  _proto._setChoiceOrItem = function _setChoiceOrItem(item) {\n    var _this24 = this;\n\n    var itemType = getType(item).toLowerCase();\n    var handleType = {\n      object: function object() {\n        if (!item.value) {\n          return;\n        } // If we are dealing with a select input, we need to create an option first\n        // that is then selected. For text inputs we can just add items normally.\n\n\n        if (!_this24._isTextElement) {\n          _this24._addChoice({\n            value: item.value,\n            label: item.label,\n            isSelected: true,\n            isDisabled: false,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        } else {\n          _this24._addItem({\n            value: item.value,\n            label: item.label,\n            choiceId: item.id,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        }\n      },\n      string: function string() {\n        if (!_this24._isTextElement) {\n          _this24._addChoice({\n            value: item,\n            label: item,\n            isSelected: true,\n            isDisabled: false\n          });\n        } else {\n          _this24._addItem({\n            value: item\n          });\n        }\n      }\n    };\n    handleType[itemType]();\n  };\n\n  _proto._findAndSelectChoiceByValue = function _findAndSelectChoiceByValue(val) {\n    var _this25 = this;\n\n    var choices = this._store.choices; // Check 'value' property exists and the choice isn't already selected\n\n    var foundChoice = choices.find(function (choice) {\n      return _this25.config.valueComparer(choice.value, val);\n    });\n\n    if (foundChoice && !foundChoice.selected) {\n      this._addItem({\n        value: foundChoice.value,\n        label: foundChoice.label,\n        choiceId: foundChoice.id,\n        groupId: foundChoice.groupId,\n        customProperties: foundChoice.customProperties,\n        placeholder: foundChoice.placeholder,\n        keyCode: foundChoice.keyCode\n      });\n    }\n  };\n\n  _proto._generatePlaceholderValue = function _generatePlaceholderValue() {\n    if (this._isSelectElement) {\n      var placeholderOption = this.passedElement.placeholderOption;\n      return placeholderOption ? placeholderOption.text : false;\n    }\n\n    var _this$config4 = this.config,\n        placeholder = _this$config4.placeholder,\n        placeholderValue = _this$config4.placeholderValue;\n    var dataset = this.passedElement.element.dataset;\n\n    if (placeholder) {\n      if (placeholderValue) {\n        return placeholderValue;\n      }\n\n      if (dataset.placeholder) {\n        return dataset.placeholder;\n      }\n    }\n\n    return false;\n  };\n\n  return Choices;\n}();\n\n/* harmony default export */ var scripts_choices = __webpack_exports__[\"default\"] = (choices_Choices);\n\n/***/ })\n/******/ ])[\"default\"];\n});"]},"metadata":{},"sourceType":"script"}