{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteSubmission = exports.saveSubmission = exports.getSubmission = exports.resetSubmission = exports.clearSubmissionError = undefined;\n\nvar _Formio = require('formiojs/Formio');\n\nvar _Formio2 = _interopRequireDefault(_Formio);\n\nvar _constants = require('./constants');\n\nvar types = _interopRequireWildcard(_constants);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar clearSubmissionError = exports.clearSubmissionError = function clearSubmissionError(name) {\n  return {\n    type: types.SUBMISSION_CLEAR_ERROR,\n    name: name\n  };\n};\n\nvar requestSubmission = function requestSubmission(name, id, formId, url) {\n  return {\n    type: types.SUBMISSION_REQUEST,\n    name: name,\n    id: id,\n    formId: formId,\n    url: url\n  };\n};\n\nvar sendSubmission = function sendSubmission(name, data) {\n  return {\n    type: types.SUBMISSION_SAVE,\n    name: name\n  };\n};\n\nvar receiveSubmission = function receiveSubmission(name, submission, url) {\n  return {\n    type: types.SUBMISSION_SUCCESS,\n    name: name,\n    submission: submission,\n    url: url\n  };\n};\n\nvar failSubmission = function failSubmission(name, error) {\n  return {\n    type: types.SUBMISSION_FAILURE,\n    name: name,\n    error: error\n  };\n};\n\nvar resetSubmission = exports.resetSubmission = function resetSubmission(name) {\n  return {\n    type: types.SUBMISSION_RESET,\n    name: name\n  };\n};\n\nvar getSubmission = exports.getSubmission = function getSubmission(name, id, formId) {\n  var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n  return function (dispatch, getState) {\n    // Check to see if the submission is already loaded.\n    if (getState().id === id) {\n      return;\n    }\n\n    var url = _Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission/' + id;\n    var formio = new _Formio2.default(url);\n    dispatch(requestSubmission(name, id, formId, url));\n    formio.loadSubmission().then(function (result) {\n      dispatch(receiveSubmission(name, result));\n      done(null, result);\n    }).catch(function (error) {\n      dispatch(failSubmission(name, error));\n      done(error);\n    });\n  };\n};\n\nvar saveSubmission = exports.saveSubmission = function saveSubmission(name, data, formId) {\n  var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n  return function (dispatch) {\n    dispatch(sendSubmission(name, data));\n    var id = data._id;\n    var formio = new _Formio2.default(_Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission' + (id ? '/' + id : ''));\n    formio.saveSubmission(data).then(function (result) {\n      var url = _Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission/' + result._id;\n\n      dispatch(receiveSubmission(name, result, url));\n      done(null, result);\n    }).catch(function (error) {\n      dispatch(failSubmission(name, error));\n      done(error);\n    });\n  };\n};\n\nvar deleteSubmission = exports.deleteSubmission = function deleteSubmission(name, id, formId) {\n  var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n  return function (dispatch, getState) {\n    var formio = new _Formio2.default(_Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission/' + id);\n    return formio.deleteSubmission().then(function () {\n      dispatch(resetSubmission(name));\n      done(null, true);\n    }).catch(function (error) {\n      dispatch(failSubmission(name, error));\n      done(error);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/ShyamLakhani/Desktop/my-app/node_modules/react-formio/lib/modules/submission/actions.js"],"names":["Object","defineProperty","exports","value","deleteSubmission","saveSubmission","getSubmission","resetSubmission","clearSubmissionError","undefined","_Formio","require","_Formio2","_interopRequireDefault","_constants","types","_interopRequireWildcard","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","default","name","type","SUBMISSION_CLEAR_ERROR","requestSubmission","id","formId","url","SUBMISSION_REQUEST","sendSubmission","data","SUBMISSION_SAVE","receiveSubmission","submission","SUBMISSION_SUCCESS","failSubmission","error","SUBMISSION_FAILURE","SUBMISSION_RESET","done","arguments","length","dispatch","getState","getProjectUrl","formio","loadSubmission","then","result","catch","_id"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteSubmission = exports.saveSubmission = exports.getSubmission = exports.resetSubmission = exports.clearSubmissionError = undefined;\n\nvar _Formio = require('formiojs/Formio');\n\nvar _Formio2 = _interopRequireDefault(_Formio);\n\nvar _constants = require('./constants');\n\nvar types = _interopRequireWildcard(_constants);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar clearSubmissionError = exports.clearSubmissionError = function clearSubmissionError(name) {\n  return {\n    type: types.SUBMISSION_CLEAR_ERROR,\n    name: name\n  };\n};\n\nvar requestSubmission = function requestSubmission(name, id, formId, url) {\n  return {\n    type: types.SUBMISSION_REQUEST,\n    name: name,\n    id: id,\n    formId: formId,\n    url: url\n  };\n};\n\nvar sendSubmission = function sendSubmission(name, data) {\n  return {\n    type: types.SUBMISSION_SAVE,\n    name: name\n  };\n};\n\nvar receiveSubmission = function receiveSubmission(name, submission, url) {\n  return {\n    type: types.SUBMISSION_SUCCESS,\n    name: name,\n    submission: submission,\n    url: url\n  };\n};\n\nvar failSubmission = function failSubmission(name, error) {\n  return {\n    type: types.SUBMISSION_FAILURE,\n    name: name,\n    error: error\n  };\n};\n\nvar resetSubmission = exports.resetSubmission = function resetSubmission(name) {\n  return {\n    type: types.SUBMISSION_RESET,\n    name: name\n  };\n};\n\nvar getSubmission = exports.getSubmission = function getSubmission(name, id, formId) {\n  var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n  return function (dispatch, getState) {\n    // Check to see if the submission is already loaded.\n    if (getState().id === id) {\n      return;\n    }\n\n    var url = _Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission/' + id;\n    var formio = new _Formio2.default(url);\n\n    dispatch(requestSubmission(name, id, formId, url));\n\n    formio.loadSubmission().then(function (result) {\n      dispatch(receiveSubmission(name, result));\n      done(null, result);\n    }).catch(function (error) {\n      dispatch(failSubmission(name, error));\n      done(error);\n    });\n  };\n};\n\nvar saveSubmission = exports.saveSubmission = function saveSubmission(name, data, formId) {\n  var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n  return function (dispatch) {\n    dispatch(sendSubmission(name, data));\n\n    var id = data._id;\n\n    var formio = new _Formio2.default(_Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission' + (id ? '/' + id : ''));\n\n    formio.saveSubmission(data).then(function (result) {\n      var url = _Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission/' + result._id;\n      dispatch(receiveSubmission(name, result, url));\n      done(null, result);\n    }).catch(function (error) {\n      dispatch(failSubmission(name, error));\n      done(error);\n    });\n  };\n};\n\nvar deleteSubmission = exports.deleteSubmission = function deleteSubmission(name, id, formId) {\n  var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n  return function (dispatch, getState) {\n    var formio = new _Formio2.default(_Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission/' + id);\n\n    return formio.deleteSubmission().then(function () {\n      dispatch(resetSubmission(name));\n      done(null, true);\n    }).catch(function (error) {\n      dispatch(failSubmission(name, error));\n      done(error);\n    });\n  };\n};"]},"metadata":{},"sourceType":"script"}