{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nvar _Field2 = _interopRequireDefault(require(\"../_classes/field/Field\"));\n\nvar _Input = _interopRequireDefault(require(\"../_classes/input/Input\"));\n\nvar _utils = require(\"../../utils/utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar ButtonComponent = /*#__PURE__*/function (_Field) {\n  _inherits(ButtonComponent, _Field);\n\n  var _super = _createSuper(ButtonComponent);\n\n  function ButtonComponent(component, options, data) {\n    var _this;\n\n    _classCallCheck(this, ButtonComponent);\n\n    _this = _super.call(this, component, options, data);\n    _this.filesUploading = [];\n    return _this;\n  }\n\n  _createClass(ButtonComponent, [{\n    key: \"defaultSchema\",\n    get: function get() {\n      return ButtonComponent.schema();\n    }\n  }, {\n    key: \"inputInfo\",\n    get: function get() {\n      var info = _get(_getPrototypeOf(ButtonComponent.prototype), \"elementInfo\", this).call(this);\n\n      info.type = 'button';\n      info.attr.type = ['submit', 'saveState'].includes(this.component.action) ? 'submit' : 'button';\n      this.component.theme = this.component.theme || 'default';\n      info.attr.class = \"btn btn-\".concat(this.component.theme);\n\n      if (this.component.size) {\n        info.attr.class += \" btn-\".concat(this.component.size);\n      }\n\n      if (this.component.block) {\n        info.attr.class += ' btn-block';\n      }\n\n      if (this.component.customClass) {\n        info.attr.class += \" \".concat(this.component.customClass);\n      }\n\n      info.content = this.t(this.component.label, {\n        _userInput: true\n      });\n      return info;\n    }\n  }, {\n    key: \"labelInfo\",\n    get: function get() {\n      return {\n        hidden: true\n      };\n    }\n  }, {\n    key: \"loading\",\n    set: function set(loading) {\n      this.setLoading(this.refs.button, loading);\n    }\n  }, {\n    key: \"skipInEmail\",\n    get: function get() {\n      return true;\n    } // No label needed for buttons.\n\n  }, {\n    key: \"createLabel\",\n    value: function createLabel() {}\n  }, {\n    key: \"createInput\",\n    value: function createInput(container) {\n      this.refs.button = _get(_getPrototypeOf(ButtonComponent.prototype), \"createInput\", this).call(this, container);\n      return this.refs.button;\n    }\n  }, {\n    key: \"emptyValue\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      return this.dataValue;\n    }\n  }, {\n    key: \"clicked\",\n    get: function get() {\n      return this.dataValue;\n    }\n  }, {\n    key: \"defaultValue\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"className\",\n    get: function get() {\n      var className = _get(_getPrototypeOf(ButtonComponent.prototype), \"className\", this);\n\n      className += ' form-group';\n      return className;\n    }\n  }, {\n    key: \"oauthConfig\",\n    get: function get() {\n      if (_lodash.default.has(this, 'root.form.config.oauth') && this.component.oauthProvider) {\n        return this.root.form.config.oauth[this.component.oauthProvider];\n      } // Legacy oauth location.\n\n\n      if (this.component.oauth) {\n        return this.component.oauth;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.viewOnly || this.options.hideButtons) {\n        this._visible = false;\n      }\n\n      return _get(_getPrototypeOf(ButtonComponent.prototype), \"render\", this).call(this, this.renderTemplate('button', {\n        component: this.component,\n        input: this.inputInfo\n      }));\n    }\n  }, {\n    key: \"attachButton\",\n    value: function attachButton() {\n      var _this2 = this;\n\n      this.addShortcut(this.refs.button);\n      var onChange = null;\n      var onError = null;\n\n      if (this.component.action === 'submit') {\n        this.on('submitButton', function () {\n          _this2.disabled = true;\n        }, true);\n        this.on('submitDone', function (message) {\n          var resultMessage = _lodash.default.isString(message) ? message : _this2.t('complete');\n          _this2.loading = false;\n          _this2.disabled = false;\n\n          _this2.addClass(_this2.refs.button, 'btn-success submit-success');\n\n          _this2.removeClass(_this2.refs.button, 'btn-danger submit-fail');\n\n          _this2.addClass(_this2.refs.buttonMessageContainer, 'has-success');\n\n          _this2.removeClass(_this2.refs.buttonMessageContainer, 'has-error');\n\n          _this2.setContent(_this2.refs.buttonMessage, resultMessage);\n        }, true);\n        this.on('submitError', function (message) {\n          var resultMessage = _lodash.default.isString(message) ? _this2.t(message) : _this2.t(_this2.errorMessage('submitError'));\n          _this2.loading = false;\n          _this2.disabled = false;\n          _this2.hasError = true;\n\n          _this2.removeClass(_this2.refs.button, 'btn-success submit-success');\n\n          _this2.addClass(_this2.refs.button, 'btn-danger submit-fail');\n\n          _this2.removeClass(_this2.refs.buttonMessageContainer, 'has-success');\n\n          _this2.addClass(_this2.refs.buttonMessageContainer, 'has-error');\n\n          _this2.setContent(_this2.refs.buttonMessage, resultMessage);\n        }, true);\n        this.on('fileUploadingStart', function (filePromise) {\n          _this2.filesUploading.push(filePromise);\n\n          _this2.disabled = true;\n\n          _this2.setDisabled(_this2.refs.button, _this2.disabled);\n        }, true);\n        this.on('fileUploadingEnd', function (filePromise) {\n          var index = _this2.filesUploading.indexOf(filePromise);\n\n          if (index !== -1) {\n            _this2.filesUploading.splice(index, 1);\n          }\n\n          _this2.disabled = _this2.shouldDisabled ? true : false;\n\n          _this2.setDisabled(_this2.refs.button, _this2.disabled);\n        }, true);\n\n        onChange = function onChange(value, isValid) {\n          _this2.removeClass(_this2.refs.button, 'btn-success submit-success');\n\n          if (isValid) {\n            _this2.removeClass(_this2.refs.button, 'btn-danger submit-fail');\n\n            if (_this2.hasError) {\n              _this2.hasError = false;\n\n              _this2.setContent(_this2.refs.buttonMessage, '');\n\n              _this2.removeClass(_this2.refs.buttonMessageContainer, 'has-success');\n\n              _this2.removeClass(_this2.refs.buttonMessageContainer, 'has-error');\n            }\n          }\n        };\n\n        onError = function onError() {\n          _this2.hasError = true;\n\n          _this2.removeClass(_this2.refs.button, 'btn-success submit-success');\n\n          _this2.addClass(_this2.refs.button, 'btn-danger submit-fail');\n\n          _this2.removeClass(_this2.refs.buttonMessageContainer, 'has-success');\n\n          _this2.addClass(_this2.refs.buttonMessageContainer, 'has-error');\n\n          _this2.setContent(_this2.refs.buttonMessage, _this2.t(_this2.errorMessage('submitError')));\n        };\n      }\n\n      if (this.component.action === 'url') {\n        this.on('requestButton', function () {\n          _this2.disabled = true;\n        }, true);\n        this.on('requestDone', function () {\n          _this2.loading = false;\n          _this2.disabled = false;\n        }, true);\n      }\n\n      this.on('change', function (value, flags) {\n        var isValid = value.isValid;\n        var isSilent = flags && flags.silent; //check root validity only if disableOnInvalid is set and when it is not possible to make submission because of validation errors\n\n        if (flags && flags.noValidate && (_this2.component.disableOnInvalid || _this2.hasError)) {\n          isValid = flags.rootValidity || (_this2.root ? _this2.root.checkValidity(_this2.root.data, null, null, true) : true);\n          flags.rootValidity = isValid;\n        }\n\n        _this2.loading = false;\n        _this2.isDisabledOnInvalid = _this2.component.disableOnInvalid && (isSilent || !isValid);\n        _this2.disabled = _this2.shouldDisabled;\n\n        _this2.setDisabled(_this2.refs.button, _this2.disabled);\n\n        if (onChange) {\n          onChange(value, isValid);\n        }\n      }, true);\n      this.on('error', function () {\n        _this2.loading = false;\n        _this2.disabled = false;\n\n        if (onError) {\n          onError();\n        }\n      }, true);\n\n      if (this.component.saveOnEnter) {\n        this.root.addEventListener(this.root.element, 'keyup', function (event) {\n          if (event.keyCode === 13) {\n            _this2.onClick.call(_this2, event);\n          }\n        });\n      }\n\n      this.addEventListener(this.refs.button, 'click', this.onClick.bind(this));\n      this.addEventListener(this.refs.buttonMessageContainer, 'click', function () {\n        if (_this2.refs.buttonMessageContainer.classList.contains('has-error')) {\n          if (_this2.root && _this2.root.alert) {\n            _this2.scrollIntoView(_this2.root.alert);\n          }\n        }\n      });\n      this.disabled = this.shouldDisabled;\n      this.setDisabled(this.refs.button, this.disabled);\n\n      function getUrlParameter(name) {\n        name = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n        var regex = new RegExp(\"[\\\\?&]\".concat(name, \"=([^&#]*)\"));\n        var results = regex.exec(location.search);\n\n        if (!results) {\n          return results;\n        }\n\n        return decodeURIComponent(results[1].replace(/\\+/g, ' '));\n      } // If this is an OpenID Provider initiated login, perform the click event immediately\n\n\n      if (this.component.action === 'oauth' && this.oauthConfig && !this.oauthConfig.error) {\n        var iss = getUrlParameter('iss');\n\n        if (iss && this.oauthConfig.authURI.indexOf(iss) === 0) {\n          this.openOauth(this.oauthConfig);\n        }\n      }\n    }\n  }, {\n    key: \"shouldDisabled\",\n    get: function get() {\n      var _this$filesUploading;\n\n      return _get(_getPrototypeOf(ButtonComponent.prototype), \"shouldDisabled\", this) || !!((_this$filesUploading = this.filesUploading) !== null && _this$filesUploading !== void 0 && _this$filesUploading.length) || this.isDisabledOnInvalid;\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(element) {\n      this.loadRefs(element, {\n        button: 'single',\n        buttonMessageContainer: 'single',\n        buttonMessage: 'single'\n      });\n\n      var superAttach = _get(_getPrototypeOf(ButtonComponent.prototype), \"attach\", this).call(this, element);\n\n      this.attachButton();\n      return superAttach;\n    }\n    /* eslint-enable max-statements */\n\n  }, {\n    key: \"detach\",\n    value: function detach(element) {\n      if (element && this.refs.button) {\n        this.removeShortcut(this.refs.button);\n      }\n\n      _get(_getPrototypeOf(ButtonComponent.prototype), \"detach\", this).call(this);\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      this.triggerReCaptcha(); // Don't click if disabled or in builder mode.\n\n      if (this.disabled || this.options.attachMode === 'builder') {\n        return;\n      }\n\n      this.dataValue = true;\n\n      if (this.component.action !== 'submit' && this.component.showValidations) {\n        this.emit('checkValidity', this.data);\n      }\n\n      switch (this.component.action) {\n        case 'saveState':\n        case 'submit':\n          event.preventDefault();\n          event.stopPropagation();\n          this.loading = true;\n          this.emit('submitButton', {\n            state: this.component.state || 'submitted',\n            component: this.component,\n            instance: this\n          });\n          break;\n\n        case 'event':\n          this.emit(this.interpolate(this.component.event), this.data);\n          this.events.emit(this.interpolate(this.component.event), this.data);\n          this.emit('customEvent', {\n            type: this.interpolate(this.component.event),\n            component: this.component,\n            data: this.data,\n            event: event\n          });\n          break;\n\n        case 'custom':\n          {\n            // Get the FormioForm at the root of this component's tree\n            var form = this.getRoot(); // Get the form's flattened schema components\n\n            var flattened = (0, _utils.flattenComponents)(form.component.components, true); // Create object containing the corresponding HTML element components\n\n            var components = {};\n\n            _lodash.default.each(flattened, function (component, key) {\n              var element = form.getComponent(key);\n\n              if (element) {\n                components[key] = element;\n              }\n            });\n\n            this.evaluate(this.component.custom, {\n              form: form,\n              flattened: flattened,\n              components: components\n            });\n            break;\n          }\n\n        case 'url':\n          this.loading = true;\n          this.emit('requestButton', {\n            component: this.component,\n            instance: this\n          });\n          this.emit('requestUrl', {\n            url: this.interpolate(this.component.url),\n            headers: this.component.headers\n          });\n          break;\n\n        case 'reset':\n          this.emit('resetForm');\n          break;\n\n        case 'delete':\n          this.emit('deleteSubmission');\n          break;\n\n        case 'oauth':\n          if (this.root === this) {\n            console.warn('You must add the OAuth button to a form for it to function properly');\n            return;\n          } // Display Alert if OAuth config is missing\n\n\n          if (!this.oauthConfig) {\n            this.root.setAlert('danger', 'OAuth not configured. You must configure oauth for your project before it will work.');\n            break;\n          } // Display Alert if oAuth has an error is missing\n\n\n          if (this.oauthConfig.error) {\n            this.root.setAlert('danger', \"The Following Error Has Occured \".concat(this.oauthConfig.error));\n            break;\n          }\n\n          this.openOauth(this.oauthConfig);\n          break;\n      }\n    }\n  }, {\n    key: \"openOauth\",\n    value: function openOauth(settings) {\n      var _this3 = this;\n\n      if (!this.root.formio) {\n        console.warn('You must attach a Form API url to your form in order to use OAuth buttons.');\n        return;\n      }\n      /*eslint-disable camelcase */\n\n\n      var params = {\n        response_type: 'code',\n        client_id: settings.clientId,\n        redirect_uri: settings.redirectURI || window.location.origin || \"\".concat(window.location.protocol, \"//\").concat(window.location.host),\n        state: settings.state,\n        scope: settings.scope\n      };\n      /*eslint-enable camelcase */\n      // Needs for the correct redirection URI for the OpenID\n\n      var originalRedirectUri = params.redirect_uri; // Make display optional.\n\n      if (settings.display) {\n        params.display = settings.display;\n      }\n\n      params = Object.keys(params).map(function (key) {\n        return \"\".concat(key, \"=\").concat(encodeURIComponent(params[key]));\n      }).join('&');\n      var url = \"\".concat(settings.authURI, \"?\").concat(params);\n      var popup = window.open(url, settings.provider, 'width=1020,height=618');\n      var interval = setInterval(function () {\n        try {\n          var popupHost = popup.location.host;\n          var currentHost = window.location.host;\n\n          if (popup && !popup.closed && popupHost === currentHost && popup.location.search) {\n            popup.close();\n\n            var _params = popup.location.search.substr(1).split('&').reduce(function (params, param) {\n              var split = param.split('=');\n              params[split[0]] = split[1];\n              return params;\n            }, {});\n\n            if (_params.error) {\n              alert(_params.error_description || _params.error);\n\n              _this3.root.setAlert('danger', _params.error_description || _params.error);\n\n              return;\n            } // TODO: check for error response here\n\n\n            if (settings.state !== _params.state) {\n              _this3.root.setAlert('danger', 'OAuth state does not match. Please try logging in again.');\n\n              return;\n            } // Depending on where the settings came from, submit to either the submission endpoint (old) or oauth endpoint (new).\n\n\n            var requestPromise = _nativePromiseOnly.default.resolve();\n\n            if (_lodash.default.has(_this3, 'root.form.config.oauth') && _this3.root.form.config.oauth[_this3.component.oauthProvider]) {\n              _params.provider = settings.provider;\n              _params.redirectURI = originalRedirectUri; // Needs for the exclude oAuth Actions that not related to this button\n\n              _params.triggeredBy = _this3.key;\n              requestPromise = _this3.root.formio.makeRequest('oauth', \"\".concat(_this3.root.formio.projectUrl, \"/oauth2\"), 'POST', _params);\n            } else {\n              var submission = {\n                data: {},\n                oauth: {}\n              };\n              submission.oauth[settings.provider] = _params;\n              submission.oauth[settings.provider].redirectURI = originalRedirectUri; // Needs for the exclude oAuth Actions that not related to this button\n\n              submission.oauth[settings.provider].triggeredBy = _this3.key;\n              requestPromise = _this3.root.formio.saveSubmission(submission);\n            }\n\n            requestPromise.then(function (result) {\n              _this3.root.onSubmit(result, true);\n            }).catch(function (err) {\n              _this3.root.onSubmissionError(err);\n            });\n          }\n        } catch (error) {\n          if (error.name !== 'SecurityError') {\n            _this3.root.setAlert('danger', error.message || error);\n          }\n        }\n\n        if (!popup || popup.closed || popup.closed === undefined) {\n          clearInterval(interval);\n        }\n      }, 100);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (this.refs.button) {\n        this.refs.button.focus();\n      }\n    }\n  }, {\n    key: \"triggerReCaptcha\",\n    value: function triggerReCaptcha() {\n      var _this4 = this;\n\n      if (!this.root) {\n        return;\n      }\n\n      var recaptchaComponent = this.root.components.find(function (component) {\n        return component.component.type === 'recaptcha' && component.component.eventType === 'buttonClick' && component.component.buttonKey === _this4.component.key;\n      });\n\n      if (recaptchaComponent) {\n        recaptchaComponent.verify(\"\".concat(this.component.key, \"Click\"));\n      }\n    }\n  }], [{\n    key: \"schema\",\n    value: function schema() {\n      for (var _len = arguments.length, extend = new Array(_len), _key = 0; _key < _len; _key++) {\n        extend[_key] = arguments[_key];\n      }\n\n      return _Input.default.schema.apply(_Input.default, [{\n        type: 'button',\n        label: 'Submit',\n        key: 'submit',\n        size: 'md',\n        leftIcon: '',\n        rightIcon: '',\n        block: false,\n        action: 'submit',\n        persistent: false,\n        disableOnInvalid: false,\n        theme: 'primary',\n        dataGridLabel: true\n      }].concat(extend));\n    }\n  }, {\n    key: \"builderInfo\",\n    get: function get() {\n      return {\n        title: 'Button',\n        group: 'basic',\n        icon: 'stop',\n        documentation: '/userguide/#button',\n        weight: 110,\n        schema: ButtonComponent.schema()\n      };\n    }\n  }]);\n\n  return ButtonComponent;\n}(_Field2.default);\n\nexports.default = ButtonComponent;","map":{"version":3,"sources":["C:/Users/ShyamLakhani/Desktop/my-app/node_modules/formiojs/components/button/Button.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","_lodash","_interopRequireDefault","require","_nativePromiseOnly","_Field2","_Input","_utils","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","call","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","ButtonComponent","_Field","_super","component","options","data","_this","filesUploading","schema","info","type","attr","includes","action","theme","class","concat","size","block","customClass","content","t","label","_userInput","hidden","set","loading","setLoading","refs","button","createLabel","createInput","container","getValue","dataValue","className","has","oauthProvider","root","form","config","oauth","render","viewOnly","hideButtons","_visible","renderTemplate","input","inputInfo","attachButton","_this2","addShortcut","onChange","onError","on","disabled","message","resultMessage","isString","addClass","removeClass","buttonMessageContainer","setContent","buttonMessage","errorMessage","hasError","filePromise","push","setDisabled","index","indexOf","splice","shouldDisabled","isValid","flags","isSilent","silent","noValidate","disableOnInvalid","rootValidity","checkValidity","isDisabledOnInvalid","saveOnEnter","addEventListener","element","event","keyCode","onClick","bind","classList","contains","alert","scrollIntoView","getUrlParameter","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","oauthConfig","error","iss","authURI","openOauth","_this$filesUploading","attach","loadRefs","superAttach","detach","removeShortcut","triggerReCaptcha","attachMode","showValidations","emit","preventDefault","stopPropagation","state","interpolate","events","getRoot","flattened","flattenComponents","components","each","getComponent","evaluate","custom","url","headers","console","warn","setAlert","settings","_this3","formio","params","response_type","client_id","clientId","redirect_uri","redirectURI","window","origin","protocol","host","scope","originalRedirectUri","display","keys","map","encodeURIComponent","join","popup","open","provider","interval","setInterval","popupHost","currentHost","closed","close","_params","substr","split","reduce","param","error_description","requestPromise","resolve","triggeredBy","makeRequest","projectUrl","submission","saveSubmission","then","onSubmit","catch","err","onSubmissionError","undefined","clearInterval","focus","_this4","recaptchaComponent","find","eventType","buttonKey","verify","_len","extend","Array","_key","leftIcon","rightIcon","persistent","dataGridLabel","title","group","icon","documentation","weight"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nrequire(\"core-js/modules/es.reflect.construct.js\");\n\nrequire(\"core-js/modules/es.reflect.get.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.array.includes.js\");\n\nrequire(\"core-js/modules/es.array.splice.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.regexp.constructor.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.string.search.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.array.join.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.array.find.js\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nvar _Field2 = _interopRequireDefault(require(\"../_classes/field/Field\"));\n\nvar _Input = _interopRequireDefault(require(\"../_classes/input/Input\"));\n\nvar _utils = require(\"../../utils/utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar ButtonComponent = /*#__PURE__*/function (_Field) {\n  _inherits(ButtonComponent, _Field);\n\n  var _super = _createSuper(ButtonComponent);\n\n  function ButtonComponent(component, options, data) {\n    var _this;\n\n    _classCallCheck(this, ButtonComponent);\n\n    _this = _super.call(this, component, options, data);\n    _this.filesUploading = [];\n    return _this;\n  }\n\n  _createClass(ButtonComponent, [{\n    key: \"defaultSchema\",\n    get: function get() {\n      return ButtonComponent.schema();\n    }\n  }, {\n    key: \"inputInfo\",\n    get: function get() {\n      var info = _get(_getPrototypeOf(ButtonComponent.prototype), \"elementInfo\", this).call(this);\n\n      info.type = 'button';\n      info.attr.type = ['submit', 'saveState'].includes(this.component.action) ? 'submit' : 'button';\n      this.component.theme = this.component.theme || 'default';\n      info.attr.class = \"btn btn-\".concat(this.component.theme);\n\n      if (this.component.size) {\n        info.attr.class += \" btn-\".concat(this.component.size);\n      }\n\n      if (this.component.block) {\n        info.attr.class += ' btn-block';\n      }\n\n      if (this.component.customClass) {\n        info.attr.class += \" \".concat(this.component.customClass);\n      }\n\n      info.content = this.t(this.component.label, {\n        _userInput: true\n      });\n      return info;\n    }\n  }, {\n    key: \"labelInfo\",\n    get: function get() {\n      return {\n        hidden: true\n      };\n    }\n  }, {\n    key: \"loading\",\n    set: function set(loading) {\n      this.setLoading(this.refs.button, loading);\n    }\n  }, {\n    key: \"skipInEmail\",\n    get: function get() {\n      return true;\n    } // No label needed for buttons.\n\n  }, {\n    key: \"createLabel\",\n    value: function createLabel() {}\n  }, {\n    key: \"createInput\",\n    value: function createInput(container) {\n      this.refs.button = _get(_getPrototypeOf(ButtonComponent.prototype), \"createInput\", this).call(this, container);\n      return this.refs.button;\n    }\n  }, {\n    key: \"emptyValue\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      return this.dataValue;\n    }\n  }, {\n    key: \"clicked\",\n    get: function get() {\n      return this.dataValue;\n    }\n  }, {\n    key: \"defaultValue\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"className\",\n    get: function get() {\n      var className = _get(_getPrototypeOf(ButtonComponent.prototype), \"className\", this);\n\n      className += ' form-group';\n      return className;\n    }\n  }, {\n    key: \"oauthConfig\",\n    get: function get() {\n      if (_lodash.default.has(this, 'root.form.config.oauth') && this.component.oauthProvider) {\n        return this.root.form.config.oauth[this.component.oauthProvider];\n      } // Legacy oauth location.\n\n\n      if (this.component.oauth) {\n        return this.component.oauth;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.viewOnly || this.options.hideButtons) {\n        this._visible = false;\n      }\n\n      return _get(_getPrototypeOf(ButtonComponent.prototype), \"render\", this).call(this, this.renderTemplate('button', {\n        component: this.component,\n        input: this.inputInfo\n      }));\n    }\n  }, {\n    key: \"attachButton\",\n    value: function attachButton() {\n      var _this2 = this;\n\n      this.addShortcut(this.refs.button);\n      var onChange = null;\n      var onError = null;\n\n      if (this.component.action === 'submit') {\n        this.on('submitButton', function () {\n          _this2.disabled = true;\n        }, true);\n        this.on('submitDone', function (message) {\n          var resultMessage = _lodash.default.isString(message) ? message : _this2.t('complete');\n          _this2.loading = false;\n          _this2.disabled = false;\n\n          _this2.addClass(_this2.refs.button, 'btn-success submit-success');\n\n          _this2.removeClass(_this2.refs.button, 'btn-danger submit-fail');\n\n          _this2.addClass(_this2.refs.buttonMessageContainer, 'has-success');\n\n          _this2.removeClass(_this2.refs.buttonMessageContainer, 'has-error');\n\n          _this2.setContent(_this2.refs.buttonMessage, resultMessage);\n        }, true);\n        this.on('submitError', function (message) {\n          var resultMessage = _lodash.default.isString(message) ? _this2.t(message) : _this2.t(_this2.errorMessage('submitError'));\n          _this2.loading = false;\n          _this2.disabled = false;\n          _this2.hasError = true;\n\n          _this2.removeClass(_this2.refs.button, 'btn-success submit-success');\n\n          _this2.addClass(_this2.refs.button, 'btn-danger submit-fail');\n\n          _this2.removeClass(_this2.refs.buttonMessageContainer, 'has-success');\n\n          _this2.addClass(_this2.refs.buttonMessageContainer, 'has-error');\n\n          _this2.setContent(_this2.refs.buttonMessage, resultMessage);\n        }, true);\n        this.on('fileUploadingStart', function (filePromise) {\n          _this2.filesUploading.push(filePromise);\n\n          _this2.disabled = true;\n\n          _this2.setDisabled(_this2.refs.button, _this2.disabled);\n        }, true);\n        this.on('fileUploadingEnd', function (filePromise) {\n          var index = _this2.filesUploading.indexOf(filePromise);\n\n          if (index !== -1) {\n            _this2.filesUploading.splice(index, 1);\n          }\n\n          _this2.disabled = _this2.shouldDisabled ? true : false;\n\n          _this2.setDisabled(_this2.refs.button, _this2.disabled);\n        }, true);\n\n        onChange = function onChange(value, isValid) {\n          _this2.removeClass(_this2.refs.button, 'btn-success submit-success');\n\n          if (isValid) {\n            _this2.removeClass(_this2.refs.button, 'btn-danger submit-fail');\n\n            if (_this2.hasError) {\n              _this2.hasError = false;\n\n              _this2.setContent(_this2.refs.buttonMessage, '');\n\n              _this2.removeClass(_this2.refs.buttonMessageContainer, 'has-success');\n\n              _this2.removeClass(_this2.refs.buttonMessageContainer, 'has-error');\n            }\n          }\n        };\n\n        onError = function onError() {\n          _this2.hasError = true;\n\n          _this2.removeClass(_this2.refs.button, 'btn-success submit-success');\n\n          _this2.addClass(_this2.refs.button, 'btn-danger submit-fail');\n\n          _this2.removeClass(_this2.refs.buttonMessageContainer, 'has-success');\n\n          _this2.addClass(_this2.refs.buttonMessageContainer, 'has-error');\n\n          _this2.setContent(_this2.refs.buttonMessage, _this2.t(_this2.errorMessage('submitError')));\n        };\n      }\n\n      if (this.component.action === 'url') {\n        this.on('requestButton', function () {\n          _this2.disabled = true;\n        }, true);\n        this.on('requestDone', function () {\n          _this2.loading = false;\n          _this2.disabled = false;\n        }, true);\n      }\n\n      this.on('change', function (value, flags) {\n        var isValid = value.isValid;\n        var isSilent = flags && flags.silent; //check root validity only if disableOnInvalid is set and when it is not possible to make submission because of validation errors\n\n        if (flags && flags.noValidate && (_this2.component.disableOnInvalid || _this2.hasError)) {\n          isValid = flags.rootValidity || (_this2.root ? _this2.root.checkValidity(_this2.root.data, null, null, true) : true);\n          flags.rootValidity = isValid;\n        }\n\n        _this2.loading = false;\n        _this2.isDisabledOnInvalid = _this2.component.disableOnInvalid && (isSilent || !isValid);\n        _this2.disabled = _this2.shouldDisabled;\n\n        _this2.setDisabled(_this2.refs.button, _this2.disabled);\n\n        if (onChange) {\n          onChange(value, isValid);\n        }\n      }, true);\n      this.on('error', function () {\n        _this2.loading = false;\n        _this2.disabled = false;\n\n        if (onError) {\n          onError();\n        }\n      }, true);\n\n      if (this.component.saveOnEnter) {\n        this.root.addEventListener(this.root.element, 'keyup', function (event) {\n          if (event.keyCode === 13) {\n            _this2.onClick.call(_this2, event);\n          }\n        });\n      }\n\n      this.addEventListener(this.refs.button, 'click', this.onClick.bind(this));\n      this.addEventListener(this.refs.buttonMessageContainer, 'click', function () {\n        if (_this2.refs.buttonMessageContainer.classList.contains('has-error')) {\n          if (_this2.root && _this2.root.alert) {\n            _this2.scrollIntoView(_this2.root.alert);\n          }\n        }\n      });\n      this.disabled = this.shouldDisabled;\n      this.setDisabled(this.refs.button, this.disabled);\n\n      function getUrlParameter(name) {\n        name = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n        var regex = new RegExp(\"[\\\\?&]\".concat(name, \"=([^&#]*)\"));\n        var results = regex.exec(location.search);\n\n        if (!results) {\n          return results;\n        }\n\n        return decodeURIComponent(results[1].replace(/\\+/g, ' '));\n      } // If this is an OpenID Provider initiated login, perform the click event immediately\n\n\n      if (this.component.action === 'oauth' && this.oauthConfig && !this.oauthConfig.error) {\n        var iss = getUrlParameter('iss');\n\n        if (iss && this.oauthConfig.authURI.indexOf(iss) === 0) {\n          this.openOauth(this.oauthConfig);\n        }\n      }\n    }\n  }, {\n    key: \"shouldDisabled\",\n    get: function get() {\n      var _this$filesUploading;\n\n      return _get(_getPrototypeOf(ButtonComponent.prototype), \"shouldDisabled\", this) || !!((_this$filesUploading = this.filesUploading) !== null && _this$filesUploading !== void 0 && _this$filesUploading.length) || this.isDisabledOnInvalid;\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(element) {\n      this.loadRefs(element, {\n        button: 'single',\n        buttonMessageContainer: 'single',\n        buttonMessage: 'single'\n      });\n\n      var superAttach = _get(_getPrototypeOf(ButtonComponent.prototype), \"attach\", this).call(this, element);\n\n      this.attachButton();\n      return superAttach;\n    }\n    /* eslint-enable max-statements */\n\n  }, {\n    key: \"detach\",\n    value: function detach(element) {\n      if (element && this.refs.button) {\n        this.removeShortcut(this.refs.button);\n      }\n\n      _get(_getPrototypeOf(ButtonComponent.prototype), \"detach\", this).call(this);\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      this.triggerReCaptcha(); // Don't click if disabled or in builder mode.\n\n      if (this.disabled || this.options.attachMode === 'builder') {\n        return;\n      }\n\n      this.dataValue = true;\n\n      if (this.component.action !== 'submit' && this.component.showValidations) {\n        this.emit('checkValidity', this.data);\n      }\n\n      switch (this.component.action) {\n        case 'saveState':\n        case 'submit':\n          event.preventDefault();\n          event.stopPropagation();\n          this.loading = true;\n          this.emit('submitButton', {\n            state: this.component.state || 'submitted',\n            component: this.component,\n            instance: this\n          });\n          break;\n\n        case 'event':\n          this.emit(this.interpolate(this.component.event), this.data);\n          this.events.emit(this.interpolate(this.component.event), this.data);\n          this.emit('customEvent', {\n            type: this.interpolate(this.component.event),\n            component: this.component,\n            data: this.data,\n            event: event\n          });\n          break;\n\n        case 'custom':\n          {\n            // Get the FormioForm at the root of this component's tree\n            var form = this.getRoot(); // Get the form's flattened schema components\n\n            var flattened = (0, _utils.flattenComponents)(form.component.components, true); // Create object containing the corresponding HTML element components\n\n            var components = {};\n\n            _lodash.default.each(flattened, function (component, key) {\n              var element = form.getComponent(key);\n\n              if (element) {\n                components[key] = element;\n              }\n            });\n\n            this.evaluate(this.component.custom, {\n              form: form,\n              flattened: flattened,\n              components: components\n            });\n            break;\n          }\n\n        case 'url':\n          this.loading = true;\n          this.emit('requestButton', {\n            component: this.component,\n            instance: this\n          });\n          this.emit('requestUrl', {\n            url: this.interpolate(this.component.url),\n            headers: this.component.headers\n          });\n          break;\n\n        case 'reset':\n          this.emit('resetForm');\n          break;\n\n        case 'delete':\n          this.emit('deleteSubmission');\n          break;\n\n        case 'oauth':\n          if (this.root === this) {\n            console.warn('You must add the OAuth button to a form for it to function properly');\n            return;\n          } // Display Alert if OAuth config is missing\n\n\n          if (!this.oauthConfig) {\n            this.root.setAlert('danger', 'OAuth not configured. You must configure oauth for your project before it will work.');\n            break;\n          } // Display Alert if oAuth has an error is missing\n\n\n          if (this.oauthConfig.error) {\n            this.root.setAlert('danger', \"The Following Error Has Occured \".concat(this.oauthConfig.error));\n            break;\n          }\n\n          this.openOauth(this.oauthConfig);\n          break;\n      }\n    }\n  }, {\n    key: \"openOauth\",\n    value: function openOauth(settings) {\n      var _this3 = this;\n\n      if (!this.root.formio) {\n        console.warn('You must attach a Form API url to your form in order to use OAuth buttons.');\n        return;\n      }\n      /*eslint-disable camelcase */\n\n\n      var params = {\n        response_type: 'code',\n        client_id: settings.clientId,\n        redirect_uri: settings.redirectURI || window.location.origin || \"\".concat(window.location.protocol, \"//\").concat(window.location.host),\n        state: settings.state,\n        scope: settings.scope\n      };\n      /*eslint-enable camelcase */\n      // Needs for the correct redirection URI for the OpenID\n\n      var originalRedirectUri = params.redirect_uri; // Make display optional.\n\n      if (settings.display) {\n        params.display = settings.display;\n      }\n\n      params = Object.keys(params).map(function (key) {\n        return \"\".concat(key, \"=\").concat(encodeURIComponent(params[key]));\n      }).join('&');\n      var url = \"\".concat(settings.authURI, \"?\").concat(params);\n      var popup = window.open(url, settings.provider, 'width=1020,height=618');\n      var interval = setInterval(function () {\n        try {\n          var popupHost = popup.location.host;\n          var currentHost = window.location.host;\n\n          if (popup && !popup.closed && popupHost === currentHost && popup.location.search) {\n            popup.close();\n\n            var _params = popup.location.search.substr(1).split('&').reduce(function (params, param) {\n              var split = param.split('=');\n              params[split[0]] = split[1];\n              return params;\n            }, {});\n\n            if (_params.error) {\n              alert(_params.error_description || _params.error);\n\n              _this3.root.setAlert('danger', _params.error_description || _params.error);\n\n              return;\n            } // TODO: check for error response here\n\n\n            if (settings.state !== _params.state) {\n              _this3.root.setAlert('danger', 'OAuth state does not match. Please try logging in again.');\n\n              return;\n            } // Depending on where the settings came from, submit to either the submission endpoint (old) or oauth endpoint (new).\n\n\n            var requestPromise = _nativePromiseOnly.default.resolve();\n\n            if (_lodash.default.has(_this3, 'root.form.config.oauth') && _this3.root.form.config.oauth[_this3.component.oauthProvider]) {\n              _params.provider = settings.provider;\n              _params.redirectURI = originalRedirectUri; // Needs for the exclude oAuth Actions that not related to this button\n\n              _params.triggeredBy = _this3.key;\n              requestPromise = _this3.root.formio.makeRequest('oauth', \"\".concat(_this3.root.formio.projectUrl, \"/oauth2\"), 'POST', _params);\n            } else {\n              var submission = {\n                data: {},\n                oauth: {}\n              };\n              submission.oauth[settings.provider] = _params;\n              submission.oauth[settings.provider].redirectURI = originalRedirectUri; // Needs for the exclude oAuth Actions that not related to this button\n\n              submission.oauth[settings.provider].triggeredBy = _this3.key;\n              requestPromise = _this3.root.formio.saveSubmission(submission);\n            }\n\n            requestPromise.then(function (result) {\n              _this3.root.onSubmit(result, true);\n            }).catch(function (err) {\n              _this3.root.onSubmissionError(err);\n            });\n          }\n        } catch (error) {\n          if (error.name !== 'SecurityError') {\n            _this3.root.setAlert('danger', error.message || error);\n          }\n        }\n\n        if (!popup || popup.closed || popup.closed === undefined) {\n          clearInterval(interval);\n        }\n      }, 100);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (this.refs.button) {\n        this.refs.button.focus();\n      }\n    }\n  }, {\n    key: \"triggerReCaptcha\",\n    value: function triggerReCaptcha() {\n      var _this4 = this;\n\n      if (!this.root) {\n        return;\n      }\n\n      var recaptchaComponent = this.root.components.find(function (component) {\n        return component.component.type === 'recaptcha' && component.component.eventType === 'buttonClick' && component.component.buttonKey === _this4.component.key;\n      });\n\n      if (recaptchaComponent) {\n        recaptchaComponent.verify(\"\".concat(this.component.key, \"Click\"));\n      }\n    }\n  }], [{\n    key: \"schema\",\n    value: function schema() {\n      for (var _len = arguments.length, extend = new Array(_len), _key = 0; _key < _len; _key++) {\n        extend[_key] = arguments[_key];\n      }\n\n      return _Input.default.schema.apply(_Input.default, [{\n        type: 'button',\n        label: 'Submit',\n        key: 'submit',\n        size: 'md',\n        leftIcon: '',\n        rightIcon: '',\n        block: false,\n        action: 'submit',\n        persistent: false,\n        disableOnInvalid: false,\n        theme: 'primary',\n        dataGridLabel: true\n      }].concat(extend));\n    }\n  }, {\n    key: \"builderInfo\",\n    get: function get() {\n      return {\n        title: 'Button',\n        group: 'basic',\n        icon: 'stop',\n        documentation: '/userguide/#button',\n        weight: 110,\n        schema: ButtonComponent.schema()\n      };\n    }\n  }]);\n\n  return ButtonComponent;\n}(_Field2.default);\n\nexports.default = ButtonComponent;"]},"metadata":{},"sourceType":"script"}