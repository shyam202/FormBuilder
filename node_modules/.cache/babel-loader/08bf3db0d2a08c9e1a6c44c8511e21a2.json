{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lessOrGreater = lessOrGreater;\nexports.checkInvalidDate = checkInvalidDate;\nexports.CALENDAR_ERROR_MESSAGES = void 0;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar CALENDAR_ERROR_MESSAGES = {\n  INVALID: 'You entered the Invalid Date',\n  INCOMPLETE: 'You entered an incomplete date.',\n  greater: function greater(date, format) {\n    return \"The entered date is greater than \".concat(date.format(format));\n  },\n  less: function less(date, format) {\n    return \"The entered date is less than \".concat(date.format(format));\n  }\n};\n/**\n * Builds the response for checkInvalidDate.\n *\n * @param {String} message\n *   The message for response.\n * @param {Boolean} result\n *   The boolean flag for response.\n * * @return {{message: string, result: boolean}}\n */\n\nexports.CALENDAR_ERROR_MESSAGES = CALENDAR_ERROR_MESSAGES;\n\nfunction buildResponse(message, result) {\n  return {\n    message: message,\n    result: result\n  };\n}\n/**\n * Checks the value for a min date and max date.\n *\n * @param {moment} value\n *   The value to check.\n * @param {[String]} format\n *   A moment formats.\n * @param {Date} maxDate\n *   The max date.\n * @param {Date} minDate\n *   The min date.\n * * @return {{message: string, result: boolean}}\n */\n\n\nfunction lessOrGreater(value, format, maxDate, minDate) {\n  var message = '';\n  var result = true;\n\n  if (maxDate && value.isValid()) {\n    var maxDateMoment = (0, _moment.default)(maxDate, format);\n\n    if (value > maxDateMoment) {\n      message = CALENDAR_ERROR_MESSAGES.greater(maxDateMoment, format);\n      result = false;\n    }\n  }\n\n  if (minDate && value.isValid()) {\n    var minDateMoment = (0, _moment.default)(minDate, format);\n\n    if (value < minDateMoment) {\n      message = CALENDAR_ERROR_MESSAGES.less(minDateMoment, format);\n      result = false;\n    }\n  }\n\n  return {\n    message: message,\n    result: result\n  };\n}\n/**\n * Checks the entered date for validity.\n *\n * @param {String} value\n *   The value to check.\n * @param {[String]} format\n *   A moment formats.\n * @param {Date} maxDate\n *   The max date.\n * @param {Date} minDate\n *   The min date.\n * * @return {{message: string, result: boolean}}\n */\n\n\nfunction checkInvalidDate(value, format, minDate, maxDate) {\n  var date = (0, _moment.default)(value, format, true);\n  var isValidDate = date.isValid();\n\n  if (!isValidDate) {\n    var delimeters = value.match(/[^a-z0-9_]/gi);\n    var delimetersRegEx = new RegExp(delimeters.join('|'), 'gi');\n    var inputParts = value.replace(/_*/gi, '').split(delimetersRegEx);\n    var formatParts = format[1] ? format[1].split(delimetersRegEx) : format[0].split(delimetersRegEx);\n\n    var timeIndex = _lodash.default.findIndex(formatParts, function (part, index) {\n      return part.length === 1 && index === formatParts.length - 1;\n    });\n\n    var yearIndex = _lodash.default.findIndex(formatParts, function (part) {\n      return part.match(/yyyy/gi);\n    });\n\n    if (inputParts[yearIndex] / 1000 < 1) {\n      return buildResponse(CALENDAR_ERROR_MESSAGES.INVALID, false);\n    }\n\n    if (inputParts[0].length === formatParts[0].length) {\n      var modifiedParts = inputParts.map(function (part, index) {\n        var partValue = part;\n\n        if (!part && index === timeIndex) {\n          partValue = 'AM';\n        } else if (!part) {\n          partValue = '01';\n        }\n\n        if (delimeters[index]) {\n          partValue = \"\".concat(partValue).concat(delimeters[index]);\n        }\n\n        return partValue;\n      });\n      var problemDate = (0, _moment.default)(modifiedParts.join(''), format, true);\n\n      if (problemDate.isValid()) {\n        var checkedLessOrGreater = lessOrGreater(problemDate, format[0], maxDate, minDate);\n\n        if (!checkedLessOrGreater.result) {\n          var message = checkedLessOrGreater.message,\n              result = checkedLessOrGreater.result;\n          return buildResponse(message, result);\n        }\n\n        return buildResponse(CALENDAR_ERROR_MESSAGES.INCOMPLETE, false);\n      } else {\n        return buildResponse(CALENDAR_ERROR_MESSAGES.INVALID, false);\n      }\n    } else {\n      return buildResponse(CALENDAR_ERROR_MESSAGES.INVALID, false);\n    }\n  } else if (isValidDate && value.indexOf('_') === -1) {\n    var _checkedLessOrGreater = lessOrGreater(date, format[0], maxDate, minDate);\n\n    if (!_checkedLessOrGreater.result) {\n      var _message = _checkedLessOrGreater.message,\n          _result = _checkedLessOrGreater.result;\n      return buildResponse(_message, _result);\n    }\n  }\n\n  return buildResponse('', true);\n}","map":{"version":3,"sources":["C:/Users/ShyamLakhani/Desktop/my-app/node_modules/formiojs/utils/calendarUtils.js"],"names":["Object","defineProperty","exports","value","lessOrGreater","checkInvalidDate","CALENDAR_ERROR_MESSAGES","_moment","_interopRequireDefault","require","_lodash","obj","__esModule","default","INVALID","INCOMPLETE","greater","date","format","concat","less","buildResponse","message","result","maxDate","minDate","isValid","maxDateMoment","minDateMoment","isValidDate","delimeters","match","delimetersRegEx","RegExp","join","inputParts","replace","split","formatParts","timeIndex","findIndex","part","index","length","yearIndex","modifiedParts","map","partValue","problemDate","checkedLessOrGreater","indexOf","_checkedLessOrGreater","_message","_result"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lessOrGreater = lessOrGreater;\nexports.checkInvalidDate = checkInvalidDate;\nexports.CALENDAR_ERROR_MESSAGES = void 0;\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.match.js\");\n\nrequire(\"core-js/modules/es.regexp.constructor.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.array.join.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.array.find-index.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CALENDAR_ERROR_MESSAGES = {\n  INVALID: 'You entered the Invalid Date',\n  INCOMPLETE: 'You entered an incomplete date.',\n  greater: function greater(date, format) {\n    return \"The entered date is greater than \".concat(date.format(format));\n  },\n  less: function less(date, format) {\n    return \"The entered date is less than \".concat(date.format(format));\n  }\n};\n/**\n * Builds the response for checkInvalidDate.\n *\n * @param {String} message\n *   The message for response.\n * @param {Boolean} result\n *   The boolean flag for response.\n * * @return {{message: string, result: boolean}}\n */\n\nexports.CALENDAR_ERROR_MESSAGES = CALENDAR_ERROR_MESSAGES;\n\nfunction buildResponse(message, result) {\n  return {\n    message: message,\n    result: result\n  };\n}\n/**\n * Checks the value for a min date and max date.\n *\n * @param {moment} value\n *   The value to check.\n * @param {[String]} format\n *   A moment formats.\n * @param {Date} maxDate\n *   The max date.\n * @param {Date} minDate\n *   The min date.\n * * @return {{message: string, result: boolean}}\n */\n\n\nfunction lessOrGreater(value, format, maxDate, minDate) {\n  var message = '';\n  var result = true;\n\n  if (maxDate && value.isValid()) {\n    var maxDateMoment = (0, _moment.default)(maxDate, format);\n\n    if (value > maxDateMoment) {\n      message = CALENDAR_ERROR_MESSAGES.greater(maxDateMoment, format);\n      result = false;\n    }\n  }\n\n  if (minDate && value.isValid()) {\n    var minDateMoment = (0, _moment.default)(minDate, format);\n\n    if (value < minDateMoment) {\n      message = CALENDAR_ERROR_MESSAGES.less(minDateMoment, format);\n      result = false;\n    }\n  }\n\n  return {\n    message: message,\n    result: result\n  };\n}\n/**\n * Checks the entered date for validity.\n *\n * @param {String} value\n *   The value to check.\n * @param {[String]} format\n *   A moment formats.\n * @param {Date} maxDate\n *   The max date.\n * @param {Date} minDate\n *   The min date.\n * * @return {{message: string, result: boolean}}\n */\n\n\nfunction checkInvalidDate(value, format, minDate, maxDate) {\n  var date = (0, _moment.default)(value, format, true);\n  var isValidDate = date.isValid();\n\n  if (!isValidDate) {\n    var delimeters = value.match(/[^a-z0-9_]/gi);\n    var delimetersRegEx = new RegExp(delimeters.join('|'), 'gi');\n    var inputParts = value.replace(/_*/gi, '').split(delimetersRegEx);\n    var formatParts = format[1] ? format[1].split(delimetersRegEx) : format[0].split(delimetersRegEx);\n\n    var timeIndex = _lodash.default.findIndex(formatParts, function (part, index) {\n      return part.length === 1 && index === formatParts.length - 1;\n    });\n\n    var yearIndex = _lodash.default.findIndex(formatParts, function (part) {\n      return part.match(/yyyy/gi);\n    });\n\n    if (inputParts[yearIndex] / 1000 < 1) {\n      return buildResponse(CALENDAR_ERROR_MESSAGES.INVALID, false);\n    }\n\n    if (inputParts[0].length === formatParts[0].length) {\n      var modifiedParts = inputParts.map(function (part, index) {\n        var partValue = part;\n\n        if (!part && index === timeIndex) {\n          partValue = 'AM';\n        } else if (!part) {\n          partValue = '01';\n        }\n\n        if (delimeters[index]) {\n          partValue = \"\".concat(partValue).concat(delimeters[index]);\n        }\n\n        return partValue;\n      });\n      var problemDate = (0, _moment.default)(modifiedParts.join(''), format, true);\n\n      if (problemDate.isValid()) {\n        var checkedLessOrGreater = lessOrGreater(problemDate, format[0], maxDate, minDate);\n\n        if (!checkedLessOrGreater.result) {\n          var message = checkedLessOrGreater.message,\n              result = checkedLessOrGreater.result;\n          return buildResponse(message, result);\n        }\n\n        return buildResponse(CALENDAR_ERROR_MESSAGES.INCOMPLETE, false);\n      } else {\n        return buildResponse(CALENDAR_ERROR_MESSAGES.INVALID, false);\n      }\n    } else {\n      return buildResponse(CALENDAR_ERROR_MESSAGES.INVALID, false);\n    }\n  } else if (isValidDate && value.indexOf('_') === -1) {\n    var _checkedLessOrGreater = lessOrGreater(date, format[0], maxDate, minDate);\n\n    if (!_checkedLessOrGreater.result) {\n      var _message = _checkedLessOrGreater.message,\n          _result = _checkedLessOrGreater.result;\n      return buildResponse(_message, _result);\n    }\n  }\n\n  return buildResponse('', true);\n}"]},"metadata":{},"sourceType":"script"}