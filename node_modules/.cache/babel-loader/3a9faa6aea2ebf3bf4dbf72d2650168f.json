{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _EventEmitter = _interopRequireDefault(require(\"./EventEmitter\"));\n\nvar _Formio = _interopRequireDefault(require(\"./Formio\"));\n\nvar FormioUtils = _interopRequireWildcard(require(\"./utils/utils\"));\n\nvar _i18next = _interopRequireDefault(require(\"i18next\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _vanillaTextMask = _interopRequireDefault(require(\"@formio/vanilla-text-mask\"));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n/**\n * The root component for all elements within the Form.io renderer.\n */\n\n\nvar Element = /*#__PURE__*/function () {\n  function Element(options) {\n    _classCallCheck(this, Element);\n    /**\n     * The options for this component.\n     * @type {{}}\n     */\n\n\n    this.options = Object.assign({\n      language: 'en',\n      highlightErrors: true,\n      componentErrorClass: 'formio-error-wrapper',\n      componentWarningClass: 'formio-warning-wrapper',\n      row: '',\n      namespace: 'formio'\n    }, options || {});\n    /**\n     * The ID of this component. This value is auto-generated when the component is created, but\n     * can also be provided from the component.id value passed into the constructor.\n     * @type {string}\n     */\n\n    this.id = FormioUtils.getRandomComponentId();\n    /**\n     * An array of event handlers so that the destry command can deregister them.\n     * @type {Array}\n     */\n\n    this.eventHandlers = []; // Use the i18next that is passed in, otherwise use the global version.\n\n    this.i18next = this.options.i18next || _i18next.default;\n    /**\n     * An instance of the EventEmitter class to handle the emitting and registration of events.\n     *\n     * @type {EventEmitter}\n     */\n\n    this.events = options && options.events ? options.events : new _EventEmitter.default();\n    this.defaultMask = null;\n    /**\n     * Conditional to show or hide helplinks in editForm\n     *\n     * @type {*|boolean}\n     */\n\n    this.helplinks = this.helplinks = this.options.helplinks === 'false' ? false : this.options.helplinks || 'https://help.form.io';\n  }\n  /**\n   * Register for a new event within this component.\n   *\n   * @example\n   * let component = new BaseComponent({\n   *   type: 'textfield',\n   *   label: 'First Name',\n   *   key: 'firstName'\n   * });\n   * component.on('componentChange', (changed) => {\n   *   console.log('this element is changed.');\n   * });\n   *\n   *\n   * @param {string} event - The event you wish to register the handler for.\n   * @param {function} cb - The callback handler to handle this event.\n   */\n\n\n  _createClass(Element, [{\n    key: \"on\",\n    value: function on(event, cb, internal) {\n      var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (!this.events) {\n        return;\n      }\n\n      var type = \"\".concat(this.options.namespace, \".\").concat(event); // Store the component id in the handler so that we can determine which events are for this component.\n\n      cb.id = this.id;\n      cb.internal = internal; // Register for this event.\n\n      return this.events[once ? 'once' : 'on'](type, cb);\n    }\n    /**\n     * Register for a new single-fire event within this component.\n     *\n     * @param {string} event - The event you wish to register the handler for.\n     * @param {function} cb - The callback handler to handle this event.\n     */\n\n  }, {\n    key: \"once\",\n    value: function once(event, cb, internal) {\n      return this.on(event, cb, internal, true);\n    }\n    /**\n     * Allow catching any event.\n     *\n     * @param cb\n     * @returns {this}\n     */\n\n  }, {\n    key: \"onAny\",\n    value: function onAny(cb) {\n      if (!this.events) {\n        return;\n      }\n\n      return this.events.onAny(cb);\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param cb\n     * @returns {this}\n     */\n\n  }, {\n    key: \"offAny\",\n    value: function offAny(cb) {\n      if (!this.events) {\n        return;\n      }\n\n      return this.events.offAny(cb);\n    }\n    /**\n     * Removes a listener for a certain event. Not passing the 2nd arg will remove all listeners for that event.\n     *\n     * @param {string} event - The event you wish to register the handler for.\n     * @param {function|undefined} cb - The callback handler to handle this event.\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(event, cb) {\n      var _this = this;\n\n      if (!this.events) {\n        return;\n      }\n\n      var type = \"\".concat(this.options.namespace, \".\").concat(event);\n      this.events.listeners(type).forEach(function (listener) {\n        // Ensure the listener is for this element\n        if (!listener || listener.id !== _this.id) {\n          return;\n        } // If there is a given callback, only deal with the match\n\n\n        if (cb && cb !== listener) {\n          return;\n        }\n\n        _this.events.off(type, listener);\n      });\n    }\n    /**\n     * Emit a new event.\n     *\n     * @param {string} event - The event to emit.\n     * @param {Object} data - The data to emit with the handler.\n     */\n\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      if (this.events) {\n        var _this$events;\n\n        for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          data[_key - 1] = arguments[_key];\n        }\n\n        (_this$events = this.events).emit.apply(_this$events, [\"\".concat(this.options.namespace, \".\").concat(event)].concat(data));\n      }\n    }\n    /**\n     * Wrapper method to add an event listener to an HTML element.\n     *\n     * @param obj\n     *   The DOM element to add the event to.\n     * @param type\n     *   The event name to add.\n     * @param func\n     *   The callback function to be executed when the listener is triggered.\n     * @param persistent\n     *   If this listener should persist beyond \"destroy\" commands.\n     */\n\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(obj, type, func, persistent) {\n      if (!obj) {\n        return;\n      }\n\n      if (!persistent) {\n        this.eventHandlers.push({\n          id: this.id,\n          obj: obj,\n          type: type,\n          func: func\n        });\n      }\n\n      if ('addEventListener' in obj) {\n        obj.addEventListener(type, func, false);\n      } else if ('attachEvent' in obj) {\n        obj.attachEvent(\"on\".concat(type), func);\n      }\n\n      return this;\n    }\n    /**\n     * Remove an event listener from the object.\n     *\n     * @param obj\n     * @param type\n     */\n\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(obj, type) {\n      var _this2 = this;\n\n      var func = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var indexes = [];\n\n      if (!obj) {\n        return;\n      }\n\n      this.eventHandlers.forEach(function (handler, index) {\n        if (handler.id === _this2.id && obj.removeEventListener && handler.type === type && (!func || handler.func === func)) {\n          obj.removeEventListener(type, handler.func);\n          indexes.push(index);\n        }\n      });\n\n      if (indexes.length) {\n        _lodash.default.pullAt(this.eventHandlers, indexes);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners() {\n      var _this3 = this;\n\n      this.eventHandlers.forEach(function (handler) {\n        if (_this3.id === handler.id && handler.type && handler.obj && handler.obj.removeEventListener) {\n          handler.obj.removeEventListener(handler.type, handler.func);\n        }\n      });\n      this.eventHandlers = [];\n    }\n  }, {\n    key: \"removeAllEvents\",\n    value: function removeAllEvents(includeExternal) {\n      var _this4 = this;\n\n      _lodash.default.each(this.events._events, function (events, type) {\n        _lodash.default.each(events, function (listener) {\n          if (listener && _this4.id === listener.id && (includeExternal || listener.internal)) {\n            _this4.events.off(type, listener);\n          }\n        });\n      });\n    }\n    /**\n     * Removes all event listeners attached to this component.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.removeEventListeners();\n      this.removeAllEvents();\n    }\n    /**\n     * Append an HTML DOM element to a container.\n     *\n     * @param element\n     * @param container\n     */\n\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(element, container) {\n      container === null || container === void 0 ? void 0 : container.appendChild(element);\n      return this;\n    }\n    /**\n     * Prepend an HTML DOM element to a container.\n     *\n     * @param {HTMLElement} element - The DOM element to prepend.\n     * @param {HTMLElement} container - The DOM element that is the container of the element getting prepended.\n     */\n\n  }, {\n    key: \"prependTo\",\n    value: function prependTo(element, container) {\n      if (container) {\n        if (container.firstChild) {\n          try {\n            container.insertBefore(element, container.firstChild);\n          } catch (err) {\n            console.warn(err);\n            container.appendChild(element);\n          }\n        } else {\n          container.appendChild(element);\n        }\n      }\n\n      return this;\n    }\n    /**\n     * Removes an HTML DOM element from its bounding container.\n     *\n     * @param {HTMLElement} element - The element to remove.\n     * @param {HTMLElement} container - The DOM element that is the container of the element to remove.\n     */\n\n  }, {\n    key: \"removeChildFrom\",\n    value: function removeChildFrom(element, container) {\n      if (container && container.contains(element)) {\n        try {\n          container.removeChild(element);\n        } catch (err) {\n          console.warn(err);\n        }\n      }\n\n      return this;\n    }\n    /**\n     * Alias for document.createElement.\n     *\n     * @param {string} type - The type of element to create\n     * @param {Object} attr - The element attributes to add to the created element.\n     * @param {Various} children - Child elements. Can be a DOM Element, string or array of both.\n     *\n     * @return {HTMLElement} - The created element.\n     */\n\n  }, {\n    key: \"ce\",\n    value: function ce(type, attr) {\n      var children = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null; // console.warn('Call to deprecated this.ce(). Dom elements should be created with templates, not manually with ce.');\n      // Create the element.\n\n      var element = document.createElement(type); // Add attributes.\n\n      if (attr) {\n        this.attr(element, attr);\n      } // Append the children.\n\n\n      this.appendChild(element, children);\n      return element;\n    }\n    /**\n     * Append different types of children.\n     *\n     * @param child\n     */\n\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(element, child) {\n      var _this5 = this;\n\n      if (Array.isArray(child)) {\n        child.forEach(function (oneChild) {\n          return _this5.appendChild(element, oneChild);\n        });\n      } else if (child instanceof HTMLElement || child instanceof Text) {\n        element.appendChild(child);\n      } else if (child) {\n        element.appendChild(this.text(child.toString()));\n      }\n\n      return this;\n    }\n    /**\n     * Creates a new input mask placeholder.\n     * @param {HTMLElement} mask - The input mask.\n     * @returns {string} - The placeholder that will exist within the input as they type.\n     */\n\n  }, {\n    key: \"maskPlaceholder\",\n    value: function maskPlaceholder(mask) {\n      var _this6 = this;\n\n      return mask.map(function (char) {\n        return char instanceof RegExp ? _this6.placeholderChar : char;\n      }).join('');\n    }\n  }, {\n    key: \"placeholderChar\",\n    get: function get() {\n      var _this$component;\n\n      return ((_this$component = this.component) === null || _this$component === void 0 ? void 0 : _this$component.inputMaskPlaceholderChar) || '_';\n    }\n    /**\n     * Sets the input mask for an input.\n     *\n     * @param {HTMLElement} input - The html input to apply the mask to.\n     * @param {String} inputMask - The input mask to add to this input.\n     * @param {Boolean} usePlaceholder - Set the mask placeholder on the input.\n     */\n\n  }, {\n    key: \"setInputMask\",\n    value: function setInputMask(input, inputMask, usePlaceholder) {\n      if (input && inputMask) {\n        var mask = FormioUtils.getInputMask(inputMask, this.placeholderChar);\n        this.defaultMask = mask;\n\n        try {\n          //destroy previous mask\n          if (input.mask) {\n            input.mask.destroy();\n          }\n\n          input.mask = (0, _vanillaTextMask.default)({\n            inputElement: input,\n            mask: mask,\n            placeholderChar: this.placeholderChar,\n            shadowRoot: this.root ? this.root.shadowRoot : null\n          });\n        } catch (e) {\n          // Don't pass error up, to prevent form rejection.\n          // Internal bug of vanilla-text-mask on iOS (`selectionEnd`);\n          console.warn(e);\n        }\n\n        if (mask.numeric) {\n          input.setAttribute('pattern', '\\\\d*');\n        }\n\n        if (usePlaceholder) {\n          input.setAttribute('placeholder', this.maskPlaceholder(mask));\n        }\n      }\n    }\n    /**\n     * Translate a text using the i18n system.\n     *\n     * @param {string|Array<string>} text - The i18n identifier.\n     * @param {Object} params - The i18n parameters to use for translation.\n     */\n\n  }, {\n    key: \"t\",\n    value: function t(text) {\n      var _this$i18next;\n\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      return (_this$i18next = this.i18next).t.apply(_this$i18next, [text].concat(args));\n    }\n    /**\n     * Alias to create a text node.\n     * @param text\n     * @returns {Text}\n     */\n\n  }, {\n    key: \"text\",\n    value: function text(_text) {\n      return document.createTextNode(this.t(_text));\n    }\n    /**\n     * Adds an object of attributes onto an element.\n     * @param {HtmlElement} element - The element to add the attributes to.\n     * @param {Object} attr - The attributes to add to the input element.\n     */\n\n  }, {\n    key: \"attr\",\n    value: function attr(element, _attr) {\n      var _this7 = this;\n\n      if (!element) {\n        return;\n      }\n\n      _lodash.default.each(_attr, function (value, key) {\n        if (typeof value !== 'undefined') {\n          if (key.indexOf('on') === 0) {\n            // If this is an event, add a listener.\n            _this7.addEventListener(element, key.substr(2).toLowerCase(), value);\n          } else {\n            // Otherwise it is just an attribute.\n            element.setAttribute(key, value);\n          }\n        }\n      });\n    }\n    /**\n     * Determines if an element has a class.\n     *\n     * Taken from jQuery https://j11y.io/jquery/#v=1.5.0&fn=jQuery.fn.hasClass\n     */\n\n  }, {\n    key: \"hasClass\",\n    value: function hasClass(element, className) {\n      if (!element) {\n        return false;\n      } // Allow templates to intercept.\n\n\n      className = \" \".concat(className, \" \");\n      return \" \".concat(element.className, \" \").replace(/[\\n\\t\\r]/g, ' ').indexOf(className) > -1;\n    }\n    /**\n     * Adds a class to a DOM element.\n     *\n     * @param element\n     *   The element to add a class to.\n     * @param className\n     *   The name of the class to add.\n     */\n\n  }, {\n    key: \"addClass\",\n    value: function addClass(element, className) {\n      if (!element || !(element instanceof HTMLElement)) {\n        return this;\n      } // Allow templates to intercept.\n\n\n      var classes = element.getAttribute('class');\n\n      if (!(classes !== null && classes !== void 0 && classes.includes(className))) {\n        element.setAttribute('class', \"\".concat(classes, \" \").concat(className));\n      }\n\n      return this;\n    }\n    /**\n     * Remove a class from a DOM element.\n     *\n     * @param element\n     *   The DOM element to remove the class from.\n     * @param className\n     *   The name of the class that is to be removed.\n     */\n\n  }, {\n    key: \"removeClass\",\n    value: function removeClass(element, className) {\n      if (!element || !className || !(element instanceof HTMLElement)) {\n        return this;\n      } // Allow templates to intercept.\n\n\n      var cls = element.getAttribute('class');\n\n      if (cls) {\n        cls = cls.replace(new RegExp(\" \".concat(className), 'g'), '');\n        element.setAttribute('class', cls);\n      }\n\n      return this;\n    }\n    /**\n     * Empty's an HTML DOM element.\n     *\n     * @param {HTMLElement} element - The element you wish to empty.\n     */\n\n  }, {\n    key: \"empty\",\n    value: function empty(element) {\n      if (element) {\n        while (element.firstChild) {\n          element.removeChild(element.firstChild);\n        }\n      }\n    }\n    /**\n     * Create an evaluation context for all script executions and interpolations.\n     *\n     * @param additional\n     * @return {*}\n     */\n\n  }, {\n    key: \"evalContext\",\n    value: function evalContext(additional) {\n      var _this$options;\n\n      return Object.assign({\n        _: _lodash.default,\n        utils: FormioUtils,\n        util: FormioUtils,\n        user: _Formio.default.getUser(),\n        moment: _moment.default,\n        instance: this,\n        self: this,\n        token: _Formio.default.getToken({\n          decode: true\n        }),\n        config: this.root && this.root.form && this.root.form.config ? this.root.form.config : (_this$options = this.options) !== null && _this$options !== void 0 && _this$options.formConfig ? this.options.formConfig : {}\n      }, additional, _lodash.default.get(this.root, 'options.evalContext', {}));\n    }\n    /**\n     * Performs an interpolation using the evaluation context of this component.\n     *\n     * @param string\n     * @param data\n     * @return {XML|string|*|void}\n     */\n\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(string, data) {\n      var _this8 = this;\n\n      if (typeof string !== 'function' && this.component.content && !FormioUtils.Evaluator.templateSettings.interpolate.test(string)) {\n        string = FormioUtils.translateHTMLTemplate(String(string), function (value) {\n          return _this8.t(value);\n        });\n      }\n\n      return FormioUtils.interpolate(string, this.evalContext(data));\n    }\n    /**\n     * Performs an evaluation using the evaluation context of this component.\n     *\n     * @param func\n     * @param args\n     * @param ret\n     * @param tokenize\n     * @return {*}\n     */\n\n  }, {\n    key: \"evaluate\",\n    value: function evaluate(func, args, ret, tokenize) {\n      return FormioUtils.evaluate(func, this.evalContext(args), ret, tokenize);\n    }\n    /**\n     * Allow for options to hook into the functionality of this renderer.\n     * @return {*}\n     */\n\n  }, {\n    key: \"hook\",\n    value: function hook() {\n      var name = arguments[0];\n\n      if (this.options && this.options.hooks && this.options.hooks[name]) {\n        return this.options.hooks[name].apply(this, Array.prototype.slice.call(arguments, 1));\n      } else {\n        // If this is an async hook instead of a sync.\n        var fn = typeof arguments[arguments.length - 1] === 'function' ? arguments[arguments.length - 1] : null;\n\n        if (fn) {\n          return fn(null, arguments[1]);\n        } else {\n          return arguments[1];\n        }\n      }\n    }\n  }]);\n\n  return Element;\n}();\n\nexports.default = Element;","map":{"version":3,"sources":["C:/Users/ShyamLakhani/Desktop/my-app/node_modules/formiojs/Element.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","_EventEmitter","_interopRequireDefault","require","_Formio","FormioUtils","_interopRequireWildcard","_i18next","_lodash","_moment","_vanillaTextMask","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","Element","options","assign","language","highlightErrors","componentErrorClass","componentWarningClass","row","namespace","id","getRandomComponentId","eventHandlers","i18next","events","defaultMask","helplinks","on","event","cb","internal","once","arguments","undefined","type","concat","onAny","offAny","off","_this","listeners","forEach","listener","emit","_this$events","_len","data","Array","_key","apply","addEventListener","func","persistent","push","attachEvent","removeEventListener","_this2","indexes","handler","index","pullAt","removeEventListeners","_this3","removeAllEvents","includeExternal","_this4","each","_events","destroy","appendTo","element","container","appendChild","prependTo","firstChild","insertBefore","err","console","warn","removeChildFrom","contains","removeChild","ce","attr","children","document","createElement","child","_this5","isArray","oneChild","HTMLElement","Text","text","toString","maskPlaceholder","mask","_this6","map","char","RegExp","placeholderChar","join","_this$component","component","inputMaskPlaceholderChar","setInputMask","input","inputMask","usePlaceholder","getInputMask","inputElement","shadowRoot","root","e","numeric","setAttribute","t","_this$i18next","_len2","args","_key2","_text","createTextNode","_attr","_this7","indexOf","substr","toLowerCase","hasClass","className","replace","addClass","classes","getAttribute","includes","removeClass","cls","empty","evalContext","additional","_this$options","_","utils","util","user","getUser","moment","self","token","getToken","decode","config","form","formConfig","interpolate","string","_this8","content","Evaluator","templateSettings","test","translateHTMLTemplate","String","evaluate","ret","tokenize","hook","name","hooks","slice","fn"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.weak-map.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.object.assign.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.array.join.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.regexp.constructor.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.array.includes.js\");\n\nrequire(\"core-js/modules/es.string.includes.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nvar _EventEmitter = _interopRequireDefault(require(\"./EventEmitter\"));\n\nvar _Formio = _interopRequireDefault(require(\"./Formio\"));\n\nvar FormioUtils = _interopRequireWildcard(require(\"./utils/utils\"));\n\nvar _i18next = _interopRequireDefault(require(\"i18next\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _vanillaTextMask = _interopRequireDefault(require(\"@formio/vanilla-text-mask\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * The root component for all elements within the Form.io renderer.\n */\nvar Element = /*#__PURE__*/function () {\n  function Element(options) {\n    _classCallCheck(this, Element);\n\n    /**\n     * The options for this component.\n     * @type {{}}\n     */\n    this.options = Object.assign({\n      language: 'en',\n      highlightErrors: true,\n      componentErrorClass: 'formio-error-wrapper',\n      componentWarningClass: 'formio-warning-wrapper',\n      row: '',\n      namespace: 'formio'\n    }, options || {});\n    /**\n     * The ID of this component. This value is auto-generated when the component is created, but\n     * can also be provided from the component.id value passed into the constructor.\n     * @type {string}\n     */\n\n    this.id = FormioUtils.getRandomComponentId();\n    /**\n     * An array of event handlers so that the destry command can deregister them.\n     * @type {Array}\n     */\n\n    this.eventHandlers = []; // Use the i18next that is passed in, otherwise use the global version.\n\n    this.i18next = this.options.i18next || _i18next.default;\n    /**\n     * An instance of the EventEmitter class to handle the emitting and registration of events.\n     *\n     * @type {EventEmitter}\n     */\n\n    this.events = options && options.events ? options.events : new _EventEmitter.default();\n    this.defaultMask = null;\n    /**\n     * Conditional to show or hide helplinks in editForm\n     *\n     * @type {*|boolean}\n     */\n\n    this.helplinks = this.helplinks = this.options.helplinks === 'false' ? false : this.options.helplinks || 'https://help.form.io';\n  }\n  /**\n   * Register for a new event within this component.\n   *\n   * @example\n   * let component = new BaseComponent({\n   *   type: 'textfield',\n   *   label: 'First Name',\n   *   key: 'firstName'\n   * });\n   * component.on('componentChange', (changed) => {\n   *   console.log('this element is changed.');\n   * });\n   *\n   *\n   * @param {string} event - The event you wish to register the handler for.\n   * @param {function} cb - The callback handler to handle this event.\n   */\n\n\n  _createClass(Element, [{\n    key: \"on\",\n    value: function on(event, cb, internal) {\n      var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (!this.events) {\n        return;\n      }\n\n      var type = \"\".concat(this.options.namespace, \".\").concat(event); // Store the component id in the handler so that we can determine which events are for this component.\n\n      cb.id = this.id;\n      cb.internal = internal; // Register for this event.\n\n      return this.events[once ? 'once' : 'on'](type, cb);\n    }\n    /**\n     * Register for a new single-fire event within this component.\n     *\n     * @param {string} event - The event you wish to register the handler for.\n     * @param {function} cb - The callback handler to handle this event.\n     */\n\n  }, {\n    key: \"once\",\n    value: function once(event, cb, internal) {\n      return this.on(event, cb, internal, true);\n    }\n    /**\n     * Allow catching any event.\n     *\n     * @param cb\n     * @returns {this}\n     */\n\n  }, {\n    key: \"onAny\",\n    value: function onAny(cb) {\n      if (!this.events) {\n        return;\n      }\n\n      return this.events.onAny(cb);\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param cb\n     * @returns {this}\n     */\n\n  }, {\n    key: \"offAny\",\n    value: function offAny(cb) {\n      if (!this.events) {\n        return;\n      }\n\n      return this.events.offAny(cb);\n    }\n    /**\n     * Removes a listener for a certain event. Not passing the 2nd arg will remove all listeners for that event.\n     *\n     * @param {string} event - The event you wish to register the handler for.\n     * @param {function|undefined} cb - The callback handler to handle this event.\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(event, cb) {\n      var _this = this;\n\n      if (!this.events) {\n        return;\n      }\n\n      var type = \"\".concat(this.options.namespace, \".\").concat(event);\n      this.events.listeners(type).forEach(function (listener) {\n        // Ensure the listener is for this element\n        if (!listener || listener.id !== _this.id) {\n          return;\n        } // If there is a given callback, only deal with the match\n\n\n        if (cb && cb !== listener) {\n          return;\n        }\n\n        _this.events.off(type, listener);\n      });\n    }\n    /**\n     * Emit a new event.\n     *\n     * @param {string} event - The event to emit.\n     * @param {Object} data - The data to emit with the handler.\n     */\n\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      if (this.events) {\n        var _this$events;\n\n        for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          data[_key - 1] = arguments[_key];\n        }\n\n        (_this$events = this.events).emit.apply(_this$events, [\"\".concat(this.options.namespace, \".\").concat(event)].concat(data));\n      }\n    }\n    /**\n     * Wrapper method to add an event listener to an HTML element.\n     *\n     * @param obj\n     *   The DOM element to add the event to.\n     * @param type\n     *   The event name to add.\n     * @param func\n     *   The callback function to be executed when the listener is triggered.\n     * @param persistent\n     *   If this listener should persist beyond \"destroy\" commands.\n     */\n\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(obj, type, func, persistent) {\n      if (!obj) {\n        return;\n      }\n\n      if (!persistent) {\n        this.eventHandlers.push({\n          id: this.id,\n          obj: obj,\n          type: type,\n          func: func\n        });\n      }\n\n      if ('addEventListener' in obj) {\n        obj.addEventListener(type, func, false);\n      } else if ('attachEvent' in obj) {\n        obj.attachEvent(\"on\".concat(type), func);\n      }\n\n      return this;\n    }\n    /**\n     * Remove an event listener from the object.\n     *\n     * @param obj\n     * @param type\n     */\n\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(obj, type) {\n      var _this2 = this;\n\n      var func = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var indexes = [];\n\n      if (!obj) {\n        return;\n      }\n\n      this.eventHandlers.forEach(function (handler, index) {\n        if (handler.id === _this2.id && obj.removeEventListener && handler.type === type && (!func || handler.func === func)) {\n          obj.removeEventListener(type, handler.func);\n          indexes.push(index);\n        }\n      });\n\n      if (indexes.length) {\n        _lodash.default.pullAt(this.eventHandlers, indexes);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners() {\n      var _this3 = this;\n\n      this.eventHandlers.forEach(function (handler) {\n        if (_this3.id === handler.id && handler.type && handler.obj && handler.obj.removeEventListener) {\n          handler.obj.removeEventListener(handler.type, handler.func);\n        }\n      });\n      this.eventHandlers = [];\n    }\n  }, {\n    key: \"removeAllEvents\",\n    value: function removeAllEvents(includeExternal) {\n      var _this4 = this;\n\n      _lodash.default.each(this.events._events, function (events, type) {\n        _lodash.default.each(events, function (listener) {\n          if (listener && _this4.id === listener.id && (includeExternal || listener.internal)) {\n            _this4.events.off(type, listener);\n          }\n        });\n      });\n    }\n    /**\n     * Removes all event listeners attached to this component.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.removeEventListeners();\n      this.removeAllEvents();\n    }\n    /**\n     * Append an HTML DOM element to a container.\n     *\n     * @param element\n     * @param container\n     */\n\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(element, container) {\n      container === null || container === void 0 ? void 0 : container.appendChild(element);\n      return this;\n    }\n    /**\n     * Prepend an HTML DOM element to a container.\n     *\n     * @param {HTMLElement} element - The DOM element to prepend.\n     * @param {HTMLElement} container - The DOM element that is the container of the element getting prepended.\n     */\n\n  }, {\n    key: \"prependTo\",\n    value: function prependTo(element, container) {\n      if (container) {\n        if (container.firstChild) {\n          try {\n            container.insertBefore(element, container.firstChild);\n          } catch (err) {\n            console.warn(err);\n            container.appendChild(element);\n          }\n        } else {\n          container.appendChild(element);\n        }\n      }\n\n      return this;\n    }\n    /**\n     * Removes an HTML DOM element from its bounding container.\n     *\n     * @param {HTMLElement} element - The element to remove.\n     * @param {HTMLElement} container - The DOM element that is the container of the element to remove.\n     */\n\n  }, {\n    key: \"removeChildFrom\",\n    value: function removeChildFrom(element, container) {\n      if (container && container.contains(element)) {\n        try {\n          container.removeChild(element);\n        } catch (err) {\n          console.warn(err);\n        }\n      }\n\n      return this;\n    }\n    /**\n     * Alias for document.createElement.\n     *\n     * @param {string} type - The type of element to create\n     * @param {Object} attr - The element attributes to add to the created element.\n     * @param {Various} children - Child elements. Can be a DOM Element, string or array of both.\n     *\n     * @return {HTMLElement} - The created element.\n     */\n\n  }, {\n    key: \"ce\",\n    value: function ce(type, attr) {\n      var children = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      // console.warn('Call to deprecated this.ce(). Dom elements should be created with templates, not manually with ce.');\n      // Create the element.\n      var element = document.createElement(type); // Add attributes.\n\n      if (attr) {\n        this.attr(element, attr);\n      } // Append the children.\n\n\n      this.appendChild(element, children);\n      return element;\n    }\n    /**\n     * Append different types of children.\n     *\n     * @param child\n     */\n\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(element, child) {\n      var _this5 = this;\n\n      if (Array.isArray(child)) {\n        child.forEach(function (oneChild) {\n          return _this5.appendChild(element, oneChild);\n        });\n      } else if (child instanceof HTMLElement || child instanceof Text) {\n        element.appendChild(child);\n      } else if (child) {\n        element.appendChild(this.text(child.toString()));\n      }\n\n      return this;\n    }\n    /**\n     * Creates a new input mask placeholder.\n     * @param {HTMLElement} mask - The input mask.\n     * @returns {string} - The placeholder that will exist within the input as they type.\n     */\n\n  }, {\n    key: \"maskPlaceholder\",\n    value: function maskPlaceholder(mask) {\n      var _this6 = this;\n\n      return mask.map(function (char) {\n        return char instanceof RegExp ? _this6.placeholderChar : char;\n      }).join('');\n    }\n  }, {\n    key: \"placeholderChar\",\n    get: function get() {\n      var _this$component;\n\n      return ((_this$component = this.component) === null || _this$component === void 0 ? void 0 : _this$component.inputMaskPlaceholderChar) || '_';\n    }\n    /**\n     * Sets the input mask for an input.\n     *\n     * @param {HTMLElement} input - The html input to apply the mask to.\n     * @param {String} inputMask - The input mask to add to this input.\n     * @param {Boolean} usePlaceholder - Set the mask placeholder on the input.\n     */\n\n  }, {\n    key: \"setInputMask\",\n    value: function setInputMask(input, inputMask, usePlaceholder) {\n      if (input && inputMask) {\n        var mask = FormioUtils.getInputMask(inputMask, this.placeholderChar);\n        this.defaultMask = mask;\n\n        try {\n          //destroy previous mask\n          if (input.mask) {\n            input.mask.destroy();\n          }\n\n          input.mask = (0, _vanillaTextMask.default)({\n            inputElement: input,\n            mask: mask,\n            placeholderChar: this.placeholderChar,\n            shadowRoot: this.root ? this.root.shadowRoot : null\n          });\n        } catch (e) {\n          // Don't pass error up, to prevent form rejection.\n          // Internal bug of vanilla-text-mask on iOS (`selectionEnd`);\n          console.warn(e);\n        }\n\n        if (mask.numeric) {\n          input.setAttribute('pattern', '\\\\d*');\n        }\n\n        if (usePlaceholder) {\n          input.setAttribute('placeholder', this.maskPlaceholder(mask));\n        }\n      }\n    }\n    /**\n     * Translate a text using the i18n system.\n     *\n     * @param {string|Array<string>} text - The i18n identifier.\n     * @param {Object} params - The i18n parameters to use for translation.\n     */\n\n  }, {\n    key: \"t\",\n    value: function t(text) {\n      var _this$i18next;\n\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      return (_this$i18next = this.i18next).t.apply(_this$i18next, [text].concat(args));\n    }\n    /**\n     * Alias to create a text node.\n     * @param text\n     * @returns {Text}\n     */\n\n  }, {\n    key: \"text\",\n    value: function text(_text) {\n      return document.createTextNode(this.t(_text));\n    }\n    /**\n     * Adds an object of attributes onto an element.\n     * @param {HtmlElement} element - The element to add the attributes to.\n     * @param {Object} attr - The attributes to add to the input element.\n     */\n\n  }, {\n    key: \"attr\",\n    value: function attr(element, _attr) {\n      var _this7 = this;\n\n      if (!element) {\n        return;\n      }\n\n      _lodash.default.each(_attr, function (value, key) {\n        if (typeof value !== 'undefined') {\n          if (key.indexOf('on') === 0) {\n            // If this is an event, add a listener.\n            _this7.addEventListener(element, key.substr(2).toLowerCase(), value);\n          } else {\n            // Otherwise it is just an attribute.\n            element.setAttribute(key, value);\n          }\n        }\n      });\n    }\n    /**\n     * Determines if an element has a class.\n     *\n     * Taken from jQuery https://j11y.io/jquery/#v=1.5.0&fn=jQuery.fn.hasClass\n     */\n\n  }, {\n    key: \"hasClass\",\n    value: function hasClass(element, className) {\n      if (!element) {\n        return false;\n      } // Allow templates to intercept.\n\n\n      className = \" \".concat(className, \" \");\n      return \" \".concat(element.className, \" \").replace(/[\\n\\t\\r]/g, ' ').indexOf(className) > -1;\n    }\n    /**\n     * Adds a class to a DOM element.\n     *\n     * @param element\n     *   The element to add a class to.\n     * @param className\n     *   The name of the class to add.\n     */\n\n  }, {\n    key: \"addClass\",\n    value: function addClass(element, className) {\n      if (!element || !(element instanceof HTMLElement)) {\n        return this;\n      } // Allow templates to intercept.\n\n\n      var classes = element.getAttribute('class');\n\n      if (!(classes !== null && classes !== void 0 && classes.includes(className))) {\n        element.setAttribute('class', \"\".concat(classes, \" \").concat(className));\n      }\n\n      return this;\n    }\n    /**\n     * Remove a class from a DOM element.\n     *\n     * @param element\n     *   The DOM element to remove the class from.\n     * @param className\n     *   The name of the class that is to be removed.\n     */\n\n  }, {\n    key: \"removeClass\",\n    value: function removeClass(element, className) {\n      if (!element || !className || !(element instanceof HTMLElement)) {\n        return this;\n      } // Allow templates to intercept.\n\n\n      var cls = element.getAttribute('class');\n\n      if (cls) {\n        cls = cls.replace(new RegExp(\" \".concat(className), 'g'), '');\n        element.setAttribute('class', cls);\n      }\n\n      return this;\n    }\n    /**\n     * Empty's an HTML DOM element.\n     *\n     * @param {HTMLElement} element - The element you wish to empty.\n     */\n\n  }, {\n    key: \"empty\",\n    value: function empty(element) {\n      if (element) {\n        while (element.firstChild) {\n          element.removeChild(element.firstChild);\n        }\n      }\n    }\n    /**\n     * Create an evaluation context for all script executions and interpolations.\n     *\n     * @param additional\n     * @return {*}\n     */\n\n  }, {\n    key: \"evalContext\",\n    value: function evalContext(additional) {\n      var _this$options;\n\n      return Object.assign({\n        _: _lodash.default,\n        utils: FormioUtils,\n        util: FormioUtils,\n        user: _Formio.default.getUser(),\n        moment: _moment.default,\n        instance: this,\n        self: this,\n        token: _Formio.default.getToken({\n          decode: true\n        }),\n        config: this.root && this.root.form && this.root.form.config ? this.root.form.config : (_this$options = this.options) !== null && _this$options !== void 0 && _this$options.formConfig ? this.options.formConfig : {}\n      }, additional, _lodash.default.get(this.root, 'options.evalContext', {}));\n    }\n    /**\n     * Performs an interpolation using the evaluation context of this component.\n     *\n     * @param string\n     * @param data\n     * @return {XML|string|*|void}\n     */\n\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(string, data) {\n      var _this8 = this;\n\n      if (typeof string !== 'function' && this.component.content && !FormioUtils.Evaluator.templateSettings.interpolate.test(string)) {\n        string = FormioUtils.translateHTMLTemplate(String(string), function (value) {\n          return _this8.t(value);\n        });\n      }\n\n      return FormioUtils.interpolate(string, this.evalContext(data));\n    }\n    /**\n     * Performs an evaluation using the evaluation context of this component.\n     *\n     * @param func\n     * @param args\n     * @param ret\n     * @param tokenize\n     * @return {*}\n     */\n\n  }, {\n    key: \"evaluate\",\n    value: function evaluate(func, args, ret, tokenize) {\n      return FormioUtils.evaluate(func, this.evalContext(args), ret, tokenize);\n    }\n    /**\n     * Allow for options to hook into the functionality of this renderer.\n     * @return {*}\n     */\n\n  }, {\n    key: \"hook\",\n    value: function hook() {\n      var name = arguments[0];\n\n      if (this.options && this.options.hooks && this.options.hooks[name]) {\n        return this.options.hooks[name].apply(this, Array.prototype.slice.call(arguments, 1));\n      } else {\n        // If this is an async hook instead of a sync.\n        var fn = typeof arguments[arguments.length - 1] === 'function' ? arguments[arguments.length - 1] : null;\n\n        if (fn) {\n          return fn(null, arguments[1]);\n        } else {\n          return arguments[1];\n        }\n      }\n    }\n  }]);\n\n  return Element;\n}();\n\nexports.default = Element;"]},"metadata":{},"sourceType":"script"}