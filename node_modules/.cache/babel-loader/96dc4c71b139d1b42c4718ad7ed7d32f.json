{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSubmissions = exports.resetSubmissions = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _Formio = require('formiojs/Formio');\n\nvar _Formio2 = _interopRequireDefault(_Formio);\n\nvar _root = require('../root');\n\nvar _constants = require('./constants');\n\nvar types = _interopRequireWildcard(_constants);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar resetSubmissions = exports.resetSubmissions = function resetSubmissions(name) {\n  return {\n    type: types.SUBMISSIONS_RESET,\n    name: name\n  };\n};\n\nvar requestSubmissions = function requestSubmissions(name, page, params, formId) {\n  return {\n    type: types.SUBMISSIONS_REQUEST,\n    name: name,\n    page: page,\n    params: params,\n    formId: formId\n  };\n};\n\nvar receiveSubmissions = function receiveSubmissions(name, submissions) {\n  return {\n    type: types.SUBMISSIONS_SUCCESS,\n    name: name,\n    submissions: submissions\n  };\n};\n\nvar failSubmissions = function failSubmissions(name, error) {\n  return {\n    type: types.SUBMISSIONS_FAILURE,\n    name: name,\n    error: error\n  };\n};\n\nvar getSubmissions = exports.getSubmissions = function getSubmissions(name) {\n  var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var formId = arguments[3];\n  var done = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n  return function (dispatch, getState) {\n    dispatch(requestSubmissions(name, page, params, formId));\n\n    var _selectRoot = (0, _root.selectRoot)(name, getState()),\n        limit = _selectRoot.limit,\n        query = _selectRoot.query,\n        select = _selectRoot.select,\n        sort = _selectRoot.sort;\n\n    var formio = new _Formio2.default(_Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission');\n\n    var requestParams = _extends({}, query, params); // Ten is the default so if set to 10, don't send.\n\n\n    if (limit !== 10) {\n      requestParams.limit = limit;\n    } else {\n      delete requestParams.limit;\n    }\n\n    if (page !== 1) {\n      requestParams.skip = (page - 1) * limit;\n    } else {\n      delete requestParams.skip;\n    }\n\n    if (select) {\n      requestParams.select = select;\n    } else {\n      delete requestParams.select;\n    }\n\n    if (sort) {\n      requestParams.sort = sort;\n    } else {\n      delete requestParams.sort;\n    }\n\n    return formio.loadSubmissions({\n      params: requestParams\n    }).then(function (result) {\n      dispatch(receiveSubmissions(name, result));\n      done(null, result);\n    }).catch(function (error) {\n      dispatch(failSubmissions(name, error));\n      done(error);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/ShyamLakhani/Desktop/my-app/node_modules/react-formio/lib/modules/submissions/actions.js"],"names":["Object","defineProperty","exports","value","getSubmissions","resetSubmissions","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_Formio","require","_Formio2","_interopRequireDefault","_root","_constants","types","_interopRequireWildcard","obj","__esModule","newObj","default","name","type","SUBMISSIONS_RESET","requestSubmissions","page","params","formId","SUBMISSIONS_REQUEST","receiveSubmissions","submissions","SUBMISSIONS_SUCCESS","failSubmissions","error","SUBMISSIONS_FAILURE","done","dispatch","getState","_selectRoot","selectRoot","limit","query","select","sort","formio","getProjectUrl","requestParams","skip","loadSubmissions","then","result","catch"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSubmissions = exports.resetSubmissions = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _Formio = require('formiojs/Formio');\n\nvar _Formio2 = _interopRequireDefault(_Formio);\n\nvar _root = require('../root');\n\nvar _constants = require('./constants');\n\nvar types = _interopRequireWildcard(_constants);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar resetSubmissions = exports.resetSubmissions = function resetSubmissions(name) {\n  return {\n    type: types.SUBMISSIONS_RESET,\n    name: name\n  };\n};\n\nvar requestSubmissions = function requestSubmissions(name, page, params, formId) {\n  return {\n    type: types.SUBMISSIONS_REQUEST,\n    name: name,\n    page: page,\n    params: params,\n    formId: formId\n  };\n};\n\nvar receiveSubmissions = function receiveSubmissions(name, submissions) {\n  return {\n    type: types.SUBMISSIONS_SUCCESS,\n    name: name,\n    submissions: submissions\n  };\n};\n\nvar failSubmissions = function failSubmissions(name, error) {\n  return {\n    type: types.SUBMISSIONS_FAILURE,\n    name: name,\n    error: error\n  };\n};\n\nvar getSubmissions = exports.getSubmissions = function getSubmissions(name) {\n  var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var formId = arguments[3];\n  var done = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n  return function (dispatch, getState) {\n    dispatch(requestSubmissions(name, page, params, formId));\n\n    var _selectRoot = (0, _root.selectRoot)(name, getState()),\n        limit = _selectRoot.limit,\n        query = _selectRoot.query,\n        select = _selectRoot.select,\n        sort = _selectRoot.sort;\n\n    var formio = new _Formio2.default(_Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission');\n    var requestParams = _extends({}, query, params);\n\n    // Ten is the default so if set to 10, don't send.\n    if (limit !== 10) {\n      requestParams.limit = limit;\n    } else {\n      delete requestParams.limit;\n    }\n\n    if (page !== 1) {\n      requestParams.skip = (page - 1) * limit;\n    } else {\n      delete requestParams.skip;\n    }\n\n    if (select) {\n      requestParams.select = select;\n    } else {\n      delete requestParams.select;\n    }\n\n    if (sort) {\n      requestParams.sort = sort;\n    } else {\n      delete requestParams.sort;\n    }\n\n    return formio.loadSubmissions({ params: requestParams }).then(function (result) {\n      dispatch(receiveSubmissions(name, result));\n      done(null, result);\n    }).catch(function (error) {\n      dispatch(failSubmissions(name, error));\n      done(error);\n    });\n  };\n};"]},"metadata":{},"sourceType":"script"}